var E0=Object.create;var ys=Object.defineProperty;var C0=Object.getOwnPropertyDescriptor;var S0=Object.getOwnPropertyNames;var w0=Object.getPrototypeOf,A0=Object.prototype.hasOwnProperty;var v0=(e,r,t)=>r in e?ys(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var T0=(e,r)=>()=>(e&&(r=e(e=0)),r);var Pe=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Pd=(e,r)=>{for(var t in r)ys(e,t,{get:r[t],enumerable:!0})},Id=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of S0(r))!A0.call(e,i)&&i!==t&&ys(e,i,{get:()=>r[i],enumerable:!(n=C0(r,i))||n.enumerable});return e};var q=(e,r,t)=>(t=e!=null?E0(w0(e)):{},Id(r||!e||!e.__esModule?ys(t,"default",{value:e,enumerable:!0}):t,e)),P0=e=>Id(ys({},"__esModule",{value:!0}),e);var Nd=(e,r,t)=>v0(e,typeof r!="symbol"?r+"":r,t);var b=T0(()=>{{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"830f4f55fcdd1a1b514ef0799aac1c8367f618fd"}}});var kd=Pe((nF,Fd)=>{b();function $l(e){return e==null?[]:Array.isArray(e)?e:[e]}function I0(e,r,t,n){var i,s=e[r],o=~n.string.indexOf(r)?t==null||t===!0?"":String(t):typeof t=="boolean"?t:~n.boolean.indexOf(r)?t==="false"?!1:t==="true"||(e._.push((i=+t,i*0===0?i:t)),!!t):(i=+t,i*0===0?i:t);e[r]=s==null?o:Array.isArray(s)?s.concat(o):[s,o]}Fd.exports=function(e,r){e=e||[],r=r||{};var t,n,i,s,o,a={_:[]},l=0,u=0,c=0,p=e.length;let d=r.alias!==void 0,m=r.unknown!==void 0,f=r.default!==void 0;if(r.alias=r.alias||{},r.string=$l(r.string),r.boolean=$l(r.boolean),d)for(t in r.alias)for(n=r.alias[t]=$l(r.alias[t]),l=0;l<n.length;l++)(r.alias[n[l]]=n.concat(t)).splice(l,1);for(l=r.boolean.length;l-- >0;)for(n=r.alias[r.boolean[l]]||[],u=n.length;u-- >0;)r.boolean.push(n[u]);for(l=r.string.length;l-- >0;)for(n=r.alias[r.string[l]]||[],u=n.length;u-- >0;)r.string.push(n[u]);if(f){for(t in r.default)if(s=typeof r.default[t],n=r.alias[t]=r.alias[t]||[],r[s]!==void 0)for(r[s].push(t),l=0;l<n.length;l++)r[s].push(n[l])}let h=m?Object.keys(r.alias):[];for(l=0;l<p;l++){if(i=e[l],i==="--"){a._=a._.concat(e.slice(++l));break}for(u=0;u<i.length&&i.charCodeAt(u)===45;u++);if(u===0)a._.push(i);else if(i.substring(u,u+3)==="no-"){if(s=i.substring(u+3),m&&!~h.indexOf(s))return r.unknown(i);a[s]=!1}else{for(c=u+1;c<i.length&&i.charCodeAt(c)!==61;c++);for(s=i.substring(u,c),o=i.substring(++c)||l+1===p||(""+e[l+1]).charCodeAt(0)===45||e[++l],n=u===2?[s]:s,c=0;c<n.length;c++){if(s=n[c],m&&!~h.indexOf(s))return r.unknown("-".repeat(u)+s);I0(a,s,c+1<n.length||o,r)}}}if(f)for(t in r.default)a[t]===void 0&&(a[t]=r.default[t]);if(d)for(t in a)for(n=r.alias[t]||[];n.length>0;)a[n.shift()]=a[t];return a}});var Ro=Pe((uF,Rd)=>{"use strict";b();var Vl="\x1B",Qe=`${Vl}[`,N0="\x07",zl={to(e,r){return r?`${Qe}${r+1};${e+1}H`:`${Qe}${e+1}G`},move(e,r){let t="";return e<0?t+=`${Qe}${-e}D`:e>0&&(t+=`${Qe}${e}C`),r<0?t+=`${Qe}${-r}A`:r>0&&(t+=`${Qe}${r}B`),t},up:(e=1)=>`${Qe}${e}A`,down:(e=1)=>`${Qe}${e}B`,forward:(e=1)=>`${Qe}${e}C`,backward:(e=1)=>`${Qe}${e}D`,nextLine:(e=1)=>`${Qe}E`.repeat(e),prevLine:(e=1)=>`${Qe}F`.repeat(e),left:`${Qe}G`,hide:`${Qe}?25l`,show:`${Qe}?25h`,save:`${Vl}7`,restore:`${Vl}8`},F0={up:(e=1)=>`${Qe}S`.repeat(e),down:(e=1)=>`${Qe}T`.repeat(e)},k0={screen:`${Qe}2J`,up:(e=1)=>`${Qe}1J`.repeat(e),down:(e=1)=>`${Qe}J`.repeat(e),line:`${Qe}2K`,lineEnd:`${Qe}K`,lineStart:`${Qe}1K`,lines(e){let r="";for(let t=0;t<e;t++)r+=this.line+(t<e-1?zl.up():"");return e&&(r+=zl.left),r}};Rd.exports={cursor:zl,scroll:F0,erase:k0,beep:N0}});var et=Pe((pF,ql)=>{b();var Bo=process||{},Ld=Bo.argv||[],Lo=Bo.env||{},_0=!(Lo.NO_COLOR||Ld.includes("--no-color"))&&(!!Lo.FORCE_COLOR||Ld.includes("--color")||Bo.platform==="win32"||(Bo.stdout||{}).isTTY&&Lo.TERM!=="dumb"||!!Lo.CI),O0=(e,r,t=e)=>n=>{let i=""+n,s=i.indexOf(r,e.length);return~s?e+R0(i,r,t,s)+r:e+i+r},R0=(e,r,t,n)=>{let i="",s=0;do i+=e.substring(s,n)+t,s=n+r.length,n=e.indexOf(r,s);while(~n);return i+e.substring(s)},Bd=(e=_0)=>{let r=e?O0:()=>String;return{isColorSupported:e,reset:r("\x1B[0m","\x1B[0m"),bold:r("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:r("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:r("\x1B[3m","\x1B[23m"),underline:r("\x1B[4m","\x1B[24m"),inverse:r("\x1B[7m","\x1B[27m"),hidden:r("\x1B[8m","\x1B[28m"),strikethrough:r("\x1B[9m","\x1B[29m"),black:r("\x1B[30m","\x1B[39m"),red:r("\x1B[31m","\x1B[39m"),green:r("\x1B[32m","\x1B[39m"),yellow:r("\x1B[33m","\x1B[39m"),blue:r("\x1B[34m","\x1B[39m"),magenta:r("\x1B[35m","\x1B[39m"),cyan:r("\x1B[36m","\x1B[39m"),white:r("\x1B[37m","\x1B[39m"),gray:r("\x1B[90m","\x1B[39m"),bgBlack:r("\x1B[40m","\x1B[49m"),bgRed:r("\x1B[41m","\x1B[49m"),bgGreen:r("\x1B[42m","\x1B[49m"),bgYellow:r("\x1B[43m","\x1B[49m"),bgBlue:r("\x1B[44m","\x1B[49m"),bgMagenta:r("\x1B[45m","\x1B[49m"),bgCyan:r("\x1B[46m","\x1B[49m"),bgWhite:r("\x1B[47m","\x1B[49m"),blackBright:r("\x1B[90m","\x1B[39m"),redBright:r("\x1B[91m","\x1B[39m"),greenBright:r("\x1B[92m","\x1B[39m"),yellowBright:r("\x1B[93m","\x1B[39m"),blueBright:r("\x1B[94m","\x1B[39m"),magentaBright:r("\x1B[95m","\x1B[39m"),cyanBright:r("\x1B[96m","\x1B[39m"),whiteBright:r("\x1B[97m","\x1B[39m"),bgBlackBright:r("\x1B[100m","\x1B[49m"),bgRedBright:r("\x1B[101m","\x1B[49m"),bgGreenBright:r("\x1B[102m","\x1B[49m"),bgYellowBright:r("\x1B[103m","\x1B[49m"),bgBlueBright:r("\x1B[104m","\x1B[49m"),bgMagentaBright:r("\x1B[105m","\x1B[49m"),bgCyanBright:r("\x1B[106m","\x1B[49m"),bgWhiteBright:r("\x1B[107m","\x1B[49m")}};ql.exports=Bd();ql.exports.createColors=Bd});var af=Pe((kF,of)=>{"use strict";b();of.exports=function(){if(process.env.npm_config_user_agent)return hE(process.env.npm_config_user_agent)};function hE(e){let r=e.split(" ")[0],t=r.lastIndexOf("/"),n=r.substring(0,t);return{name:n==="npminstall"?"cnpm":n,version:r.substring(t+1)}}});var Om=Pe((hL,ia)=>{b();ia.exports.Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/;ia.exports.ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;ia.exports.ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/});var vu=Pe((yL,Rm)=>{b();var Au=Om();Rm.exports={isSpaceSeparator(e){return typeof e=="string"&&Au.Space_Separator.test(e)},isIdStartChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||Au.ID_Start.test(e))},isIdContinueChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e==="\u200C"||e==="\u200D"||Au.ID_Continue.test(e))},isDigit(e){return typeof e=="string"&&/[0-9]/.test(e)},isHexDigit(e){return typeof e=="string"&&/[0-9A-Fa-f]/.test(e)}}});var Um=Pe((DL,$m)=>{b();var ft=vu(),Pu,Bt,sn,oa,In,br,mt,Fu,Os;$m.exports=function(r,t){Pu=String(r),Bt="start",sn=[],oa=0,In=1,br=0,mt=void 0,Fu=void 0,Os=void 0;do mt=RS(),MS[Bt]();while(mt.type!=="eof");return typeof t=="function"?Iu({"":Os},"",t):Os};function Iu(e,r,t){let n=e[r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let i=0;i<n.length;i++){let s=String(i),o=Iu(n,s,t);o===void 0?delete n[s]:Object.defineProperty(n,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(let i in n){let s=Iu(n,i,t);s===void 0?delete n[i]:Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0})}return t.call(e,r,n)}var ce,le,_s,nn,ye;function RS(){for(ce="default",le="",_s=!1,nn=1;;){ye=on();let e=Bm[ce]();if(e)return e}}function on(){if(Pu[oa])return String.fromCodePoint(Pu.codePointAt(oa))}function F(){let e=on();return e===`
`?(In++,br=0):e?br+=e.length:br++,e&&(oa+=e.length),e}var Bm={default(){switch(ye){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":F();return;case"/":F(),ce="comment";return;case void 0:return F(),ze("eof")}if(ft.isSpaceSeparator(ye)){F();return}return Bm[Bt]()},comment(){switch(ye){case"*":F(),ce="multiLineComment";return;case"/":F(),ce="singleLineComment";return}throw qe(F())},multiLineComment(){switch(ye){case"*":F(),ce="multiLineCommentAsterisk";return;case void 0:throw qe(F())}F()},multiLineCommentAsterisk(){switch(ye){case"*":F();return;case"/":F(),ce="default";return;case void 0:throw qe(F())}F(),ce="multiLineComment"},singleLineComment(){switch(ye){case`
`:case"\r":case"\u2028":case"\u2029":F(),ce="default";return;case void 0:return F(),ze("eof")}F()},value(){switch(ye){case"{":case"[":return ze("punctuator",F());case"n":return F(),Zn("ull"),ze("null",null);case"t":return F(),Zn("rue"),ze("boolean",!0);case"f":return F(),Zn("alse"),ze("boolean",!1);case"-":case"+":F()==="-"&&(nn=-1),ce="sign";return;case".":le=F(),ce="decimalPointLeading";return;case"0":le=F(),ce="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":le=F(),ce="decimalInteger";return;case"I":return F(),Zn("nfinity"),ze("numeric",1/0);case"N":return F(),Zn("aN"),ze("numeric",NaN);case'"':case"'":_s=F()==='"',le="",ce="string";return}throw qe(F())},identifierNameStartEscape(){if(ye!=="u")throw qe(F());F();let e=Nu();switch(e){case"$":case"_":break;default:if(!ft.isIdStartChar(e))throw Lm();break}le+=e,ce="identifierName"},identifierName(){switch(ye){case"$":case"_":case"\u200C":case"\u200D":le+=F();return;case"\\":F(),ce="identifierNameEscape";return}if(ft.isIdContinueChar(ye)){le+=F();return}return ze("identifier",le)},identifierNameEscape(){if(ye!=="u")throw qe(F());F();let e=Nu();switch(e){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!ft.isIdContinueChar(e))throw Lm();break}le+=e,ce="identifierName"},sign(){switch(ye){case".":le=F(),ce="decimalPointLeading";return;case"0":le=F(),ce="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":le=F(),ce="decimalInteger";return;case"I":return F(),Zn("nfinity"),ze("numeric",nn*(1/0));case"N":return F(),Zn("aN"),ze("numeric",NaN)}throw qe(F())},zero(){switch(ye){case".":le+=F(),ce="decimalPoint";return;case"e":case"E":le+=F(),ce="decimalExponent";return;case"x":case"X":le+=F(),ce="hexadecimal";return}return ze("numeric",nn*0)},decimalInteger(){switch(ye){case".":le+=F(),ce="decimalPoint";return;case"e":case"E":le+=F(),ce="decimalExponent";return}if(ft.isDigit(ye)){le+=F();return}return ze("numeric",nn*Number(le))},decimalPointLeading(){if(ft.isDigit(ye)){le+=F(),ce="decimalFraction";return}throw qe(F())},decimalPoint(){switch(ye){case"e":case"E":le+=F(),ce="decimalExponent";return}if(ft.isDigit(ye)){le+=F(),ce="decimalFraction";return}return ze("numeric",nn*Number(le))},decimalFraction(){switch(ye){case"e":case"E":le+=F(),ce="decimalExponent";return}if(ft.isDigit(ye)){le+=F();return}return ze("numeric",nn*Number(le))},decimalExponent(){switch(ye){case"+":case"-":le+=F(),ce="decimalExponentSign";return}if(ft.isDigit(ye)){le+=F(),ce="decimalExponentInteger";return}throw qe(F())},decimalExponentSign(){if(ft.isDigit(ye)){le+=F(),ce="decimalExponentInteger";return}throw qe(F())},decimalExponentInteger(){if(ft.isDigit(ye)){le+=F();return}return ze("numeric",nn*Number(le))},hexadecimal(){if(ft.isHexDigit(ye)){le+=F(),ce="hexadecimalInteger";return}throw qe(F())},hexadecimalInteger(){if(ft.isHexDigit(ye)){le+=F();return}return ze("numeric",nn*Number(le))},string(){switch(ye){case"\\":F(),le+=LS();return;case'"':if(_s)return F(),ze("string",le);le+=F();return;case"'":if(!_s)return F(),ze("string",le);le+=F();return;case`
`:case"\r":throw qe(F());case"\u2028":case"\u2029":$S(ye);break;case void 0:throw qe(F())}le+=F()},start(){switch(ye){case"{":case"[":return ze("punctuator",F())}ce="value"},beforePropertyName(){switch(ye){case"$":case"_":le=F(),ce="identifierName";return;case"\\":F(),ce="identifierNameStartEscape";return;case"}":return ze("punctuator",F());case'"':case"'":_s=F()==='"',ce="string";return}if(ft.isIdStartChar(ye)){le+=F(),ce="identifierName";return}throw qe(F())},afterPropertyName(){if(ye===":")return ze("punctuator",F());throw qe(F())},beforePropertyValue(){ce="value"},afterPropertyValue(){switch(ye){case",":case"}":return ze("punctuator",F())}throw qe(F())},beforeArrayValue(){if(ye==="]")return ze("punctuator",F());ce="value"},afterArrayValue(){switch(ye){case",":case"]":return ze("punctuator",F())}throw qe(F())},end(){throw qe(F())}};function ze(e,r){return{type:e,value:r,line:In,column:br}}function Zn(e){for(let r of e){if(on()!==r)throw qe(F());F()}}function LS(){switch(on()){case"b":return F(),"\b";case"f":return F(),"\f";case"n":return F(),`
`;case"r":return F(),"\r";case"t":return F(),"	";case"v":return F(),"\v";case"0":if(F(),ft.isDigit(on()))throw qe(F());return"\0";case"x":return F(),BS();case"u":return F(),Nu();case`
`:case"\u2028":case"\u2029":return F(),"";case"\r":return F(),on()===`
`&&F(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw qe(F());case void 0:throw qe(F())}return F()}function BS(){let e="",r=on();if(!ft.isHexDigit(r)||(e+=F(),r=on(),!ft.isHexDigit(r)))throw qe(F());return e+=F(),String.fromCodePoint(parseInt(e,16))}function Nu(){let e="",r=4;for(;r-- >0;){let t=on();if(!ft.isHexDigit(t))throw qe(F());e+=F()}return String.fromCodePoint(parseInt(e,16))}var MS={start(){if(mt.type==="eof")throw ei();Tu()},beforePropertyName(){switch(mt.type){case"identifier":case"string":Fu=mt.value,Bt="afterPropertyName";return;case"punctuator":sa();return;case"eof":throw ei()}},afterPropertyName(){if(mt.type==="eof")throw ei();Bt="beforePropertyValue"},beforePropertyValue(){if(mt.type==="eof")throw ei();Tu()},beforeArrayValue(){if(mt.type==="eof")throw ei();if(mt.type==="punctuator"&&mt.value==="]"){sa();return}Tu()},afterPropertyValue(){if(mt.type==="eof")throw ei();switch(mt.value){case",":Bt="beforePropertyName";return;case"}":sa()}},afterArrayValue(){if(mt.type==="eof")throw ei();switch(mt.value){case",":Bt="beforeArrayValue";return;case"]":sa()}},end(){}};function Tu(){let e;switch(mt.type){case"punctuator":switch(mt.value){case"{":e={};break;case"[":e=[];break}break;case"null":case"boolean":case"numeric":case"string":e=mt.value;break}if(Os===void 0)Os=e;else{let r=sn[sn.length-1];Array.isArray(r)?r.push(e):Object.defineProperty(r,Fu,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(e!==null&&typeof e=="object")sn.push(e),Array.isArray(e)?Bt="beforeArrayValue":Bt="beforePropertyName";else{let r=sn[sn.length-1];r==null?Bt="end":Array.isArray(r)?Bt="afterArrayValue":Bt="afterPropertyValue"}}function sa(){sn.pop();let e=sn[sn.length-1];e==null?Bt="end":Array.isArray(e)?Bt="afterArrayValue":Bt="afterPropertyValue"}function qe(e){return aa(e===void 0?`JSON5: invalid end of input at ${In}:${br}`:`JSON5: invalid character '${Mm(e)}' at ${In}:${br}`)}function ei(){return aa(`JSON5: invalid end of input at ${In}:${br}`)}function Lm(){return br-=5,aa(`JSON5: invalid identifier character at ${In}:${br}`)}function $S(e){console.warn(`JSON5: '${Mm(e)}' in strings is not valid ECMAScript; consider escaping`)}function Mm(e){let r={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(r[e])return r[e];if(e<" "){let t=e.charCodeAt(0).toString(16);return"\\x"+("00"+t).substring(t.length)}return e}function aa(e){let r=new SyntaxError(e);return r.lineNumber=In,r.columnNumber=br,r}});var Km=Pe((EL,jm)=>{b();var ku=vu();jm.exports=function(r,t,n){let i=[],s="",o,a,l="",u;if(t!=null&&typeof t=="object"&&!Array.isArray(t)&&(n=t.space,u=t.quote,t=t.replacer),typeof t=="function")a=t;else if(Array.isArray(t)){o=[];for(let h of t){let g;typeof h=="string"?g=h:(typeof h=="number"||h instanceof String||h instanceof Number)&&(g=String(h)),g!==void 0&&o.indexOf(g)<0&&o.push(g)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),typeof n=="number"?n>0&&(n=Math.min(10,Math.floor(n)),l="          ".substr(0,n)):typeof n=="string"&&(l=n.substr(0,10)),c("",{"":r});function c(h,g){let y=g[h];switch(y!=null&&(typeof y.toJSON5=="function"?y=y.toJSON5(h):typeof y.toJSON=="function"&&(y=y.toJSON(h))),a&&(y=a.call(g,h,y)),y instanceof Number?y=Number(y):y instanceof String?y=String(y):y instanceof Boolean&&(y=y.valueOf()),y){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof y=="string")return p(y,!1);if(typeof y=="number")return String(y);if(typeof y=="object")return Array.isArray(y)?f(y):d(y)}function p(h){let g={"'":.1,'"':.2},y={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},x="";for(let D=0;D<h.length;D++){let E=h[D];switch(E){case"'":case'"':g[E]++,x+=E;continue;case"\0":if(ku.isDigit(h[D+1])){x+="\\x00";continue}}if(y[E]){x+=y[E];continue}if(E<" "){let S=E.charCodeAt(0).toString(16);x+="\\x"+("00"+S).substring(S.length);continue}x+=E}let C=u||Object.keys(g).reduce((D,E)=>g[D]<g[E]?D:E);return x=x.replace(new RegExp(C,"g"),y[C]),C+x+C}function d(h){if(i.indexOf(h)>=0)throw TypeError("Converting circular structure to JSON5");i.push(h);let g=s;s=s+l;let y=o||Object.keys(h),x=[];for(let D of y){let E=c(D,h);if(E!==void 0){let S=m(D)+":";l!==""&&(S+=" "),S+=E,x.push(S)}}let C;if(x.length===0)C="{}";else{let D;if(l==="")D=x.join(","),C="{"+D+"}";else{let E=`,
`+s;D=x.join(E),C=`{
`+s+D+`,
`+g+"}"}}return i.pop(),s=g,C}function m(h){if(h.length===0)return p(h,!0);let g=String.fromCodePoint(h.codePointAt(0));if(!ku.isIdStartChar(g))return p(h,!0);for(let y=g.length;y<h.length;y++)if(!ku.isIdContinueChar(String.fromCodePoint(h.codePointAt(y))))return p(h,!0);return h}function f(h){if(i.indexOf(h)>=0)throw TypeError("Converting circular structure to JSON5");i.push(h);let g=s;s=s+l;let y=[];for(let C=0;C<h.length;C++){let D=c(String(C),h);y.push(D!==void 0?D:"null")}let x;if(y.length===0)x="[]";else if(l==="")x="["+y.join(",")+"]";else{let C=`,
`+s,D=y.join(C);x=`[
`+s+D+`,
`+g+"]"}return i.pop(),s=g,x}}});var zm=Pe((SL,Vm)=>{b();var US=Um(),jS=Km(),KS={parse:US,stringify:jS};Vm.exports=KS});var Ou=Pe(Nn=>{"use strict";b();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.throwUnsupportedData=Nn.throwUnknownDataType=Nn.getType=void 0;function Zm(e){return Object.prototype.toString.call(e)}Nn.getType=Zm;function ZS(e){throw new TypeError("unsupported data type: "+Zm(e))}Nn.throwUnknownDataType=ZS;function ew(e){throw new TypeError("unsupported data type: "+e)}Nn.throwUnsupportedData=ew});var $u=Pe(Tt=>{"use strict";b();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.s_to_num=Tt.int_str_to_s=Tt.num_to_s=Tt.big_int_to_s=Tt.int_to_s=Tt.s_to_big_int=Tt.s_to_int=void 0;var an="";for(let e=0;e<10;e++){let r=String.fromCharCode(48+e);an+=r}for(let e=0;e<26;e++){let r=String.fromCharCode(65+e);an+=r}for(let e=0;e<26;e++){let r=String.fromCharCode(97+e);an+=r}var Fi=an.length,Lu={};for(let e=0;e<Fi;e++){let r=an[e];Lu[r]=e}function Bu(e){let r=0,t=1;for(let n=e.length-1;n>=0;n--){let i=e[n],s=Lu[i];s*=t,r+=s,t*=Fi}return r}Tt.s_to_int=Bu;function eh(e){let r=BigInt(0),t=BigInt(1),n=BigInt(Fi);for(let i=e.length-1;i>=0;i--){let s=e[i],o=BigInt(Lu[s]);o*=t,r+=o,t*=n}return r}Tt.s_to_big_int=eh;function Mu(e){if(e===0)return an[0];let r=[];for(;e!==0;){let t=e%Fi,n=an[t];r.push(n),e-=t,e/=Fi}return r.reverse().join("")}Tt.int_to_s=Mu;function th(e){let r=BigInt(0),t=BigInt(Fi);if(e===r)return an[0];let n=[];for(;e!==r;){let i=e%t,s=an[Number(i)];n.push(s),e/=t}return n.reverse().join("")}Tt.big_int_to_s=th;function rh(e){return e.split("").reverse().join("")}function nh(e){if(e<0)return"-"+nh(-e);let[r,t]=e.toString().split(".");if(!t)if(r.includes("e")){let[s,o]=r.split("e");r=s,t="0e"+o}else return Mu(e);let n;t&&([t,n]=t.split("e")),r=ua(r),t=rh(t),t=ua(t);let i=r+"."+t;if(n){switch(i+=".",n[0]){case"+":n=n.slice(1);break;case"-":i+="-",n=n.slice(1);break}n=ua(n),i+=n}return i}Tt.num_to_s=nh;function ua(e){let r=+e;return r.toString()===e&&r+1!==r&&r-1!==r?Mu(r):":"+th(BigInt(e))}Tt.int_str_to_s=ua;function Ru(e){return e[0]===":"?eh(e.substring(1)).toString():Bu(e).toString()}function ih(e){if(e[0]==="-")return-ih(e.substr(1));let[r,t,n]=e.split(".");if(!t)return Bu(r);r=Ru(r),t=Ru(t),t=rh(t);let i=r+"."+t;if(n){i+="e";let s=!1;n[0]==="-"&&(s=!0,n=n.slice(1)),n=Ru(n),i+=s?-n:+n}return+i}Tt.s_to_num=ih});var ju=Pe(Pt=>{"use strict";b();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.decodeStr=Pt.encodeStr=Pt.decodeBool=Pt.encodeBool=Pt.decodeKey=Pt.decodeNum=Pt.encodeNum=void 0;var Uu=$u();function tw(e){return"n|"+(0,Uu.num_to_s)(e)}Pt.encodeNum=tw;function rw(e){return e=e.replace("n|",""),(0,Uu.s_to_num)(e)}Pt.decodeNum=rw;function nw(e){return typeof e=="number"?e:(0,Uu.s_to_int)(e)}Pt.decodeKey=nw;function iw(e){return e?"b|T":"b|F"}Pt.encodeBool=iw;function sw(e){switch(e){case"b|T":return!0;case"b|F":return!1}return!!e}Pt.decodeBool=sw;function ow(e){switch(e[0]+e[1]){case"b|":case"o|":case"n|":case"a|":case"s|":e="s|"+e}return e}Pt.encodeStr=ow;function aw(e){return e[0]+e[1]==="s|"?e.substr(2):e}Pt.decodeStr=aw});var Ku=Pe(ca=>{"use strict";b();Object.defineProperty(ca,"__esModule",{value:!0});ca.config=void 0;ca.config={sort_key:!1,error_on_nan:!1,error_on_infinite:!1}});var Wu=Pe(ur=>{"use strict";b();Object.defineProperty(ur,"__esModule",{value:!0});ur.addValue=ur.makeInMemoryMemory=ur.makeInMemoryCache=ur.makeInMemoryStore=ur.memToValues=void 0;var qu=Ku(),Vu=Ou(),zu=ju(),lw=$u();function uw(e){return e.store.toArray()}ur.memToValues=uw;function sh(){let e=[];return{forEach(r){for(let t=0;t<e.length;t++)if(r(e[t])==="break")return},add(r){e.push(r)},toArray(){return e}}}ur.makeInMemoryStore=sh;function oh(){let e=Object.create(null),r=Object.create(null);return{getValue(t){return e[t]},getSchema(t){return r[t]},forEachValue(t){for(let[n,i]of Object.entries(e))if(t(n,i)==="break")return},forEachSchema(t){for(let[n,i]of Object.entries(r))if(t(n,i)==="break")return},setValue(t,n){e[t]=n},setSchema(t,n){r[t]=n},hasValue(t){return t in e},hasSchema(t){return t in r}}}ur.makeInMemoryCache=oh;function cw(){return{store:sh(),cache:oh(),keyCount:0}}ur.makeInMemoryMemory=cw;function ti(e,r){if(e.cache.hasValue(r))return e.cache.getValue(r);let t=e.keyCount++,n=(0,lw.num_to_s)(t);return e.store.add(r),e.cache.setValue(r,n),n}function pw(e,r){qu.config.sort_key&&r.sort();let t=r.join(",");if(e.cache.hasSchema(t))return e.cache.getSchema(t);let n=Rs(e,r,void 0);return e.cache.setSchema(t,n),n}function Rs(e,r,t){if(r===null)return"";switch(typeof r){case"undefined":if(Array.isArray(t))return Rs(e,null,t);break;case"object":if(r===null)return ti(e,null);if(Array.isArray(r)){let n="a";for(let i=0;i<r.length;i++){let s=r[i],o=s===null?"_":Rs(e,s,r);n+="|"+o}return n==="a"&&(n="a|"),ti(e,n)}else{let n=Object.keys(r);if(n.length===0)return ti(e,"o|");let i="o",s=pw(e,n);i+="|"+s;for(let o of n){let a=r[o],l=Rs(e,a,r);i+="|"+l}return ti(e,i)}case"boolean":return ti(e,(0,zu.encodeBool)(r));case"number":return Number.isNaN(r)?(qu.config.error_on_nan&&(0,Vu.throwUnsupportedData)("[number NaN]"),""):Number.POSITIVE_INFINITY===r||Number.NEGATIVE_INFINITY===r?(qu.config.error_on_infinite&&(0,Vu.throwUnsupportedData)("[number Infinity]"),""):ti(e,(0,zu.encodeNum)(r));case"string":return ti(e,(0,zu.encodeStr)(r))}return(0,Vu.throwUnknownDataType)(r)}ur.addValue=Rs});var Hu=Pe(Fn=>{"use strict";b();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.decompress=Fn.decode=Fn.compress=void 0;var dw=Ou(),pa=ju(),Gu=Wu();function fw(e){let r=(0,Gu.makeInMemoryMemory)(),t=(0,Gu.addValue)(r,e,void 0);return[(0,Gu.memToValues)(r),t]}Fn.compress=fw;function mw(e,r){if(r==="o|")return{};let t={},n=r.split("|"),i=n[1],s=Ls(e,i),o=n.length;o-2===1&&!Array.isArray(s)&&(s=[s]);for(let a=2;a<o;a++){let l=s[a-2],u=n[a];u=Ls(e,u),t[l]=u}return t}function hw(e,r){if(r==="a|")return[];let t=r.split("|"),n=t.length-1,i=new Array(n);for(let s=0;s<n;s++){let o=t[s+1];o=Ls(e,o),i[s]=o}return i}function Ls(e,r){if(r===""||r==="_")return null;let t=(0,pa.decodeKey)(r),n=e[t];if(n===null)return n;switch(typeof n){case"undefined":return n;case"number":return n;case"string":switch(n[0]+n[1]){case"b|":return(0,pa.decodeBool)(n);case"o|":return mw(e,n);case"n|":return(0,pa.decodeNum)(n);case"a|":return hw(e,n);default:return(0,pa.decodeStr)(n)}}return(0,dw.throwUnknownDataType)(n)}Fn.decode=Ls;function gw(e){let[r,t]=e;return Ls(r,t)}Fn.decompress=gw});var lh=Pe(ki=>{"use strict";b();Object.defineProperty(ki,"__esModule",{value:!0});ki.trimUndefinedRecursively=ki.trimUndefined=void 0;function yw(e){for(let r in e)e[r]===void 0&&delete e[r]}ki.trimUndefined=yw;function bw(e){ah(e,new Set)}ki.trimUndefinedRecursively=bw;function ah(e,r){r.add(e);for(let t in e)if(e[t]===void 0)delete e[t];else{let n=e[t];n&&typeof n=="object"&&!r.has(n)&&ah(n,r)}}});var ph=Pe(It=>{"use strict";b();Object.defineProperty(It,"__esModule",{value:!0});It.config=It.trimUndefinedRecursively=It.trimUndefined=It.addValue=It.decode=It.decompress=It.compress=void 0;var uh=Hu();Object.defineProperty(It,"compress",{enumerable:!0,get:function(){return uh.compress}});Object.defineProperty(It,"decompress",{enumerable:!0,get:function(){return uh.decompress}});var Dw=Hu();Object.defineProperty(It,"decode",{enumerable:!0,get:function(){return Dw.decode}});var xw=Wu();Object.defineProperty(It,"addValue",{enumerable:!0,get:function(){return xw.addValue}});var ch=lh();Object.defineProperty(It,"trimUndefined",{enumerable:!0,get:function(){return ch.trimUndefined}});Object.defineProperty(It,"trimUndefinedRecursively",{enumerable:!0,get:function(){return ch.trimUndefinedRecursively}});var Ew=Ku();Object.defineProperty(It,"config",{enumerable:!0,get:function(){return Ew.config}})});var $g=Pe((f6,Mg)=>{b();function vg(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(r=>{let t=e[r],n=typeof t;(n==="object"||n==="function")&&!Object.isFrozen(t)&&vg(t)}),e}var Ea=class{constructor(r){r.data===void 0&&(r.data={}),this.data=r.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function Tg(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function _n(e,...r){let t=Object.create(null);for(let n in e)t[n]=e[n];return r.forEach(function(n){for(let i in n)t[i]=n[i]}),t}var tA="</span>",xg=e=>!!e.scope,rA=(e,{prefix:r})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){let t=e.split(".");return[`${r}${t.shift()}`,...t.map((n,i)=>`${n}${"_".repeat(i+1)}`)].join(" ")}return`${r}${e}`},ec=class{constructor(r,t){this.buffer="",this.classPrefix=t.classPrefix,r.walk(this)}addText(r){this.buffer+=Tg(r)}openNode(r){if(!xg(r))return;let t=rA(r.scope,{prefix:this.classPrefix});this.span(t)}closeNode(r){xg(r)&&(this.buffer+=tA)}value(){return this.buffer}span(r){this.buffer+=`<span class="${r}">`}},Eg=(e={})=>{let r={children:[]};return Object.assign(r,e),r},tc=class e{constructor(){this.rootNode=Eg(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(r){this.top.children.push(r)}openNode(r){let t=Eg({scope:r});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(r){return this.constructor._walk(r,this.rootNode)}static _walk(r,t){return typeof t=="string"?r.addText(t):t.children&&(r.openNode(t),t.children.forEach(n=>this._walk(r,n)),r.closeNode(t)),r}static _collapse(r){typeof r!="string"&&r.children&&(r.children.every(t=>typeof t=="string")?r.children=[r.children.join("")]:r.children.forEach(t=>{e._collapse(t)}))}},rc=class extends tc{constructor(r){super(),this.options=r}addText(r){r!==""&&this.add(r)}startScope(r){this.openNode(r)}endScope(){this.closeNode()}__addSublanguage(r,t){let n=r.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new ec(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function Bs(e){return e?typeof e=="string"?e:e.source:null}function Pg(e){return ni("(?=",e,")")}function nA(e){return ni("(?:",e,")*")}function iA(e){return ni("(?:",e,")?")}function ni(...e){return e.map(t=>Bs(t)).join("")}function sA(e){let r=e[e.length-1];return typeof r=="object"&&r.constructor===Object?(e.splice(e.length-1,1),r):{}}function ic(...e){return"("+(sA(e).capture?"":"?:")+e.map(n=>Bs(n)).join("|")+")"}function Ig(e){return new RegExp(e.toString()+"|").exec("").length-1}function oA(e,r){let t=e&&e.exec(r);return t&&t.index===0}var aA=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function sc(e,{joinWith:r}){let t=0;return e.map(n=>{t+=1;let i=t,s=Bs(n),o="";for(;s.length>0;){let a=aA.exec(s);if(!a){o+=s;break}o+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+i):(o+=a[0],a[0]==="("&&t++)}return o}).map(n=>`(${n})`).join(r)}var lA=/\b\B/,Ng="[a-zA-Z]\\w*",oc="[a-zA-Z_]\\w*",Fg="\\b\\d+(\\.\\d+)?",kg="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",_g="\\b(0b[01]+)",uA="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",cA=(e={})=>{let r=/^#![ ]*\//;return e.binary&&(e.begin=ni(r,/.*\b/,e.binary,/\b.*/)),_n({scope:"meta",begin:r,end:/$/,relevance:0,"on:begin":(t,n)=>{t.index!==0&&n.ignoreMatch()}},e)},Ms={begin:"\\\\[\\s\\S]",relevance:0},pA={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ms]},dA={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ms]},fA={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Sa=function(e,r,t={}){let n=_n({scope:"comment",begin:e,end:r,contains:[]},t);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let i=ic("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:ni(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},mA=Sa("//","$"),hA=Sa("/\\*","\\*/"),gA=Sa("#","$"),yA={scope:"number",begin:Fg,relevance:0},bA={scope:"number",begin:kg,relevance:0},DA={scope:"number",begin:_g,relevance:0},xA={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Ms,{begin:/\[/,end:/\]/,relevance:0,contains:[Ms]}]},EA={scope:"title",begin:Ng,relevance:0},CA={scope:"title",begin:oc,relevance:0},SA={begin:"\\.\\s*"+oc,relevance:0},wA=function(e){return Object.assign(e,{"on:begin":(r,t)=>{t.data._beginMatch=r[1]},"on:end":(r,t)=>{t.data._beginMatch!==r[1]&&t.ignoreMatch()}})},xa=Object.freeze({__proto__:null,APOS_STRING_MODE:pA,BACKSLASH_ESCAPE:Ms,BINARY_NUMBER_MODE:DA,BINARY_NUMBER_RE:_g,COMMENT:Sa,C_BLOCK_COMMENT_MODE:hA,C_LINE_COMMENT_MODE:mA,C_NUMBER_MODE:bA,C_NUMBER_RE:kg,END_SAME_AS_BEGIN:wA,HASH_COMMENT_MODE:gA,IDENT_RE:Ng,MATCH_NOTHING_RE:lA,METHOD_GUARD:SA,NUMBER_MODE:yA,NUMBER_RE:Fg,PHRASAL_WORDS_MODE:fA,QUOTE_STRING_MODE:dA,REGEXP_MODE:xA,RE_STARTERS_RE:uA,SHEBANG:cA,TITLE_MODE:EA,UNDERSCORE_IDENT_RE:oc,UNDERSCORE_TITLE_MODE:CA});function AA(e,r){e.input[e.index-1]==="."&&r.ignoreMatch()}function vA(e,r){e.className!==void 0&&(e.scope=e.className,delete e.className)}function TA(e,r){r&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=AA,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function PA(e,r){Array.isArray(e.illegal)&&(e.illegal=ic(...e.illegal))}function IA(e,r){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function NA(e,r){e.relevance===void 0&&(e.relevance=1)}var FA=(e,r)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");let t=Object.assign({},e);Object.keys(e).forEach(n=>{delete e[n]}),e.keywords=t.keywords,e.begin=ni(t.beforeMatch,Pg(t.begin)),e.starts={relevance:0,contains:[Object.assign(t,{endsParent:!0})]},e.relevance=0,delete t.beforeMatch},kA=["of","and","for","in","not","or","if","then","parent","list","value"],_A="keyword";function Og(e,r,t=_A){let n=Object.create(null);return typeof e=="string"?i(t,e.split(" ")):Array.isArray(e)?i(t,e):Object.keys(e).forEach(function(s){Object.assign(n,Og(e[s],r,s))}),n;function i(s,o){r&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){let l=a.split("|");n[l[0]]=[s,OA(l[0],l[1])]})}}function OA(e,r){return r?Number(r):RA(e)?0:1}function RA(e){return kA.includes(e.toLowerCase())}var Cg={},ri=e=>{console.error(e)},Sg=(e,...r)=>{console.log(`WARN: ${e}`,...r)},Li=(e,r)=>{Cg[`${e}/${r}`]||(console.log(`Deprecated as of ${e}. ${r}`),Cg[`${e}/${r}`]=!0)},Ca=new Error;function Rg(e,r,{key:t}){let n=0,i=e[t],s={},o={};for(let a=1;a<=r.length;a++)o[a+n]=i[a],s[a+n]=!0,n+=Ig(r[a-1]);e[t]=o,e[t]._emit=s,e[t]._multi=!0}function LA(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw ri("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ca;if(typeof e.beginScope!="object"||e.beginScope===null)throw ri("beginScope must be object"),Ca;Rg(e,e.begin,{key:"beginScope"}),e.begin=sc(e.begin,{joinWith:""})}}function BA(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw ri("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ca;if(typeof e.endScope!="object"||e.endScope===null)throw ri("endScope must be object"),Ca;Rg(e,e.end,{key:"endScope"}),e.end=sc(e.end,{joinWith:""})}}function MA(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function $A(e){MA(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),LA(e),BA(e)}function UA(e){function r(o,a){return new RegExp(Bs(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(a?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=Ig(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let a=this.regexes.map(l=>l[1]);this.matcherRe=r(sc(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;let l=this.matcherRe.exec(a);if(!l)return null;let u=l.findIndex((p,d)=>d>0&&p!==void 0),c=this.matchIndexes[u];return l.splice(0,u),Object.assign(l,c)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];let l=new t;return this.rules.slice(a).forEach(([u,c])=>l.addRule(u,c)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){let l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let u=l.exec(a);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){let c=this.getMatcher(0);c.lastIndex=this.lastIndex+1,u=c.exec(a)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(o){let a=new n;return o.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function s(o,a){let l=o;if(o.isCompiled)return l;[vA,IA,$A,FA].forEach(c=>c(o,a)),e.compilerExtensions.forEach(c=>c(o,a)),o.__beforeBegin=null,[TA,PA,NA].forEach(c=>c(o,a)),o.isCompiled=!0;let u=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=Og(o.keywords,e.case_insensitive)),l.keywordPatternRe=r(u,!0),a&&(o.begin||(o.begin=/\B|\b/),l.beginRe=r(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=r(l.end)),l.terminatorEnd=Bs(l.end)||"",o.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(l.illegalRe=r(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(c){return jA(c==="self"?o:c)})),o.contains.forEach(function(c){s(c,l)}),o.starts&&s(o.starts,a),l.matcher=i(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=_n(e.classNameAliases||{}),s(e)}function Lg(e){return e?e.endsWithParent||Lg(e.starts):!1}function jA(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(r){return _n(e,{variants:null},r)})),e.cachedVariants?e.cachedVariants:Lg(e)?_n(e,{starts:e.starts?_n(e.starts):null}):Object.isFrozen(e)?_n(e):e}var KA="11.9.0",nc=class extends Error{constructor(r,t){super(r),this.name="HTMLInjectionError",this.html=t}},Zu=Tg,wg=_n,Ag=Symbol("nomatch"),VA=7,Bg=function(e){let r=Object.create(null),t=Object.create(null),n=[],i=!0,s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]},a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:rc};function l(I){return a.noHighlightRe.test(I)}function u(I){let M=I.className+" ";M+=I.parentNode?I.parentNode.className:"";let R=a.languageDetectRe.exec(M);if(R){let T=B(R[1]);return T||(Sg(s.replace("{}",R[1])),Sg("Falling back to no-highlight mode for this block.",I)),T?R[1]:"no-highlight"}return M.split(/\s+/).find(T=>l(T)||B(T))}function c(I,M,R){let T="",N="";typeof M=="object"?(T=I,R=M.ignoreIllegals,N=M.language):(Li("10.7.0","highlight(lang, code, ...args) has been deprecated."),Li("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),N=I,T=M),R===void 0&&(R=!0);let $={code:T,language:N};j("before:highlight",$);let J=$.result?$.result:p($.language,$.code,R);return J.code=$.code,j("after:highlight",J),J}function p(I,M,R,T){let N=Object.create(null);function $(z,X){return z.keywords[X]}function J(){if(!ae.keywords){Dt.addText(Ke);return}let z=0;ae.keywordPatternRe.lastIndex=0;let X=ae.keywordPatternRe.exec(Ke),pe="";for(;X;){pe+=Ke.substring(z,X.index);let _e=ir.case_insensitive?X[0].toLowerCase():X[0],wt=$(ae,_e);if(wt){let[en,D0]=wt;if(Dt.addText(pe),pe="",N[_e]=(N[_e]||0)+1,N[_e]<=VA&&(ko+=D0),en.startsWith("_"))pe+=X[0];else{let x0=ir.classNameAliases[en]||en;me(X[0],x0)}}else pe+=X[0];z=ae.keywordPatternRe.lastIndex,X=ae.keywordPatternRe.exec(Ke)}pe+=Ke.substring(z),Dt.addText(pe)}function xe(){if(Ke==="")return;let z=null;if(typeof ae.subLanguage=="string"){if(!r[ae.subLanguage]){Dt.addText(Ke);return}z=p(ae.subLanguage,Ke,!0,Td[ae.subLanguage]),Td[ae.subLanguage]=z._top}else z=m(Ke,ae.subLanguage.length?ae.subLanguage:null);ae.relevance>0&&(ko+=z.relevance),Dt.__addSublanguage(z._emitter,z.language)}function oe(){ae.subLanguage!=null?xe():J(),Ke=""}function me(z,X){z!==""&&(Dt.startScope(X),Dt.addText(z),Dt.endScope())}function bt(z,X){let pe=1,_e=X.length-1;for(;pe<=_e;){if(!z._emit[pe]){pe++;continue}let wt=ir.classNameAliases[z[pe]]||z[pe],en=X[pe];wt?me(en,wt):(Ke=en,J(),Ke=""),pe++}}function Ot(z,X){return z.scope&&typeof z.scope=="string"&&Dt.openNode(ir.classNameAliases[z.scope]||z.scope),z.beginScope&&(z.beginScope._wrap?(me(Ke,ir.classNameAliases[z.beginScope._wrap]||z.beginScope._wrap),Ke=""):z.beginScope._multi&&(bt(z.beginScope,X),Ke="")),ae=Object.create(z,{parent:{value:ae}}),ae}function Xr(z,X,pe){let _e=oA(z.endRe,pe);if(_e){if(z["on:end"]){let wt=new Ea(z);z["on:end"](X,wt),wt.isMatchIgnored&&(_e=!1)}if(_e){for(;z.endsParent&&z.parent;)z=z.parent;return z}}if(z.endsWithParent)return Xr(z.parent,X,pe)}function hs(z){return ae.matcher.regexIndex===0?(Ke+=z[0],1):(Ml=!0,0)}function Qr(z){let X=z[0],pe=z.rule,_e=new Ea(pe),wt=[pe.__beforeBegin,pe["on:begin"]];for(let en of wt)if(en&&(en(z,_e),_e.isMatchIgnored))return hs(X);return pe.skip?Ke+=X:(pe.excludeBegin&&(Ke+=X),oe(),!pe.returnBegin&&!pe.excludeBegin&&(Ke=X)),Ot(pe,z),pe.returnBegin?0:X.length}function gs(z){let X=z[0],pe=M.substring(z.index),_e=Xr(ae,z,pe);if(!_e)return Ag;let wt=ae;ae.endScope&&ae.endScope._wrap?(oe(),me(X,ae.endScope._wrap)):ae.endScope&&ae.endScope._multi?(oe(),bt(ae.endScope,z)):wt.skip?Ke+=X:(wt.returnEnd||wt.excludeEnd||(Ke+=X),oe(),wt.excludeEnd&&(Ke=X));do ae.scope&&Dt.closeNode(),!ae.skip&&!ae.subLanguage&&(ko+=ae.relevance),ae=ae.parent;while(ae!==_e.parent);return _e.starts&&Ot(_e.starts,z),wt.returnEnd?0:X.length}function Ne(){let z=[];for(let X=ae;X!==ir;X=X.parent)X.scope&&z.unshift(X.scope);z.forEach(X=>Dt.openNode(X))}let Zr={};function Cn(z,X){let pe=X&&X[0];if(Ke+=z,pe==null)return oe(),0;if(Zr.type==="begin"&&X.type==="end"&&Zr.index===X.index&&pe===""){if(Ke+=M.slice(X.index,X.index+1),!i){let _e=new Error(`0 width match regex (${I})`);throw _e.languageName=I,_e.badRule=Zr.rule,_e}return 1}if(Zr=X,X.type==="begin")return Qr(X);if(X.type==="illegal"&&!R){let _e=new Error('Illegal lexeme "'+pe+'" for mode "'+(ae.scope||"<unnamed>")+'"');throw _e.mode=ae,_e}else if(X.type==="end"){let _e=gs(X);if(_e!==Ag)return _e}if(X.type==="illegal"&&pe==="")return 1;if(Bl>1e5&&Bl>X.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Ke+=pe,pe.length}let ir=B(I);if(!ir)throw ri(s.replace("{}",I)),new Error('Unknown language: "'+I+'"');let b0=UA(ir),Ll="",ae=T||b0,Td={},Dt=new a.__emitter(a);Ne();let Ke="",ko=0,qn=0,Bl=0,Ml=!1;try{if(ir.__emitTokens)ir.__emitTokens(M,Dt);else{for(ae.matcher.considerAll();;){Bl++,Ml?Ml=!1:ae.matcher.considerAll(),ae.matcher.lastIndex=qn;let z=ae.matcher.exec(M);if(!z)break;let X=M.substring(qn,z.index),pe=Cn(X,z);qn=z.index+pe}Cn(M.substring(qn))}return Dt.finalize(),Ll=Dt.toHTML(),{language:I,value:Ll,relevance:ko,illegal:!1,_emitter:Dt,_top:ae}}catch(z){if(z.message&&z.message.includes("Illegal"))return{language:I,value:Zu(M),illegal:!0,relevance:0,_illegalBy:{message:z.message,index:qn,context:M.slice(qn-100,qn+100),mode:z.mode,resultSoFar:Ll},_emitter:Dt};if(i)return{language:I,value:Zu(M),illegal:!1,relevance:0,errorRaised:z,_emitter:Dt,_top:ae};throw z}}function d(I){let M={value:Zu(I),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return M._emitter.addText(I),M}function m(I,M){M=M||a.languages||Object.keys(r);let R=d(I),T=M.filter(B).filter(V).map(oe=>p(oe,I,!1));T.unshift(R);let N=T.sort((oe,me)=>{if(oe.relevance!==me.relevance)return me.relevance-oe.relevance;if(oe.language&&me.language){if(B(oe.language).supersetOf===me.language)return 1;if(B(me.language).supersetOf===oe.language)return-1}return 0}),[$,J]=N,xe=$;return xe.secondBest=J,xe}function f(I,M,R){let T=M&&t[M]||R;I.classList.add("hljs"),I.classList.add(`language-${T}`)}function h(I){let M=null,R=u(I);if(l(R))return;if(j("before:highlightElement",{el:I,language:R}),I.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",I);return}if(I.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(I)),a.throwUnescapedHTML))throw new nc("One of your code blocks includes unescaped HTML.",I.innerHTML);M=I;let T=M.textContent,N=R?c(T,{language:R,ignoreIllegals:!0}):m(T);I.innerHTML=N.value,I.dataset.highlighted="yes",f(I,R,N.language),I.result={language:N.language,re:N.relevance,relevance:N.relevance},N.secondBest&&(I.secondBest={language:N.secondBest.language,relevance:N.secondBest.relevance}),j("after:highlightElement",{el:I,result:N,text:T})}function g(I){a=wg(a,I)}let y=()=>{D(),Li("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function x(){D(),Li("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let C=!1;function D(){if(document.readyState==="loading"){C=!0;return}document.querySelectorAll(a.cssSelector).forEach(h)}function E(){C&&D()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",E,!1);function S(I,M){let R=null;try{R=M(e)}catch(T){if(ri("Language definition for '{}' could not be registered.".replace("{}",I)),i)ri(T);else throw T;R=o}R.name||(R.name=I),r[I]=R,R.rawDefinition=M.bind(null,e),R.aliases&&k(R.aliases,{languageName:I})}function v(I){delete r[I];for(let M of Object.keys(t))t[M]===I&&delete t[M]}function O(){return Object.keys(r)}function B(I){return I=(I||"").toLowerCase(),r[I]||r[t[I]]}function k(I,{languageName:M}){typeof I=="string"&&(I=[I]),I.forEach(R=>{t[R.toLowerCase()]=M})}function V(I){let M=B(I);return M&&!M.disableAutodetect}function ne(I){I["before:highlightBlock"]&&!I["before:highlightElement"]&&(I["before:highlightElement"]=M=>{I["before:highlightBlock"](Object.assign({block:M.el},M))}),I["after:highlightBlock"]&&!I["after:highlightElement"]&&(I["after:highlightElement"]=M=>{I["after:highlightBlock"](Object.assign({block:M.el},M))})}function se(I){ne(I),n.push(I)}function H(I){let M=n.indexOf(I);M!==-1&&n.splice(M,1)}function j(I,M){let R=I;n.forEach(function(T){T[R]&&T[R](M)})}function ie(I){return Li("10.7.0","highlightBlock will be removed entirely in v12.0"),Li("10.7.0","Please use highlightElement now."),h(I)}Object.assign(e,{highlight:c,highlightAuto:m,highlightAll:D,highlightElement:h,highlightBlock:ie,configure:g,initHighlighting:y,initHighlightingOnLoad:x,registerLanguage:S,unregisterLanguage:v,listLanguages:O,getLanguage:B,registerAliases:k,autoDetection:V,inherit:wg,addPlugin:se,removePlugin:H}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=KA,e.regex={concat:ni,lookahead:Pg,either:ic,optional:iA,anyNumberOfTimes:nA};for(let I in xa)typeof xa[I]=="object"&&vg(xa[I]);return Object.assign(e,xa),e},Bi=Bg({});Bi.newInstance=()=>Bg({});Mg.exports=Bi;Bi.HighlightJS=Bi;Bi.default=Bi});var oy=Pe(mc=>{b();var sy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");mc.encode=function(e){if(0<=e&&e<sy.length)return sy[e];throw new TypeError("Must be between 0 and 63: "+e)};mc.decode=function(e){var r=65,t=90,n=97,i=122,s=48,o=57,a=43,l=47,u=26,c=52;return r<=e&&e<=t?e-r:n<=e&&e<=i?e-n+u:s<=e&&e<=o?e-s+c:e==a?62:e==l?63:-1}});var yc=Pe(gc=>{b();var ay=oy(),hc=5,ly=1<<hc,uy=ly-1,cy=ly;function sv(e){return e<0?(-e<<1)+1:(e<<1)+0}function ov(e){var r=(e&1)===1,t=e>>1;return r?-t:t}gc.encode=function(r){var t="",n,i=sv(r);do n=i&uy,i>>>=hc,i>0&&(n|=cy),t+=ay.encode(n);while(i>0);return t};gc.decode=function(r,t,n){var i=r.length,s=0,o=0,a,l;do{if(t>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(l=ay.decode(r.charCodeAt(t++)),l===-1)throw new Error("Invalid base64 digit: "+r.charAt(t-1));a=!!(l&cy),l&=uy,s=s+(l<<o),o+=hc}while(a);n.value=ov(s),n.rest=t}});var ji=Pe(ht=>{b();function av(e,r,t){if(r in e)return e[r];if(arguments.length===3)return t;throw new Error('"'+r+'" is a required argument.')}ht.getArg=av;var py=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,lv=/^data:.+\,.+$/;function Ks(e){var r=e.match(py);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}ht.urlParse=Ks;function Ui(e){var r="";return e.scheme&&(r+=e.scheme+":"),r+="//",e.auth&&(r+=e.auth+"@"),e.host&&(r+=e.host),e.port&&(r+=":"+e.port),e.path&&(r+=e.path),r}ht.urlGenerate=Ui;var uv=32;function cv(e){var r=[];return function(t){for(var n=0;n<r.length;n++)if(r[n].input===t){var i=r[0];return r[0]=r[n],r[n]=i,r[0].result}var s=e(t);return r.unshift({input:t,result:s}),r.length>uv&&r.pop(),s}}var bc=cv(function(r){var t=r,n=Ks(r);if(n){if(!n.path)return r;t=n.path}for(var i=ht.isAbsolute(t),s=[],o=0,a=0;;)if(o=a,a=t.indexOf("/",o),a===-1){s.push(t.slice(o));break}else for(s.push(t.slice(o,a));a<t.length&&t[a]==="/";)a++;for(var l,u=0,a=s.length-1;a>=0;a--)l=s[a],l==="."?s.splice(a,1):l===".."?u++:u>0&&(l===""?(s.splice(a+1,u),u=0):(s.splice(a,2),u--));return t=s.join("/"),t===""&&(t=i?"/":"."),n?(n.path=t,Ui(n)):t});ht.normalize=bc;function dy(e,r){e===""&&(e="."),r===""&&(r=".");var t=Ks(r),n=Ks(e);if(n&&(e=n.path||"/"),t&&!t.scheme)return n&&(t.scheme=n.scheme),Ui(t);if(t||r.match(lv))return r;if(n&&!n.host&&!n.path)return n.host=r,Ui(n);var i=r.charAt(0)==="/"?r:bc(e.replace(/\/+$/,"")+"/"+r);return n?(n.path=i,Ui(n)):i}ht.join=dy;ht.isAbsolute=function(e){return e.charAt(0)==="/"||py.test(e)};function pv(e,r){e===""&&(e="."),e=e.replace(/\/$/,"");for(var t=0;r.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return r;++t}return Array(t+1).join("../")+r.substr(e.length+1)}ht.relative=pv;var fy=function(){var e=Object.create(null);return!("__proto__"in e)}();function my(e){return e}function dv(e){return hy(e)?"$"+e:e}ht.toSetString=fy?my:dv;function fv(e){return hy(e)?e.slice(1):e}ht.fromSetString=fy?my:fv;function hy(e){if(!e)return!1;var r=e.length;if(r<9||e.charCodeAt(r-1)!==95||e.charCodeAt(r-2)!==95||e.charCodeAt(r-3)!==111||e.charCodeAt(r-4)!==116||e.charCodeAt(r-5)!==111||e.charCodeAt(r-6)!==114||e.charCodeAt(r-7)!==112||e.charCodeAt(r-8)!==95||e.charCodeAt(r-9)!==95)return!1;for(var t=r-10;t>=0;t--)if(e.charCodeAt(t)!==36)return!1;return!0}function mv(e,r,t){var n=un(e.source,r.source);return n!==0||(n=e.originalLine-r.originalLine,n!==0)||(n=e.originalColumn-r.originalColumn,n!==0||t)||(n=e.generatedColumn-r.generatedColumn,n!==0)||(n=e.generatedLine-r.generatedLine,n!==0)?n:un(e.name,r.name)}ht.compareByOriginalPositions=mv;function hv(e,r,t){var n;return n=e.originalLine-r.originalLine,n!==0||(n=e.originalColumn-r.originalColumn,n!==0||t)||(n=e.generatedColumn-r.generatedColumn,n!==0)||(n=e.generatedLine-r.generatedLine,n!==0)?n:un(e.name,r.name)}ht.compareByOriginalPositionsNoSource=hv;function gv(e,r,t){var n=e.generatedLine-r.generatedLine;return n!==0||(n=e.generatedColumn-r.generatedColumn,n!==0||t)||(n=un(e.source,r.source),n!==0)||(n=e.originalLine-r.originalLine,n!==0)||(n=e.originalColumn-r.originalColumn,n!==0)?n:un(e.name,r.name)}ht.compareByGeneratedPositionsDeflated=gv;function yv(e,r,t){var n=e.generatedColumn-r.generatedColumn;return n!==0||t||(n=un(e.source,r.source),n!==0)||(n=e.originalLine-r.originalLine,n!==0)||(n=e.originalColumn-r.originalColumn,n!==0)?n:un(e.name,r.name)}ht.compareByGeneratedPositionsDeflatedNoLine=yv;function un(e,r){return e===r?0:e===null?1:r===null?-1:e>r?1:-1}function bv(e,r){var t=e.generatedLine-r.generatedLine;return t!==0||(t=e.generatedColumn-r.generatedColumn,t!==0)||(t=un(e.source,r.source),t!==0)||(t=e.originalLine-r.originalLine,t!==0)||(t=e.originalColumn-r.originalColumn,t!==0)?t:un(e.name,r.name)}ht.compareByGeneratedPositionsInflated=bv;function Dv(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}ht.parseSourceMapInput=Dv;function xv(e,r,t){if(r=r||"",e&&(e[e.length-1]!=="/"&&r[0]!=="/"&&(e+="/"),r=e+r),t){var n=Ks(t);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}r=dy(Ui(n),r)}return bc(r)}ht.computeSourceURL=xv});var Ec=Pe(gy=>{b();var Dc=ji(),xc=Object.prototype.hasOwnProperty,ii=typeof Map<"u";function cn(){this._array=[],this._set=ii?new Map:Object.create(null)}cn.fromArray=function(r,t){for(var n=new cn,i=0,s=r.length;i<s;i++)n.add(r[i],t);return n};cn.prototype.size=function(){return ii?this._set.size:Object.getOwnPropertyNames(this._set).length};cn.prototype.add=function(r,t){var n=ii?r:Dc.toSetString(r),i=ii?this.has(r):xc.call(this._set,n),s=this._array.length;(!i||t)&&this._array.push(r),i||(ii?this._set.set(r,s):this._set[n]=s)};cn.prototype.has=function(r){if(ii)return this._set.has(r);var t=Dc.toSetString(r);return xc.call(this._set,t)};cn.prototype.indexOf=function(r){if(ii){var t=this._set.get(r);if(t>=0)return t}else{var n=Dc.toSetString(r);if(xc.call(this._set,n))return this._set[n]}throw new Error('"'+r+'" is not in the set.')};cn.prototype.at=function(r){if(r>=0&&r<this._array.length)return this._array[r];throw new Error("No element indexed by "+r)};cn.prototype.toArray=function(){return this._array.slice()};gy.ArraySet=cn});var Dy=Pe(by=>{b();var yy=ji();function Ev(e,r){var t=e.generatedLine,n=r.generatedLine,i=e.generatedColumn,s=r.generatedColumn;return n>t||n==t&&s>=i||yy.compareByGeneratedPositionsInflated(e,r)<=0}function Pa(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Pa.prototype.unsortedForEach=function(r,t){this._array.forEach(r,t)};Pa.prototype.add=function(r){Ev(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))};Pa.prototype.toArray=function(){return this._sorted||(this._array.sort(yy.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};by.MappingList=Pa});var Cc=Pe(xy=>{b();var Vs=yc(),st=ji(),Ia=Ec().ArraySet,Cv=Dy().MappingList;function pr(e){e||(e={}),this._file=st.getArg(e,"file",null),this._sourceRoot=st.getArg(e,"sourceRoot",null),this._skipValidation=st.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=st.getArg(e,"ignoreInvalidMapping",!1),this._sources=new Ia,this._names=new Ia,this._mappings=new Cv,this._sourcesContents=null}pr.prototype._version=3;pr.fromSourceMap=function(r,t){var n=r.sourceRoot,i=new pr(Object.assign(t||{},{file:r.file,sourceRoot:n}));return r.eachMapping(function(s){var o={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(o.source=s.source,n!=null&&(o.source=st.relative(n,o.source)),o.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(o.name=s.name)),i.addMapping(o)}),r.sources.forEach(function(s){var o=s;n!==null&&(o=st.relative(n,s)),i._sources.has(o)||i._sources.add(o);var a=r.sourceContentFor(s);a!=null&&i.setSourceContent(s,a)}),i};pr.prototype.addMapping=function(r){var t=st.getArg(r,"generated"),n=st.getArg(r,"original",null),i=st.getArg(r,"source",null),s=st.getArg(r,"name",null);!this._skipValidation&&this._validateMapping(t,n,i,s)===!1||(i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s}))};pr.prototype.setSourceContent=function(r,t){var n=r;this._sourceRoot!=null&&(n=st.relative(this._sourceRoot,n)),t!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[st.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[st.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};pr.prototype.applySourceMap=function(r,t,n){var i=t;if(t==null){if(r.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=r.file}var s=this._sourceRoot;s!=null&&(i=st.relative(s,i));var o=new Ia,a=new Ia;this._mappings.unsortedForEach(function(l){if(l.source===i&&l.originalLine!=null){var u=r.originalPositionFor({line:l.originalLine,column:l.originalColumn});u.source!=null&&(l.source=u.source,n!=null&&(l.source=st.join(n,l.source)),s!=null&&(l.source=st.relative(s,l.source)),l.originalLine=u.line,l.originalColumn=u.column,u.name!=null&&(l.name=u.name))}var c=l.source;c!=null&&!o.has(c)&&o.add(c);var p=l.name;p!=null&&!a.has(p)&&a.add(p)},this),this._sources=o,this._names=a,r.sources.forEach(function(l){var u=r.sourceContentFor(l);u!=null&&(n!=null&&(l=st.join(n,l)),s!=null&&(l=st.relative(s,l)),this.setSourceContent(l,u))},this)};pr.prototype._validateMapping=function(r,t,n,i){if(t&&typeof t.line!="number"&&typeof t.column!="number"){var s="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}if(!(r&&"line"in r&&"column"in r&&r.line>0&&r.column>=0&&!t&&!n&&!i)){if(r&&"line"in r&&"column"in r&&t&&"line"in t&&"column"in t&&r.line>0&&r.column>=0&&t.line>0&&t.column>=0&&n)return;var s="Invalid mapping: "+JSON.stringify({generated:r,source:n,original:t,name:i});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}};pr.prototype._serializeMappings=function(){for(var r=0,t=1,n=0,i=0,s=0,o=0,a="",l,u,c,p,d=this._mappings.toArray(),m=0,f=d.length;m<f;m++){if(u=d[m],l="",u.generatedLine!==t)for(r=0;u.generatedLine!==t;)l+=";",t++;else if(m>0){if(!st.compareByGeneratedPositionsInflated(u,d[m-1]))continue;l+=","}l+=Vs.encode(u.generatedColumn-r),r=u.generatedColumn,u.source!=null&&(p=this._sources.indexOf(u.source),l+=Vs.encode(p-o),o=p,l+=Vs.encode(u.originalLine-1-i),i=u.originalLine-1,l+=Vs.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(c=this._names.indexOf(u.name),l+=Vs.encode(c-s),s=c)),a+=l}return a};pr.prototype._generateSourcesContent=function(r,t){return r.map(function(n){if(!this._sourcesContents)return null;t!=null&&(n=st.relative(t,n));var i=st.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};pr.prototype.toJSON=function(){var r={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(r.file=this._file),this._sourceRoot!=null&&(r.sourceRoot=this._sourceRoot),this._sourcesContents&&(r.sourcesContent=this._generateSourcesContent(r.sources,r.sourceRoot)),r};pr.prototype.toString=function(){return JSON.stringify(this.toJSON())};xy.SourceMapGenerator=pr});var Ey=Pe(si=>{b();si.GREATEST_LOWER_BOUND=1;si.LEAST_UPPER_BOUND=2;function Sc(e,r,t,n,i,s){var o=Math.floor((r-e)/2)+e,a=i(t,n[o],!0);return a===0?o:a>0?r-o>1?Sc(o,r,t,n,i,s):s==si.LEAST_UPPER_BOUND?r<n.length?r:-1:o:o-e>1?Sc(e,o,t,n,i,s):s==si.LEAST_UPPER_BOUND?o:e<0?-1:e}si.search=function(r,t,n,i){if(t.length===0)return-1;var s=Sc(-1,t.length,r,t,n,i||si.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(t[s],t[s-1],!0)===0;)--s;return s}});var wy=Pe(Sy=>{b();function Sv(e){function r(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function t(i,s){return Math.round(i+Math.random()*(s-i))}function n(i,s,o,a){if(o<a){var l=t(o,a),u=o-1;r(i,l,a);for(var c=i[a],p=o;p<a;p++)s(i[p],c,!1)<=0&&(u+=1,r(i,u,p));r(i,u+1,p);var d=u+1;n(i,s,o,d-1),n(i,s,d+1,a)}}return n}function wv(e){let r=Sv.toString();return new Function(`return ${r}`)()(e)}var Cy=new WeakMap;Sy.quickSort=function(e,r,t=0){let n=Cy.get(r);n===void 0&&(n=wv(r),Cy.set(r,n)),n(e,r,t,e.length-1)}});var Ty=Pe(Na=>{b();var G=ji(),Ac=Ey(),Ki=Ec().ArraySet,Av=yc(),zs=wy().quickSort;function We(e,r){var t=e;return typeof e=="string"&&(t=G.parseSourceMapInput(e)),t.sections!=null?new Er(t,r):new Ct(t,r)}We.fromSourceMap=function(e,r){return Ct.fromSourceMap(e,r)};We.prototype._version=3;We.prototype.__generatedMappings=null;Object.defineProperty(We.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});We.prototype.__originalMappings=null;Object.defineProperty(We.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});We.prototype._charIsMappingSeparator=function(r,t){var n=r.charAt(t);return n===";"||n===","};We.prototype._parseMappings=function(r,t){throw new Error("Subclasses must implement _parseMappings")};We.GENERATED_ORDER=1;We.ORIGINAL_ORDER=2;We.GREATEST_LOWER_BOUND=1;We.LEAST_UPPER_BOUND=2;We.prototype.eachMapping=function(r,t,n){var i=t||null,s=n||We.GENERATED_ORDER,o;switch(s){case We.GENERATED_ORDER:o=this._generatedMappings;break;case We.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var a=this.sourceRoot,l=r.bind(i),u=this._names,c=this._sources,p=this._sourceMapURL,d=0,m=o.length;d<m;d++){var f=o[d],h=f.source===null?null:c.at(f.source);h!==null&&(h=G.computeSourceURL(a,h,p)),l({source:h,generatedLine:f.generatedLine,generatedColumn:f.generatedColumn,originalLine:f.originalLine,originalColumn:f.originalColumn,name:f.name===null?null:u.at(f.name)})}};We.prototype.allGeneratedPositionsFor=function(r){var t=G.getArg(r,"line"),n={source:G.getArg(r,"source"),originalLine:t,originalColumn:G.getArg(r,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",G.compareByOriginalPositions,Ac.LEAST_UPPER_BOUND);if(s>=0){var o=this._originalMappings[s];if(r.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)i.push({line:G.getArg(o,"generatedLine",null),column:G.getArg(o,"generatedColumn",null),lastColumn:G.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s];else for(var l=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==l;)i.push({line:G.getArg(o,"generatedLine",null),column:G.getArg(o,"generatedColumn",null),lastColumn:G.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s]}return i};Na.SourceMapConsumer=We;function Ct(e,r){var t=e;typeof e=="string"&&(t=G.parseSourceMapInput(e));var n=G.getArg(t,"version"),i=G.getArg(t,"sources"),s=G.getArg(t,"names",[]),o=G.getArg(t,"sourceRoot",null),a=G.getArg(t,"sourcesContent",null),l=G.getArg(t,"mappings"),u=G.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o&&(o=G.normalize(o)),i=i.map(String).map(G.normalize).map(function(c){return o&&G.isAbsolute(o)&&G.isAbsolute(c)?G.relative(o,c):c}),this._names=Ki.fromArray(s.map(String),!0),this._sources=Ki.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(c){return G.computeSourceURL(o,c,r)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=r,this.file=u}Ct.prototype=Object.create(We.prototype);Ct.prototype.consumer=We;Ct.prototype._findSourceIndex=function(e){var r=e;if(this.sourceRoot!=null&&(r=G.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);var t;for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1};Ct.fromSourceMap=function(r,t){var n=Object.create(Ct.prototype),i=n._names=Ki.fromArray(r._names.toArray(),!0),s=n._sources=Ki.fromArray(r._sources.toArray(),!0);n.sourceRoot=r._sourceRoot,n.sourcesContent=r._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=r._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map(function(m){return G.computeSourceURL(n.sourceRoot,m,t)});for(var o=r._mappings.toArray().slice(),a=n.__generatedMappings=[],l=n.__originalMappings=[],u=0,c=o.length;u<c;u++){var p=o[u],d=new vy;d.generatedLine=p.generatedLine,d.generatedColumn=p.generatedColumn,p.source&&(d.source=s.indexOf(p.source),d.originalLine=p.originalLine,d.originalColumn=p.originalColumn,p.name&&(d.name=i.indexOf(p.name)),l.push(d)),a.push(d)}return zs(n.__originalMappings,G.compareByOriginalPositions),n};Ct.prototype._version=3;Object.defineProperty(Ct.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function vy(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var wc=G.compareByGeneratedPositionsDeflatedNoLine;function Ay(e,r){let t=e.length,n=e.length-r;if(!(n<=1))if(n==2){let i=e[r],s=e[r+1];wc(i,s)>0&&(e[r]=s,e[r+1]=i)}else if(n<20)for(let i=r;i<t;i++)for(let s=i;s>r;s--){let o=e[s-1],a=e[s];if(wc(o,a)<=0)break;e[s-1]=a,e[s]=o}else zs(e,wc,r)}Ct.prototype._parseMappings=function(r,t){var n=1,i=0,s=0,o=0,a=0,l=0,u=r.length,c=0,p={},d={},m=[],f=[],h,g,y,x,C;let D=0;for(;c<u;)if(r.charAt(c)===";")n++,c++,i=0,Ay(f,D),D=f.length;else if(r.charAt(c)===",")c++;else{for(h=new vy,h.generatedLine=n,x=c;x<u&&!this._charIsMappingSeparator(r,x);x++);for(g=r.slice(c,x),y=[];c<x;)Av.decode(r,c,d),C=d.value,c=d.rest,y.push(C);if(y.length===2)throw new Error("Found a source, but no line and column");if(y.length===3)throw new Error("Found a source and line, but no column");if(h.generatedColumn=i+y[0],i=h.generatedColumn,y.length>1&&(h.source=a+y[1],a+=y[1],h.originalLine=s+y[2],s=h.originalLine,h.originalLine+=1,h.originalColumn=o+y[3],o=h.originalColumn,y.length>4&&(h.name=l+y[4],l+=y[4])),f.push(h),typeof h.originalLine=="number"){let S=h.source;for(;m.length<=S;)m.push(null);m[S]===null&&(m[S]=[]),m[S].push(h)}}Ay(f,D),this.__generatedMappings=f;for(var E=0;E<m.length;E++)m[E]!=null&&zs(m[E],G.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...m)};Ct.prototype._findMapping=function(r,t,n,i,s,o){if(r[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+r[n]);if(r[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+r[i]);return Ac.search(r,t,s,o)};Ct.prototype.computeColumnSpans=function(){for(var r=0;r<this._generatedMappings.length;++r){var t=this._generatedMappings[r];if(r+1<this._generatedMappings.length){var n=this._generatedMappings[r+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}};Ct.prototype.originalPositionFor=function(r){var t={generatedLine:G.getArg(r,"line"),generatedColumn:G.getArg(r,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",G.compareByGeneratedPositionsDeflated,G.getArg(r,"bias",We.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var s=G.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=G.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var o=G.getArg(i,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:G.getArg(i,"originalLine",null),column:G.getArg(i,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};Ct.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(r){return r==null}):!1};Ct.prototype.sourceContentFor=function(r,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(r);if(n>=0)return this.sourcesContent[n];var i=r;this.sourceRoot!=null&&(i=G.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=G.urlParse(this.sourceRoot))){var o=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')};Ct.prototype.generatedPositionFor=function(r){var t=G.getArg(r,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:G.getArg(r,"line"),originalColumn:G.getArg(r,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",G.compareByOriginalPositions,G.getArg(r,"bias",We.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:G.getArg(s,"generatedLine",null),column:G.getArg(s,"generatedColumn",null),lastColumn:G.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};Na.BasicSourceMapConsumer=Ct;function Er(e,r){var t=e;typeof e=="string"&&(t=G.parseSourceMapInput(e));var n=G.getArg(t,"version"),i=G.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Ki,this._names=new Ki;var s={line:-1,column:0};this._sections=i.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=G.getArg(o,"offset"),l=G.getArg(a,"line"),u=G.getArg(a,"column");if(l<s.line||l===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=a,{generatedOffset:{generatedLine:l+1,generatedColumn:u+1},consumer:new We(G.getArg(o,"map"),r)}})}Er.prototype=Object.create(We.prototype);Er.prototype.constructor=We;Er.prototype._version=3;Object.defineProperty(Er.prototype,"sources",{get:function(){for(var e=[],r=0;r<this._sections.length;r++)for(var t=0;t<this._sections[r].consumer.sources.length;t++)e.push(this._sections[r].consumer.sources[t]);return e}});Er.prototype.originalPositionFor=function(r){var t={generatedLine:G.getArg(r,"line"),generatedColumn:G.getArg(r,"column")},n=Ac.search(t,this._sections,function(s,o){var a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:r.bias}):{source:null,line:null,column:null,name:null}};Er.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(r){return r.consumer.hasContentsOfAllSources()})};Er.prototype.sourceContentFor=function(r,t){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(r,!0);if(s||s==="")return s}if(t)return null;throw new Error('"'+r+'" is not in the SourceMap.')};Er.prototype.generatedPositionFor=function(r){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(n.consumer._findSourceIndex(G.getArg(r,"source"))!==-1){var i=n.consumer.generatedPositionFor(r);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};Er.prototype._parseMappings=function(r,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,o=0;o<s.length;o++){var a=s[o],l=i.consumer._sources.at(a.source);l!==null&&(l=G.computeSourceURL(i.consumer.sourceRoot,l,this._sourceMapURL)),this._sources.add(l),l=this._sources.indexOf(l);var u=null;a.name&&(u=i.consumer._names.at(a.name),this._names.add(u),u=this._names.indexOf(u));var c={source:l,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:u};this.__generatedMappings.push(c),typeof c.originalLine=="number"&&this.__originalMappings.push(c)}zs(this.__generatedMappings,G.compareByGeneratedPositionsDeflated),zs(this.__originalMappings,G.compareByOriginalPositions)};Na.IndexedSourceMapConsumer=Er});var Iy=Pe(Py=>{b();var vv=Cc().SourceMapGenerator,Fa=ji(),Tv=/(\r?\n)/,Pv=10,Vi="$$$isSourceNode$$$";function er(e,r,t,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=r??null,this.source=t??null,this.name=i??null,this[Vi]=!0,n!=null&&this.add(n)}er.fromStringWithSourceMap=function(r,t,n){var i=new er,s=r.split(Tv),o=0,a=function(){var d=f(),m=f()||"";return d+m;function f(){return o<s.length?s[o++]:void 0}},l=1,u=0,c=null;return t.eachMapping(function(d){if(c!==null)if(l<d.generatedLine)p(c,a()),l++,u=0;else{var m=s[o]||"",f=m.substr(0,d.generatedColumn-u);s[o]=m.substr(d.generatedColumn-u),u=d.generatedColumn,p(c,f),c=d;return}for(;l<d.generatedLine;)i.add(a()),l++;if(u<d.generatedColumn){var m=s[o]||"";i.add(m.substr(0,d.generatedColumn)),s[o]=m.substr(d.generatedColumn),u=d.generatedColumn}c=d},this),o<s.length&&(c&&p(c,a()),i.add(s.splice(o).join(""))),t.sources.forEach(function(d){var m=t.sourceContentFor(d);m!=null&&(n!=null&&(d=Fa.join(n,d)),i.setSourceContent(d,m))}),i;function p(d,m){if(d===null||d.source===void 0)i.add(m);else{var f=n?Fa.join(n,d.source):d.source;i.add(new er(d.originalLine,d.originalColumn,f,m,d.name))}}};er.prototype.add=function(r){if(Array.isArray(r))r.forEach(function(t){this.add(t)},this);else if(r[Vi]||typeof r=="string")r&&this.children.push(r);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+r);return this};er.prototype.prepend=function(r){if(Array.isArray(r))for(var t=r.length-1;t>=0;t--)this.prepend(r[t]);else if(r[Vi]||typeof r=="string")this.children.unshift(r);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+r);return this};er.prototype.walk=function(r){for(var t,n=0,i=this.children.length;n<i;n++)t=this.children[n],t[Vi]?t.walk(r):t!==""&&r(t,{source:this.source,line:this.line,column:this.column,name:this.name})};er.prototype.join=function(r){var t,n,i=this.children.length;if(i>0){for(t=[],n=0;n<i-1;n++)t.push(this.children[n]),t.push(r);t.push(this.children[n]),this.children=t}return this};er.prototype.replaceRight=function(r,t){var n=this.children[this.children.length-1];return n[Vi]?n.replaceRight(r,t):typeof n=="string"?this.children[this.children.length-1]=n.replace(r,t):this.children.push("".replace(r,t)),this};er.prototype.setSourceContent=function(r,t){this.sourceContents[Fa.toSetString(r)]=t};er.prototype.walkSourceContents=function(r){for(var t=0,n=this.children.length;t<n;t++)this.children[t][Vi]&&this.children[t].walkSourceContents(r);for(var i=Object.keys(this.sourceContents),t=0,n=i.length;t<n;t++)r(Fa.fromSetString(i[t]),this.sourceContents[i[t]])};er.prototype.toString=function(){var r="";return this.walk(function(t){r+=t}),r};er.prototype.toStringWithSourceMap=function(r){var t={code:"",line:1,column:0},n=new vv(r),i=!1,s=null,o=null,a=null,l=null;return this.walk(function(u,c){t.code+=u,c.source!==null&&c.line!==null&&c.column!==null?((s!==c.source||o!==c.line||a!==c.column||l!==c.name)&&n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name}),s=c.source,o=c.line,a=c.column,l=c.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),s=null,i=!1);for(var p=0,d=u.length;p<d;p++)u.charCodeAt(p)===Pv?(t.line++,t.column=0,p+1===d?(s=null,i=!1):i&&n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name})):t.column++}),this.walkSourceContents(function(u,c){n.setSourceContent(u,c)}),{code:t.code,map:n}};Py.SourceNode=er});var Ny=Pe(ka=>{b();ka.SourceMapGenerator=Cc().SourceMapGenerator;ka.SourceMapConsumer=Ty().SourceMapConsumer;ka.SourceNode=Iy().SourceNode});var ab=Pe(eo=>{"use strict";b();Object.defineProperty(eo,"__esModule",{value:!0});function Iv(e,r){if(e==null)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.includes(n))continue;t[n]=e[n]}return t}var Vr=class{constructor(r,t,n){this.line=void 0,this.column=void 0,this.index=void 0,this.line=r,this.column=t,this.index=n}},Hi=class{constructor(r,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=r,this.end=t}};function $t(e,r){let{line:t,column:n,index:i}=e;return new Vr(t,n+r,i+r)}var Fy="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED",Nv={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:Fy},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:Fy}},ky={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},Ra=e=>e.type==="UpdateExpression"?ky.UpdateExpression[`${e.prefix}`]:ky[e.type],Fv={AccessorIsGenerator:({kind:e})=>`A ${e}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:e})=>`Missing initializer in ${e} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:e})=>`\`${e}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:e})=>`'import.${e}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:e,exportName:r})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${e}' as '${r}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:e})=>`'${e==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:e})=>`Unsyntactic ${e==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedAssertSyntax: true` option in the import attributes plugin to suppress this error.",ImportBindingIsString:({importName:e})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${e}" as foo }\`?`,ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:({maxArgumentCount:e})=>`\`import()\` requires exactly ${e===1?"one argument":"one or two arguments"}.`,ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:e})=>`Expected number in radix ${e}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:e})=>`Escape sequence in keyword ${e}.`,InvalidIdentifier:({identifierName:e})=>`Invalid identifier ${e}.`,InvalidLhs:({ancestor:e})=>`Invalid left-hand side in ${Ra(e)}.`,InvalidLhsBinding:({ancestor:e})=>`Binding invalid left-hand side in ${Ra(e)}.`,InvalidLhsOptionalChaining:({ancestor:e})=>`Invalid optional chaining in the left-hand side of ${Ra(e)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:e})=>`Unexpected character '${e}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:e})=>`Private name #${e} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:e})=>`Label '${e}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:e})=>`This experimental syntax requires enabling the parser plugin: ${e.map(r=>JSON.stringify(r)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:e})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${e.map(r=>JSON.stringify(r)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:e})=>`Duplicate key "${e}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:e})=>`An export name cannot include a lone surrogate, found '\\u${e.toString(16)}'.`,ModuleExportUndefined:({localName:e})=>`Export '${e}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:e})=>`Private names are only allowed in property accesses (\`obj.#${e}\`) or in \`in\` expressions (\`#${e} in obj\`).`,PrivateNameRedeclaration:({identifierName:e})=>`Duplicate private name #${e}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:e})=>`Unexpected keyword '${e}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:e})=>`Unexpected reserved word '${e}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:e,unexpected:r})=>`Unexpected token${r?` '${r}'.`:""}${e?`, expected "${e}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:e,onlyValidPropertyName:r})=>`The only valid meta property for ${e} is ${e}.${r}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:e})=>`Identifier '${e}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},kv={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:e})=>`Assigning to '${e}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:e})=>`Binding '${e}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."},_v=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]),Ov={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:e})=>`Invalid topic token ${e}. In order to use ${e} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${e}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:e})=>`Hack-style pipe body cannot be an unparenthesized ${Ra({type:e})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'},Rv=["message"];function _y(e,r,t){Object.defineProperty(e,r,{enumerable:!1,configurable:!0,value:t})}function Lv({toMessage:e,code:r,reasonCode:t,syntaxPlugin:n}){let i=t==="MissingPlugin"||t==="MissingOneOfPlugins";{let s={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};s[t]&&(t=s[t])}return function s(o,a){let l=new SyntaxError;return l.code=r,l.reasonCode=t,l.loc=o,l.pos=o.index,l.syntaxPlugin=n,i&&(l.missingPlugin=a.missingPlugin),_y(l,"clone",function(c={}){var p;let{line:d,column:m,index:f}=(p=c.loc)!=null?p:o;return s(new Vr(d,m,f),Object.assign({},a,c.details))}),_y(l,"details",a),Object.defineProperty(l,"message",{configurable:!0,get(){let u=`${e(a)} (${o.line}:${o.column})`;return this.message=u,u},set(u){Object.defineProperty(this,"message",{value:u,writable:!0})}}),l}}function mn(e,r){if(Array.isArray(e))return n=>mn(n,e[0]);let t={};for(let n of Object.keys(e)){let i=e[n],s=typeof i=="string"?{message:()=>i}:typeof i=="function"?{message:i}:i,{message:o}=s,a=Iv(s,Rv),l=typeof o=="string"?()=>o:o;t[n]=Lv(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:n,toMessage:l},r?{syntaxPlugin:r}:{},a))}return t}var w=Object.assign({},mn(Nv),mn(Fv),mn(kv),mn`pipelineOperator`(Ov)),{defineProperty:Bv}=Object,Oy=(e,r)=>{e&&Bv(e,r,{enumerable:!1,value:e[r]})};function qs(e){return Oy(e.loc.start,"index"),Oy(e.loc.end,"index"),e}var Mv=e=>class extends e{parse(){let t=qs(super.parse());return this.options.tokens&&(t.tokens=t.tokens.map(qs)),t}parseRegExpLiteral({pattern:t,flags:n}){let i=null;try{i=new RegExp(t,n)}catch{}let s=this.estreeParseLiteral(i);return s.regex={pattern:t,flags:n},s}parseBigIntLiteral(t){let n;try{n=BigInt(t)}catch{n=null}let i=this.estreeParseLiteral(n);return i.bigint=String(i.value||t),i}parseDecimalLiteral(t){let i=this.estreeParseLiteral(null);return i.decimal=String(i.value||t),i}estreeParseLiteral(t){return this.parseLiteral(t,"Literal")}parseStringLiteral(t){return this.estreeParseLiteral(t)}parseNumericLiteral(t){return this.estreeParseLiteral(t)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(t){return this.estreeParseLiteral(t)}directiveToStmt(t){let n=t.value;delete t.value,n.type="Literal",n.raw=n.extra.raw,n.value=n.extra.expressionValue;let i=t;return i.type="ExpressionStatement",i.expression=n,i.directive=n.extra.rawValue,delete n.extra,i}initFunction(t,n){super.initFunction(t,n),t.expression=!1}checkDeclaration(t){t!=null&&this.isObjectProperty(t)?this.checkDeclaration(t.value):super.checkDeclaration(t)}getObjectOrClassMethodParams(t){return t.value.params}isValidDirective(t){var n;return t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&!((n=t.expression.extra)!=null&&n.parenthesized)}parseBlockBody(t,n,i,s,o){super.parseBlockBody(t,n,i,s,o);let a=t.directives.map(l=>this.directiveToStmt(l));t.body=a.concat(t.body),delete t.directives}pushClassMethod(t,n,i,s,o,a){this.parseMethod(n,i,s,o,a,"ClassMethod",!0),n.typeParameters&&(n.value.typeParameters=n.typeParameters,delete n.typeParameters),t.body.push(n)}parsePrivateName(){let t=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(t):t}convertPrivateNameToPrivateIdentifier(t){let n=super.getPrivateNameSV(t);return t=t,delete t.id,t.name=n,t.type="PrivateIdentifier",t}isPrivateName(t){return this.getPluginOption("estree","classFeatures")?t.type==="PrivateIdentifier":super.isPrivateName(t)}getPrivateNameSV(t){return this.getPluginOption("estree","classFeatures")?t.name:super.getPrivateNameSV(t)}parseLiteral(t,n){let i=super.parseLiteral(t,n);return i.raw=i.extra.raw,delete i.extra,i}parseFunctionBody(t,n,i=!1){super.parseFunctionBody(t,n,i),t.expression=t.body.type!=="BlockStatement"}parseMethod(t,n,i,s,o,a,l=!1){let u=this.startNode();return u.kind=t.kind,u=super.parseMethod(u,n,i,s,o,a,l),u.type="FunctionExpression",delete u.kind,t.value=u,a==="ClassPrivateMethod"&&(t.computed=!1),this.finishNode(t,"MethodDefinition")}nameIsConstructor(t){return t.type==="Literal"?t.value==="constructor":super.nameIsConstructor(t)}parseClassProperty(...t){let n=super.parseClassProperty(...t);return this.getPluginOption("estree","classFeatures")&&(n.type="PropertyDefinition"),n}parseClassPrivateProperty(...t){let n=super.parseClassPrivateProperty(...t);return this.getPluginOption("estree","classFeatures")&&(n.type="PropertyDefinition",n.computed=!1),n}parseObjectMethod(t,n,i,s,o){let a=super.parseObjectMethod(t,n,i,s,o);return a&&(a.type="Property",a.kind==="method"&&(a.kind="init"),a.shorthand=!1),a}parseObjectProperty(t,n,i,s){let o=super.parseObjectProperty(t,n,i,s);return o&&(o.kind="init",o.type="Property"),o}isValidLVal(t,n,i){return t==="Property"?"value":super.isValidLVal(t,n,i)}isAssignable(t,n){return t!=null&&this.isObjectProperty(t)?this.isAssignable(t.value,n):super.isAssignable(t,n)}toAssignable(t,n=!1){if(t!=null&&this.isObjectProperty(t)){let{key:i,value:s}=t;this.isPrivateName(i)&&this.classScope.usePrivateName(this.getPrivateNameSV(i),i.loc.start),this.toAssignable(s,n)}else super.toAssignable(t,n)}toAssignableObjectExpressionProp(t,n,i){t.type==="Property"&&(t.kind==="get"||t.kind==="set")?this.raise(w.PatternHasAccessor,t.key):t.type==="Property"&&t.method?this.raise(w.PatternHasMethod,t.key):super.toAssignableObjectExpressionProp(t,n,i)}finishCallExpression(t,n){let i=super.finishCallExpression(t,n);if(i.callee.type==="Import"){if(i.type="ImportExpression",i.source=i.arguments[0],this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")){var s,o;i.options=(s=i.arguments[1])!=null?s:null,i.attributes=(o=i.arguments[1])!=null?o:null}delete i.arguments,delete i.callee}return i}toReferencedArguments(t){t.type!=="ImportExpression"&&super.toReferencedArguments(t)}parseExport(t,n){let i=this.state.lastTokStartLoc,s=super.parseExport(t,n);switch(s.type){case"ExportAllDeclaration":s.exported=null;break;case"ExportNamedDeclaration":s.specifiers.length===1&&s.specifiers[0].type==="ExportNamespaceSpecifier"&&(s.type="ExportAllDeclaration",s.exported=s.specifiers[0].exported,delete s.specifiers);case"ExportDefaultDeclaration":{var o;let{declaration:a}=s;a?.type==="ClassDeclaration"&&((o=a.decorators)==null?void 0:o.length)>0&&a.start===s.start&&this.resetStartLocation(s,i)}break}return s}parseSubscript(t,n,i,s){let o=super.parseSubscript(t,n,i,s);if(s.optionalChainMember){if((o.type==="OptionalMemberExpression"||o.type==="OptionalCallExpression")&&(o.type=o.type.substring(8)),s.stop){let a=this.startNodeAtNode(o);return a.expression=o,this.finishNode(a,"ChainExpression")}}else(o.type==="MemberExpression"||o.type==="CallExpression")&&(o.optional=!1);return o}isOptionalMemberExpression(t){return t.type==="ChainExpression"?t.expression.type==="MemberExpression":super.isOptionalMemberExpression(t)}hasPropertyAsPrivateName(t){return t.type==="ChainExpression"&&(t=t.expression),super.hasPropertyAsPrivateName(t)}isObjectProperty(t){return t.type==="Property"&&t.kind==="init"&&!t.method}isObjectMethod(t){return t.type==="Property"&&(t.method||t.kind==="get"||t.kind==="set")}finishNodeAt(t,n,i){return qs(super.finishNodeAt(t,n,i))}resetStartLocation(t,n){super.resetStartLocation(t,n),qs(t)}resetEndLocation(t,n=this.state.lastTokEndLoc){super.resetEndLocation(t,n),qs(t)}},ai=class{constructor(r,t){this.token=void 0,this.preserveSpace=void 0,this.token=r,this.preserveSpace=!!t}},Oe={brace:new ai("{"),j_oTag:new ai("<tag"),j_cTag:new ai("</tag"),j_expr:new ai("<tag>...</tag>",!0)};Oe.template=new ai("`",!0);var fe=!0,K=!0,vc=!0,Ws=!0,On=!0,$v=!0,Ma=class{constructor(r,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=r,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop!=null?t.binop:null,this.updateContext=null}},Qc=new Map;function De(e,r={}){r.keyword=e;let t=Y(e,r);return Qc.set(e,t),t}function Mt(e,r){return Y(e,{beforeExpr:fe,binop:r})}var Ys=-1,dn=[],Zc=[],ep=[],tp=[],rp=[],np=[];function Y(e,r={}){var t,n,i,s;return++Ys,Zc.push(e),ep.push((t=r.binop)!=null?t:-1),tp.push((n=r.beforeExpr)!=null?n:!1),rp.push((i=r.startsExpr)!=null?i:!1),np.push((s=r.prefix)!=null?s:!1),dn.push(new Ma(e,r)),Ys}function de(e,r={}){var t,n,i,s;return++Ys,Qc.set(e,Ys),Zc.push(e),ep.push((t=r.binop)!=null?t:-1),tp.push((n=r.beforeExpr)!=null?n:!1),rp.push((i=r.startsExpr)!=null?i:!1),np.push((s=r.prefix)!=null?s:!1),dn.push(new Ma("name",r)),Ys}var Uv={bracketL:Y("[",{beforeExpr:fe,startsExpr:K}),bracketHashL:Y("#[",{beforeExpr:fe,startsExpr:K}),bracketBarL:Y("[|",{beforeExpr:fe,startsExpr:K}),bracketR:Y("]"),bracketBarR:Y("|]"),braceL:Y("{",{beforeExpr:fe,startsExpr:K}),braceBarL:Y("{|",{beforeExpr:fe,startsExpr:K}),braceHashL:Y("#{",{beforeExpr:fe,startsExpr:K}),braceR:Y("}"),braceBarR:Y("|}"),parenL:Y("(",{beforeExpr:fe,startsExpr:K}),parenR:Y(")"),comma:Y(",",{beforeExpr:fe}),semi:Y(";",{beforeExpr:fe}),colon:Y(":",{beforeExpr:fe}),doubleColon:Y("::",{beforeExpr:fe}),dot:Y("."),question:Y("?",{beforeExpr:fe}),questionDot:Y("?."),arrow:Y("=>",{beforeExpr:fe}),template:Y("template"),ellipsis:Y("...",{beforeExpr:fe}),backQuote:Y("`",{startsExpr:K}),dollarBraceL:Y("${",{beforeExpr:fe,startsExpr:K}),templateTail:Y("...`",{startsExpr:K}),templateNonTail:Y("...${",{beforeExpr:fe,startsExpr:K}),at:Y("@"),hash:Y("#",{startsExpr:K}),interpreterDirective:Y("#!..."),eq:Y("=",{beforeExpr:fe,isAssign:Ws}),assign:Y("_=",{beforeExpr:fe,isAssign:Ws}),slashAssign:Y("_=",{beforeExpr:fe,isAssign:Ws}),xorAssign:Y("_=",{beforeExpr:fe,isAssign:Ws}),moduloAssign:Y("_=",{beforeExpr:fe,isAssign:Ws}),incDec:Y("++/--",{prefix:On,postfix:$v,startsExpr:K}),bang:Y("!",{beforeExpr:fe,prefix:On,startsExpr:K}),tilde:Y("~",{beforeExpr:fe,prefix:On,startsExpr:K}),doubleCaret:Y("^^",{startsExpr:K}),doubleAt:Y("@@",{startsExpr:K}),pipeline:Mt("|>",0),nullishCoalescing:Mt("??",1),logicalOR:Mt("||",1),logicalAND:Mt("&&",2),bitwiseOR:Mt("|",3),bitwiseXOR:Mt("^",4),bitwiseAND:Mt("&",5),equality:Mt("==/!=/===/!==",6),lt:Mt("</>/<=/>=",7),gt:Mt("</>/<=/>=",7),relational:Mt("</>/<=/>=",7),bitShift:Mt("<</>>/>>>",8),bitShiftL:Mt("<</>>/>>>",8),bitShiftR:Mt("<</>>/>>>",8),plusMin:Y("+/-",{beforeExpr:fe,binop:9,prefix:On,startsExpr:K}),modulo:Y("%",{binop:10,startsExpr:K}),star:Y("*",{binop:10}),slash:Mt("/",10),exponent:Y("**",{beforeExpr:fe,binop:11,rightAssociative:!0}),_in:De("in",{beforeExpr:fe,binop:7}),_instanceof:De("instanceof",{beforeExpr:fe,binop:7}),_break:De("break"),_case:De("case",{beforeExpr:fe}),_catch:De("catch"),_continue:De("continue"),_debugger:De("debugger"),_default:De("default",{beforeExpr:fe}),_else:De("else",{beforeExpr:fe}),_finally:De("finally"),_function:De("function",{startsExpr:K}),_if:De("if"),_return:De("return",{beforeExpr:fe}),_switch:De("switch"),_throw:De("throw",{beforeExpr:fe,prefix:On,startsExpr:K}),_try:De("try"),_var:De("var"),_const:De("const"),_with:De("with"),_new:De("new",{beforeExpr:fe,startsExpr:K}),_this:De("this",{startsExpr:K}),_super:De("super",{startsExpr:K}),_class:De("class",{startsExpr:K}),_extends:De("extends",{beforeExpr:fe}),_export:De("export"),_import:De("import",{startsExpr:K}),_null:De("null",{startsExpr:K}),_true:De("true",{startsExpr:K}),_false:De("false",{startsExpr:K}),_typeof:De("typeof",{beforeExpr:fe,prefix:On,startsExpr:K}),_void:De("void",{beforeExpr:fe,prefix:On,startsExpr:K}),_delete:De("delete",{beforeExpr:fe,prefix:On,startsExpr:K}),_do:De("do",{isLoop:vc,beforeExpr:fe}),_for:De("for",{isLoop:vc}),_while:De("while",{isLoop:vc}),_as:de("as",{startsExpr:K}),_assert:de("assert",{startsExpr:K}),_async:de("async",{startsExpr:K}),_await:de("await",{startsExpr:K}),_defer:de("defer",{startsExpr:K}),_from:de("from",{startsExpr:K}),_get:de("get",{startsExpr:K}),_let:de("let",{startsExpr:K}),_meta:de("meta",{startsExpr:K}),_of:de("of",{startsExpr:K}),_sent:de("sent",{startsExpr:K}),_set:de("set",{startsExpr:K}),_source:de("source",{startsExpr:K}),_static:de("static",{startsExpr:K}),_using:de("using",{startsExpr:K}),_yield:de("yield",{startsExpr:K}),_asserts:de("asserts",{startsExpr:K}),_checks:de("checks",{startsExpr:K}),_exports:de("exports",{startsExpr:K}),_global:de("global",{startsExpr:K}),_implements:de("implements",{startsExpr:K}),_intrinsic:de("intrinsic",{startsExpr:K}),_infer:de("infer",{startsExpr:K}),_is:de("is",{startsExpr:K}),_mixins:de("mixins",{startsExpr:K}),_proto:de("proto",{startsExpr:K}),_require:de("require",{startsExpr:K}),_satisfies:de("satisfies",{startsExpr:K}),_keyof:de("keyof",{startsExpr:K}),_readonly:de("readonly",{startsExpr:K}),_unique:de("unique",{startsExpr:K}),_abstract:de("abstract",{startsExpr:K}),_declare:de("declare",{startsExpr:K}),_enum:de("enum",{startsExpr:K}),_module:de("module",{startsExpr:K}),_namespace:de("namespace",{startsExpr:K}),_interface:de("interface",{startsExpr:K}),_type:de("type",{startsExpr:K}),_opaque:de("opaque",{startsExpr:K}),name:Y("name",{startsExpr:K}),string:Y("string",{startsExpr:K}),num:Y("num",{startsExpr:K}),bigint:Y("bigint",{startsExpr:K}),decimal:Y("decimal",{startsExpr:K}),regexp:Y("regexp",{startsExpr:K}),privateName:Y("#name",{startsExpr:K}),eof:Y("eof"),jsxName:Y("jsxName"),jsxText:Y("jsxText",{beforeExpr:!0}),jsxTagStart:Y("jsxTagStart",{startsExpr:!0}),jsxTagEnd:Y("jsxTagEnd"),placeholder:Y("%%",{startsExpr:!0})};function we(e){return e>=93&&e<=132}function jv(e){return e<=92}function Cr(e){return e>=58&&e<=132}function Wy(e){return e>=58&&e<=136}function Kv(e){return tp[e]}function kc(e){return rp[e]}function Vv(e){return e>=29&&e<=33}function Ry(e){return e>=129&&e<=131}function zv(e){return e>=90&&e<=92}function ip(e){return e>=58&&e<=92}function qv(e){return e>=39&&e<=59}function Wv(e){return e===34}function Gv(e){return np[e]}function Hv(e){return e>=121&&e<=123}function Jv(e){return e>=124&&e<=130}function Ln(e){return Zc[e]}function La(e){return ep[e]}function Yv(e){return e===57}function $a(e){return e>=24&&e<=25}function pn(e){return dn[e]}dn[8].updateContext=e=>{e.pop()},dn[5].updateContext=dn[7].updateContext=dn[23].updateContext=e=>{e.push(Oe.brace)},dn[22].updateContext=e=>{e[e.length-1]===Oe.template?e.pop():e.push(Oe.template)},dn[142].updateContext=e=>{e.push(Oe.j_expr,Oe.j_oTag)};var sp="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Gy="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",Xv=new RegExp("["+sp+"]"),Qv=new RegExp("["+sp+Gy+"]");sp=Gy=null;var Hy=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Zv=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function _c(e,r){let t=65536;for(let n=0,i=r.length;n<i;n+=2){if(t+=r[n],t>e)return!1;if(t+=r[n+1],t>=e)return!0}return!1}function fn(e){return e<65?e===36:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&Xv.test(String.fromCharCode(e)):_c(e,Hy)}function qi(e){return e<48?e===36:e<58?!0:e<65?!1:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&Qv.test(String.fromCharCode(e)):_c(e,Hy)||_c(e,Zv)}var op={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},eT=new Set(op.keyword),tT=new Set(op.strict),rT=new Set(op.strictBind);function Jy(e,r){return r&&e==="await"||e==="enum"}function Yy(e,r){return Jy(e,r)||tT.has(e)}function Xy(e){return rT.has(e)}function Qy(e,r){return Yy(e,r)||Xy(e)}function nT(e){return eT.has(e)}function iT(e,r,t){return e===64&&r===64&&fn(t)}var sT=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function oT(e){return sT.has(e)}var Xs=class{constructor(r){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=r}},Qs=class{constructor(r,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=r,this.inModule=t}get inTopLevel(){return(this.currentScope().flags&1)>0}get inFunction(){return(this.currentVarScopeFlags()&2)>0}get allowSuper(){return(this.currentThisScopeFlags()&16)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&32)>0}get inClass(){return(this.currentThisScopeFlags()&64)>0}get inClassAndNotInNonArrowFunction(){let r=this.currentThisScopeFlags();return(r&64)>0&&(r&2)===0}get inStaticBlock(){for(let r=this.scopeStack.length-1;;r--){let{flags:t}=this.scopeStack[r];if(t&128)return!0;if(t&451)return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&2)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(r){return new Xs(r)}enter(r){this.scopeStack.push(this.createScope(r))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(r){return!!(r.flags&130||!this.parser.inModule&&r.flags&1)}declareName(r,t,n){let i=this.currentScope();if(t&8||t&16){this.checkRedeclarationInScope(i,r,t,n);let s=i.names.get(r)||0;t&16?s=s|4:(i.firstLexicalName||(i.firstLexicalName=r),s=s|2),i.names.set(r,s),t&8&&this.maybeExportDefined(i,r)}else if(t&4)for(let s=this.scopeStack.length-1;s>=0&&(i=this.scopeStack[s],this.checkRedeclarationInScope(i,r,t,n),i.names.set(r,(i.names.get(r)||0)|1),this.maybeExportDefined(i,r),!(i.flags&387));--s);this.parser.inModule&&i.flags&1&&this.undefinedExports.delete(r)}maybeExportDefined(r,t){this.parser.inModule&&r.flags&1&&this.undefinedExports.delete(t)}checkRedeclarationInScope(r,t,n,i){this.isRedeclaredInScope(r,t,n)&&this.parser.raise(w.VarRedeclaration,i,{identifierName:t})}isRedeclaredInScope(r,t,n){if(!(n&1))return!1;if(n&8)return r.names.has(t);let i=r.names.get(t);return n&16?(i&2)>0||!this.treatFunctionsAsVarInScope(r)&&(i&1)>0:(i&2)>0&&!(r.flags&8&&r.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(r)&&(i&4)>0}checkLocalExport(r){let{name:t}=r;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,r.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let r=this.scopeStack.length-1;;r--){let{flags:t}=this.scopeStack[r];if(t&387)return t}}currentThisScopeFlags(){for(let r=this.scopeStack.length-1;;r--){let{flags:t}=this.scopeStack[r];if(t&451&&!(t&4))return t}}},Oc=class extends Xs{constructor(...r){super(...r),this.declareFunctions=new Set}},Rc=class extends Qs{createScope(r){return new Oc(r)}declareName(r,t,n){let i=this.currentScope();if(t&2048){this.checkRedeclarationInScope(i,r,t,n),this.maybeExportDefined(i,r),i.declareFunctions.add(r);return}super.declareName(r,t,n)}isRedeclaredInScope(r,t,n){if(super.isRedeclaredInScope(r,t,n))return!0;if(n&2048&&!r.declareFunctions.has(t)){let i=r.names.get(t);return(i&4)>0||(i&2)>0}return!1}checkLocalExport(r){this.scopeStack[0].declareFunctions.has(r.name)||super.checkLocalExport(r)}},Lc=class{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(r){if(typeof r=="string")return this.plugins.has(r);{let[t,n]=r;if(!this.hasPlugin(t))return!1;let i=this.plugins.get(t);for(let s of Object.keys(n))if(i?.[s]!==n[s])return!1;return!0}}getPluginOption(r,t){var n;return(n=this.plugins.get(r))==null?void 0:n[t]}};function Zy(e,r){e.trailingComments===void 0?e.trailingComments=r:e.trailingComments.unshift(...r)}function aT(e,r){e.leadingComments===void 0?e.leadingComments=r:e.leadingComments.unshift(...r)}function Zs(e,r){e.innerComments===void 0?e.innerComments=r:e.innerComments.unshift(...r)}function Gs(e,r,t){let n=null,i=r.length;for(;n===null&&i>0;)n=r[--i];n===null||n.start>t.start?Zs(e,t.comments):Zy(n,t.comments)}var Bc=class extends Lc{addComment(r){this.filename&&(r.loc.filename=this.filename);let{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(r),this.state.commentsLen++}processComment(r){let{commentStack:t}=this.state,n=t.length;if(n===0)return;let i=n-1,s=t[i];s.start===r.end&&(s.leadingNode=r,i--);let{start:o}=r;for(;i>=0;i--){let a=t[i],l=a.end;if(l>o)a.containingNode=r,this.finalizeComment(a),t.splice(i,1);else{l===o&&(a.trailingNode=r);break}}}finalizeComment(r){let{comments:t}=r;if(r.leadingNode!==null||r.trailingNode!==null)r.leadingNode!==null&&Zy(r.leadingNode,t),r.trailingNode!==null&&aT(r.trailingNode,t);else{let{containingNode:n,start:i}=r;if(this.input.charCodeAt(i-1)===44)switch(n.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":Gs(n,n.properties,r);break;case"CallExpression":case"OptionalCallExpression":Gs(n,n.arguments,r);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":Gs(n,n.params,r);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":Gs(n,n.elements,r);break;case"ExportNamedDeclaration":case"ImportDeclaration":Gs(n,n.specifiers,r);break;default:Zs(n,t)}else Zs(n,t)}}finalizeRemainingComments(){let{commentStack:r}=this.state;for(let t=r.length-1;t>=0;t--)this.finalizeComment(r[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(r){let{commentStack:t}=this.state,{length:n}=t;if(n===0)return;let i=t[n-1];i.leadingNode===r&&(i.leadingNode=null)}resetPreviousIdentifierLeadingComments(r){let{commentStack:t}=this.state,{length:n}=t;n!==0&&(t[n-1].trailingNode===r?t[n-1].trailingNode=null:n>=2&&t[n-2].trailingNode===r&&(t[n-2].trailingNode=null))}takeSurroundingComments(r,t,n){let{commentStack:i}=this.state,s=i.length;if(s===0)return;let o=s-1;for(;o>=0;o--){let a=i[o],l=a.end;if(a.start===n)a.leadingNode=r;else if(l===t)a.trailingNode=r;else if(l<t)break}}},lT=/\r\n|[\r\n\u2028\u2029]/,_a=new RegExp(lT.source,"g");function Wi(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function Ly(e,r,t){for(let n=r;n<t;n++)if(Wi(e.charCodeAt(n)))return!0;return!1}var Tc=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Pc=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function uT(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}var Mc=class e{constructor(){this.flags=1024,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=139,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[Oe.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(this.flags&1)>0}set strict(r){r?this.flags|=1:this.flags&=-2}init({strictMode:r,sourceType:t,startLine:n,startColumn:i}){this.strict=r===!1?!1:r===!0?!0:t==="module",this.curLine=n,this.lineStart=-i,this.startLoc=this.endLoc=new Vr(n,i,0)}get maybeInArrowParameters(){return(this.flags&2)>0}set maybeInArrowParameters(r){r?this.flags|=2:this.flags&=-3}get inType(){return(this.flags&4)>0}set inType(r){r?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(this.flags&8)>0}set noAnonFunctionType(r){r?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(this.flags&16)>0}set hasFlowComment(r){r?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(this.flags&32)>0}set isAmbientContext(r){r?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(this.flags&64)>0}set inAbstractClass(r){r?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(this.flags&128)>0}set inDisallowConditionalTypesContext(r){r?this.flags|=128:this.flags&=-129}get soloAwait(){return(this.flags&256)>0}set soloAwait(r){r?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(this.flags&512)>0}set inFSharpPipelineDirectBody(r){r?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(this.flags&1024)>0}set canStartJSXElement(r){r?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(this.flags&2048)>0}set containsEsc(r){r?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(this.flags&4096)>0}set hasTopLevelAwait(r){r?this.flags|=4096:this.flags&=-4097}curPosition(){return new Vr(this.curLine,this.pos-this.lineStart,this.pos)}clone(){let r=new e;return r.flags=this.flags,r.curLine=this.curLine,r.lineStart=this.lineStart,r.startLoc=this.startLoc,r.endLoc=this.endLoc,r.errors=this.errors.slice(),r.potentialArrowAt=this.potentialArrowAt,r.noArrowAt=this.noArrowAt.slice(),r.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),r.topicContext=this.topicContext,r.labels=this.labels.slice(),r.commentsLen=this.commentsLen,r.commentStack=this.commentStack.slice(),r.pos=this.pos,r.type=this.type,r.value=this.value,r.start=this.start,r.end=this.end,r.lastTokEndLoc=this.lastTokEndLoc,r.lastTokStartLoc=this.lastTokStartLoc,r.context=this.context.slice(),r.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,r.strictErrors=this.strictErrors,r.tokensLength=this.tokensLength,r}},cT=function(r){return r>=48&&r<=57},By={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},Oa={bin:e=>e===48||e===49,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function My(e,r,t,n,i,s){let o=t,a=n,l=i,u="",c=null,p=t,{length:d}=r;for(;;){if(t>=d){s.unterminated(o,a,l),u+=r.slice(p,t);break}let m=r.charCodeAt(t);if(pT(e,m,r,t)){u+=r.slice(p,t);break}if(m===92){u+=r.slice(p,t);let f=dT(r,t,n,i,e==="template",s);f.ch===null&&!c?c={pos:t,lineStart:n,curLine:i}:u+=f.ch,{pos:t,lineStart:n,curLine:i}=f,p=t}else m===8232||m===8233?(++t,++i,n=t):m===10||m===13?e==="template"?(u+=r.slice(p,t)+`
`,++t,m===13&&r.charCodeAt(t)===10&&++t,++i,p=n=t):s.unterminated(o,a,l):++t}return{pos:t,str:u,firstInvalidLoc:c,lineStart:n,curLine:i,containsInvalid:!!c}}function pT(e,r,t,n){return e==="template"?r===96||r===36&&t.charCodeAt(n+1)===123:r===(e==="double"?34:39)}function dT(e,r,t,n,i,s){let o=!i;r++;let a=u=>({pos:r,ch:u,lineStart:t,curLine:n}),l=e.charCodeAt(r++);switch(l){case 110:return a(`
`);case 114:return a("\r");case 120:{let u;return{code:u,pos:r}=$c(e,r,t,n,2,!1,o,s),a(u===null?null:String.fromCharCode(u))}case 117:{let u;return{code:u,pos:r}=tb(e,r,t,n,o,s),a(u===null?null:String.fromCodePoint(u))}case 116:return a("	");case 98:return a("\b");case 118:return a("\v");case 102:return a("\f");case 13:e.charCodeAt(r)===10&&++r;case 10:t=r,++n;case 8232:case 8233:return a("");case 56:case 57:if(i)return a(null);s.strictNumericEscape(r-1,t,n);default:if(l>=48&&l<=55){let u=r-1,p=/^[0-7]+/.exec(e.slice(u,r+2))[0],d=parseInt(p,8);d>255&&(p=p.slice(0,-1),d=parseInt(p,8)),r+=p.length-1;let m=e.charCodeAt(r);if(p!=="0"||m===56||m===57){if(i)return a(null);s.strictNumericEscape(u,t,n)}return a(String.fromCharCode(d))}return a(String.fromCharCode(l))}}function $c(e,r,t,n,i,s,o,a){let l=r,u;return{n:u,pos:r}=eb(e,r,t,n,16,i,s,!1,a,!o),u===null&&(o?a.invalidEscapeSequence(l,t,n):r=l-1),{code:u,pos:r}}function eb(e,r,t,n,i,s,o,a,l,u){let c=r,p=i===16?By.hex:By.decBinOct,d=i===16?Oa.hex:i===10?Oa.dec:i===8?Oa.oct:Oa.bin,m=!1,f=0;for(let h=0,g=s??1/0;h<g;++h){let y=e.charCodeAt(r),x;if(y===95&&a!=="bail"){let C=e.charCodeAt(r-1),D=e.charCodeAt(r+1);if(a){if(Number.isNaN(D)||!d(D)||p.has(C)||p.has(D)){if(u)return{n:null,pos:r};l.unexpectedNumericSeparator(r,t,n)}}else{if(u)return{n:null,pos:r};l.numericSeparatorInEscapeSequence(r,t,n)}++r;continue}if(y>=97?x=y-97+10:y>=65?x=y-65+10:cT(y)?x=y-48:x=1/0,x>=i){if(x<=9&&u)return{n:null,pos:r};if(x<=9&&l.invalidDigit(r,t,n,i))x=0;else if(o)x=0,m=!0;else break}++r,f=f*i+x}return r===c||s!=null&&r-c!==s||m?{n:null,pos:r}:{n:f,pos:r}}function tb(e,r,t,n,i,s){let o=e.charCodeAt(r),a;if(o===123){if(++r,{code:a,pos:r}=$c(e,r,t,n,e.indexOf("}",r)-r,!0,i,s),++r,a!==null&&a>1114111)if(i)s.invalidCodePoint(r,t,n);else return{code:null,pos:r}}else({code:a,pos:r}=$c(e,r,t,n,4,!1,i,s));return{code:a,pos:r}}function Hs(e,r,t){return new Vr(t,e-r,e)}var fT=new Set([103,109,115,105,121,117,100,118]),Kr=class{constructor(r){this.type=r.type,this.value=r.value,this.start=r.start,this.end=r.end,this.loc=new Hi(r.startLoc,r.endLoc)}},Uc=class extends Bc{constructor(r,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(n,i,s,o)=>this.options.errorRecovery?(this.raise(w.InvalidDigit,Hs(n,i,s),{radix:o}),!0):!1,numericSeparatorInEscapeSequence:this.errorBuilder(w.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(w.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(w.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(w.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(n,i,s)=>{this.recordStrictModeErrors(w.StrictNumericEscape,Hs(n,i,s))},unterminated:(n,i,s)=>{throw this.raise(w.UnterminatedString,Hs(n-1,i,s))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(w.StrictNumericEscape),unterminated:(n,i,s)=>{throw this.raise(w.UnterminatedTemplate,Hs(n,i,s))}}),this.state=new Mc,this.state.init(r),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1}pushToken(r){this.tokens.length=this.state.tokensLength,this.tokens.push(r),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new Kr(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(r){return this.match(r)?(this.next(),!0):!1}match(r){return this.state.type===r}createLookaheadState(r){return{pos:r.pos,value:null,type:r.type,start:r.start,end:r.end,context:[this.curContext()],inType:r.inType,startLoc:r.startLoc,lastTokEndLoc:r.lastTokEndLoc,curLine:r.curLine,lineStart:r.lineStart,curPosition:r.curPosition}}lookahead(){let r=this.state;this.state=this.createLookaheadState(r),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;let t=this.state;return this.state=r,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(r){return Tc.lastIndex=r,Tc.test(this.input)?Tc.lastIndex:r}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(r){return Pc.lastIndex=r,Pc.test(this.input)?Pc.lastIndex:r}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(r){let t=this.input.charCodeAt(r);if((t&64512)===55296&&++r<this.input.length){let n=this.input.charCodeAt(r);(n&64512)===56320&&(t=65536+((t&1023)<<10)+(n&1023))}return t}setStrict(r){this.state.strict=r,r&&(this.state.strictErrors.forEach(([t,n])=>this.raise(t,n)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(139);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(r){let t;this.isLookahead||(t=this.state.curPosition());let n=this.state.pos,i=this.input.indexOf(r,n+2);if(i===-1)throw this.raise(w.UnterminatedComment,this.state.curPosition());for(this.state.pos=i+r.length,_a.lastIndex=n+2;_a.test(this.input)&&_a.lastIndex<=i;)++this.state.curLine,this.state.lineStart=_a.lastIndex;if(this.isLookahead)return;let s={type:"CommentBlock",value:this.input.slice(n+2,i),start:n,end:i+r.length,loc:new Hi(t,this.state.curPosition())};return this.options.tokens&&this.pushToken(s),s}skipLineComment(r){let t=this.state.pos,n;this.isLookahead||(n=this.state.curPosition());let i=this.input.charCodeAt(this.state.pos+=r);if(this.state.pos<this.length)for(;!Wi(i)&&++this.state.pos<this.length;)i=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;let s=this.state.pos,a={type:"CommentLine",value:this.input.slice(t+r,s),start:t,end:s,loc:new Hi(n,this.state.curPosition())};return this.options.tokens&&this.pushToken(a),a}skipSpace(){let r=this.state.pos,t=[];e:for(;this.state.pos<this.length;){let n=this.input.charCodeAt(this.state.pos);switch(n){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{let i=this.skipBlockComment("*/");i!==void 0&&(this.addComment(i),this.options.attachComment&&t.push(i));break}case 47:{let i=this.skipLineComment(2);i!==void 0&&(this.addComment(i),this.options.attachComment&&t.push(i));break}default:break e}break;default:if(uT(n))++this.state.pos;else if(n===45&&!this.inModule&&this.options.annexB){let i=this.state.pos;if(this.input.charCodeAt(i+1)===45&&this.input.charCodeAt(i+2)===62&&(r===0||this.state.lineStart>r)){let s=this.skipLineComment(3);s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s))}else break e}else if(n===60&&!this.inModule&&this.options.annexB){let i=this.state.pos;if(this.input.charCodeAt(i+1)===33&&this.input.charCodeAt(i+2)===45&&this.input.charCodeAt(i+3)===45){let s=this.skipLineComment(4);s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s))}else break e}else break e}}if(t.length>0){let n=this.state.pos,i={start:r,end:n,comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(i)}}finishToken(r,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();let n=this.state.type;this.state.type=r,this.state.value=t,this.isLookahead||this.updateContext(n)}replaceToken(r){this.state.type=r,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;let r=this.state.pos+1,t=this.codePointAtPos(r);if(t>=48&&t<=57)throw this.raise(w.UnexpectedDigitAfterHash,this.state.curPosition());if(t===123||t===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(t===123?w.RecordExpressionHashIncorrectStartSyntaxType:w.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,t===123?this.finishToken(7):this.finishToken(1)}else fn(t)?(++this.state.pos,this.finishToken(138,this.readWord1(t))):t===92?(++this.state.pos,this.finishToken(138,this.readWord1())):this.finishOp(27,1)}readToken_dot(){let r=this.input.charCodeAt(this.state.pos+1);if(r>=48&&r<=57){this.readNumber(!0);return}r===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let r=this.input.charCodeAt(this.state.pos+1);if(r!==33)return!1;let t=this.state.pos;for(this.state.pos+=1;!Wi(r)&&++this.state.pos<this.length;)r=this.input.charCodeAt(this.state.pos);let n=this.input.slice(t+2,this.state.pos);return this.finishToken(28,n),!0}readToken_mult_modulo(r){let t=r===42?55:54,n=1,i=this.input.charCodeAt(this.state.pos+1);r===42&&i===42&&(n++,i=this.input.charCodeAt(this.state.pos+2),t=57),i===61&&!this.state.inType&&(n++,t=r===37?33:30),this.finishOp(t,n)}readToken_pipe_amp(r){let t=this.input.charCodeAt(this.state.pos+1);if(t===r){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(r===124?41:42,2);return}if(r===124){if(t===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&t===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(w.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&t===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(w.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return}}if(t===61){this.finishOp(30,2);return}this.finishOp(r===124?43:45,1)}readToken_caret(){let r=this.input.charCodeAt(this.state.pos+1);r===61&&!this.state.inType?this.finishOp(32,2):r===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94&&this.unexpected()):this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(r){let t=this.input.charCodeAt(this.state.pos+1);if(t===r){this.finishOp(34,2);return}t===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){let{pos:r}=this.state,t=this.input.charCodeAt(r+1);if(t===60){if(this.input.charCodeAt(r+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(t===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){let{pos:r}=this.state,t=this.input.charCodeAt(r+1);if(t===62){let n=this.input.charCodeAt(r+2)===62?3:2;if(this.input.charCodeAt(r+n)===61){this.finishOp(30,n+1);return}this.finishOp(52,n);return}if(t===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(r){let t=this.input.charCodeAt(this.state.pos+1);if(t===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(r===61&&t===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(r===61?29:35,1)}readToken_question(){let r=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);r===63?t===61?this.finishOp(30,3):this.finishOp(40,2):r===46&&!(t>=48&&t<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(r){switch(r){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(w.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(w.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{let t=this.input.charCodeAt(this.state.pos+1);if(t===120||t===88){this.readRadixNumber(16);return}if(t===111||t===79){this.readRadixNumber(8);return}if(t===98||t===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(r);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(r);return;case 124:case 38:this.readToken_pipe_amp(r);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(r);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(r);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(fn(r)){this.readWord(r);return}}throw this.raise(w.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(r)})}finishOp(r,t){let n=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(r,n)}readRegexp(){let r=this.state.startLoc,t=this.state.start+1,n,i,{pos:s}=this.state;for(;;++s){if(s>=this.length)throw this.raise(w.UnterminatedRegExp,$t(r,1));let u=this.input.charCodeAt(s);if(Wi(u))throw this.raise(w.UnterminatedRegExp,$t(r,1));if(n)n=!1;else{if(u===91)i=!0;else if(u===93&&i)i=!1;else if(u===47&&!i)break;n=u===92}}let o=this.input.slice(t,s);++s;let a="",l=()=>$t(r,s+2-t);for(;s<this.length;){let u=this.codePointAtPos(s),c=String.fromCharCode(u);if(fT.has(u))u===118?a.includes("u")&&this.raise(w.IncompatibleRegExpUVFlags,l()):u===117&&a.includes("v")&&this.raise(w.IncompatibleRegExpUVFlags,l()),a.includes(c)&&this.raise(w.DuplicateRegExpFlags,l());else if(qi(u)||u===92)this.raise(w.MalformedRegExpFlags,l());else break;++s,a+=c}this.state.pos=s,this.finishToken(137,{pattern:o,flags:a})}readInt(r,t,n=!1,i=!0){let{n:s,pos:o}=eb(this.input,this.state.pos,this.state.lineStart,this.state.curLine,r,t,n,i,this.errorHandlers_readInt,!1);return this.state.pos=o,s}readRadixNumber(r){let t=this.state.curPosition(),n=!1;this.state.pos+=2;let i=this.readInt(r);i==null&&this.raise(w.InvalidDigit,$t(t,2),{radix:r});let s=this.input.charCodeAt(this.state.pos);if(s===110)++this.state.pos,n=!0;else if(s===109)throw this.raise(w.InvalidDecimal,t);if(fn(this.codePointAtPos(this.state.pos)))throw this.raise(w.NumberIdentifier,this.state.curPosition());if(n){let o=this.input.slice(t.index,this.state.pos).replace(/[_n]/g,"");this.finishToken(135,o);return}this.finishToken(134,i)}readNumber(r){let t=this.state.pos,n=this.state.curPosition(),i=!1,s=!1,o=!1,a=!1,l=!1;!r&&this.readInt(10)===null&&this.raise(w.InvalidNumber,this.state.curPosition());let u=this.state.pos-t>=2&&this.input.charCodeAt(t)===48;if(u){let m=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(w.StrictOctalLiteral,n),!this.state.strict){let f=m.indexOf("_");f>0&&this.raise(w.ZeroDigitNumericSeparator,$t(n,f))}l=u&&!/[89]/.test(m)}let c=this.input.charCodeAt(this.state.pos);if(c===46&&!l&&(++this.state.pos,this.readInt(10),i=!0,c=this.input.charCodeAt(this.state.pos)),(c===69||c===101)&&!l&&(c=this.input.charCodeAt(++this.state.pos),(c===43||c===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(w.InvalidOrMissingExponent,n),i=!0,a=!0,c=this.input.charCodeAt(this.state.pos)),c===110&&((i||u)&&this.raise(w.InvalidBigIntLiteral,n),++this.state.pos,s=!0),c===109&&(this.expectPlugin("decimal",this.state.curPosition()),(a||u)&&this.raise(w.InvalidDecimal,n),++this.state.pos,o=!0),fn(this.codePointAtPos(this.state.pos)))throw this.raise(w.NumberIdentifier,this.state.curPosition());let p=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(s){this.finishToken(135,p);return}if(o){this.finishToken(136,p);return}let d=l?parseInt(p,8):parseFloat(p);this.finishToken(134,d)}readCodePoint(r){let{code:t,pos:n}=tb(this.input,this.state.pos,this.state.lineStart,this.state.curLine,r,this.errorHandlers_readCodePoint);return this.state.pos=n,t}readString(r){let{str:t,pos:n,curLine:i,lineStart:s}=My(r===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=n+1,this.state.lineStart=s,this.state.curLine=i,this.finishToken(133,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){let r=this.input[this.state.pos],{str:t,firstInvalidLoc:n,pos:i,curLine:s,lineStart:o}=My("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=i+1,this.state.lineStart=o,this.state.curLine=s,n&&(this.state.firstInvalidTemplateEscapePos=new Vr(n.curLine,n.pos-n.lineStart,n.pos)),this.input.codePointAt(i)===96?this.finishToken(24,n?null:r+t+"`"):(this.state.pos++,this.finishToken(25,n?null:r+t+"${"))}recordStrictModeErrors(r,t){let n=t.index;this.state.strict&&!this.state.strictErrors.has(n)?this.raise(r,t):this.state.strictErrors.set(n,[r,t])}readWord1(r){this.state.containsEsc=!1;let t="",n=this.state.pos,i=this.state.pos;for(r!==void 0&&(this.state.pos+=r<=65535?1:2);this.state.pos<this.length;){let s=this.codePointAtPos(this.state.pos);if(qi(s))this.state.pos+=s<=65535?1:2;else if(s===92){this.state.containsEsc=!0,t+=this.input.slice(i,this.state.pos);let o=this.state.curPosition(),a=this.state.pos===n?fn:qi;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(w.MissingUnicodeEscape,this.state.curPosition()),i=this.state.pos-1;continue}++this.state.pos;let l=this.readCodePoint(!0);l!==null&&(a(l)||this.raise(w.EscapedCharNotAnIdentifier,o),t+=String.fromCodePoint(l)),i=this.state.pos}else break}return t+this.input.slice(i,this.state.pos)}readWord(r){let t=this.readWord1(r),n=Qc.get(t);n!==void 0?this.finishToken(n,Ln(n)):this.finishToken(132,t)}checkKeywordEscapes(){let{type:r}=this.state;ip(r)&&this.state.containsEsc&&this.raise(w.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:Ln(r)})}raise(r,t,n={}){let i=t instanceof Vr?t:t.loc.start,s=r(i,n);if(!this.options.errorRecovery)throw s;return this.isLookahead||this.state.errors.push(s),s}raiseOverwrite(r,t,n={}){let i=t instanceof Vr?t:t.loc.start,s=i.index,o=this.state.errors;for(let a=o.length-1;a>=0;a--){let l=o[a];if(l.loc.index===s)return o[a]=r(i,n);if(l.loc.index<s)break}return this.raise(r,t,n)}updateContext(r){}unexpected(r,t){throw this.raise(w.UnexpectedToken,r??this.state.startLoc,{expected:t?Ln(t):null})}expectPlugin(r,t){if(this.hasPlugin(r))return!0;throw this.raise(w.MissingPlugin,t??this.state.startLoc,{missingPlugin:[r]})}expectOnePlugin(r){if(!r.some(t=>this.hasPlugin(t)))throw this.raise(w.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:r})}errorBuilder(r){return(t,n,i)=>{this.raise(r,Hs(t,n,i))}}},jc=class{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}},Kc=class{constructor(r){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=r}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new jc)}exit(){let r=this.stack.pop(),t=this.current();for(let[n,i]of Array.from(r.undefinedPrivateNames))t?t.undefinedPrivateNames.has(n)||t.undefinedPrivateNames.set(n,i):this.parser.raise(w.InvalidPrivateFieldResolution,i,{identifierName:n})}declarePrivateName(r,t,n){let{privateNames:i,loneAccessors:s,undefinedPrivateNames:o}=this.current(),a=i.has(r);if(t&3){let l=a&&s.get(r);if(l){let u=l&4,c=t&4,p=l&3,d=t&3;a=p===d||u!==c,a||s.delete(r)}else a||s.set(r,t)}a&&this.parser.raise(w.PrivateNameRedeclaration,n,{identifierName:r}),i.add(r),o.delete(r)}usePrivateName(r,t){let n;for(n of this.stack)if(n.privateNames.has(r))return;n?n.undefinedPrivateNames.set(r,t):this.parser.raise(w.InvalidPrivateFieldResolution,t,{identifierName:r})}},Ji=class{constructor(r=0){this.type=r}canBeArrowParameterDeclaration(){return this.type===2||this.type===1}isCertainlyParameterDeclaration(){return this.type===3}},Ua=class extends Ji{constructor(r){super(r),this.declarationErrors=new Map}recordDeclarationError(r,t){let n=t.index;this.declarationErrors.set(n,[r,t])}clearDeclarationError(r){this.declarationErrors.delete(r)}iterateErrors(r){this.declarationErrors.forEach(r)}},Vc=class{constructor(r){this.parser=void 0,this.stack=[new Ji],this.parser=r}enter(r){this.stack.push(r)}exit(){this.stack.pop()}recordParameterInitializerError(r,t){let n=t.loc.start,{stack:i}=this,s=i.length-1,o=i[s];for(;!o.isCertainlyParameterDeclaration();){if(o.canBeArrowParameterDeclaration())o.recordDeclarationError(r,n);else return;o=i[--s]}this.parser.raise(r,n)}recordArrowParameterBindingError(r,t){let{stack:n}=this,i=n[n.length-1],s=t.loc.start;if(i.isCertainlyParameterDeclaration())this.parser.raise(r,s);else if(i.canBeArrowParameterDeclaration())i.recordDeclarationError(r,s);else return}recordAsyncArrowParametersError(r){let{stack:t}=this,n=t.length-1,i=t[n];for(;i.canBeArrowParameterDeclaration();)i.type===2&&i.recordDeclarationError(w.AwaitBindingIdentifier,r),i=t[--n]}validateAsPattern(){let{stack:r}=this,t=r[r.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors(([n,i])=>{this.parser.raise(n,i);let s=r.length-2,o=r[s];for(;o.canBeArrowParameterDeclaration();)o.clearDeclarationError(i.index),o=r[--s]})}};function mT(){return new Ji(3)}function hT(){return new Ua(1)}function gT(){return new Ua(2)}function rb(){return new Ji}var zc=class{constructor(){this.stacks=[]}enter(r){this.stacks.push(r)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&2)>0}get hasYield(){return(this.currentFlags()&1)>0}get hasReturn(){return(this.currentFlags()&4)>0}get hasIn(){return(this.currentFlags()&8)>0}};function Ba(e,r){return(e?2:0)|(r?1:0)}var qc=class extends Uc{addExtra(r,t,n,i=!0){if(!r)return;let{extra:s}=r;s==null&&(s={},r.extra=s),i?s[t]=n:Object.defineProperty(s,t,{enumerable:i,value:n})}isContextual(r){return this.state.type===r&&!this.state.containsEsc}isUnparsedContextual(r,t){let n=r+t.length;if(this.input.slice(r,n)===t){let i=this.input.charCodeAt(n);return!(qi(i)||(i&64512)===55296)}return!1}isLookaheadContextual(r){let t=this.nextTokenStart();return this.isUnparsedContextual(t,r)}eatContextual(r){return this.isContextual(r)?(this.next(),!0):!1}expectContextual(r,t){if(!this.eatContextual(r)){if(t!=null)throw this.raise(t,this.state.startLoc);this.unexpected(null,r)}}canInsertSemicolon(){return this.match(139)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return Ly(this.input,this.state.lastTokEndLoc.index,this.state.start)}hasFollowingLineBreak(){return Ly(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(r=!0){(r?this.isLineTerminator():this.eat(13))||this.raise(w.MissingSemicolon,this.state.lastTokEndLoc)}expect(r,t){this.eat(r)||this.unexpected(t,r)}tryParse(r,t=this.state.clone()){let n={node:null};try{let i=r((s=null)=>{throw n.node=s,n});if(this.state.errors.length>t.errors.length){let s=this.state;return this.state=t,this.state.tokensLength=s.tokensLength,{node:i,error:s.errors[t.errors.length],thrown:!1,aborted:!1,failState:s}}return{node:i,error:null,thrown:!1,aborted:!1,failState:null}}catch(i){let s=this.state;if(this.state=t,i instanceof SyntaxError)return{node:null,error:i,thrown:!0,aborted:!1,failState:s};if(i===n)return{node:n.node,error:null,thrown:!1,aborted:!0,failState:s};throw i}}checkExpressionErrors(r,t){if(!r)return!1;let{shorthandAssignLoc:n,doubleProtoLoc:i,privateKeyLoc:s,optionalParametersLoc:o}=r,a=!!n||!!i||!!o||!!s;if(!t)return a;n!=null&&this.raise(w.InvalidCoverInitializedName,n),i!=null&&this.raise(w.DuplicateProto,i),s!=null&&this.raise(w.UnexpectedPrivateField,s),o!=null&&this.unexpected(o)}isLiteralPropertyName(){return Wy(this.state.type)}isPrivateName(r){return r.type==="PrivateName"}getPrivateNameSV(r){return r.id.name}hasPropertyAsPrivateName(r){return(r.type==="MemberExpression"||r.type==="OptionalMemberExpression")&&this.isPrivateName(r.property)}isObjectProperty(r){return r.type==="ObjectProperty"}isObjectMethod(r){return r.type==="ObjectMethod"}initializeScopes(r=this.options.sourceType==="module"){let t=this.state.labels;this.state.labels=[];let n=this.exportedIdentifiers;this.exportedIdentifiers=new Set;let i=this.inModule;this.inModule=r;let s=this.scope,o=this.getScopeHandler();this.scope=new o(this,r);let a=this.prodParam;this.prodParam=new zc;let l=this.classScope;this.classScope=new Kc(this);let u=this.expressionScope;return this.expressionScope=new Vc(this),()=>{this.state.labels=t,this.exportedIdentifiers=n,this.inModule=i,this.scope=s,this.prodParam=a,this.classScope=l,this.expressionScope=u}}enterInitialScopes(){let r=0;this.inModule&&(r|=2),this.scope.enter(1),this.prodParam.enter(r)}checkDestructuringPrivate(r){let{privateKeyLoc:t}=r;t!==null&&this.expectPlugin("destructuringPrivate",t)}},Gi=class{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}},Yi=class{constructor(r,t,n){this.type="",this.start=t,this.end=0,this.loc=new Hi(n),r!=null&&r.options.ranges&&(this.range=[t,0]),r!=null&&r.filename&&(this.loc.filename=r.filename)}},ap=Yi.prototype;ap.__clone=function(){let e=new Yi(void 0,this.start,this.loc.start),r=Object.keys(this);for(let t=0,n=r.length;t<n;t++){let i=r[t];i!=="leadingComments"&&i!=="trailingComments"&&i!=="innerComments"&&(e[i]=this[i])}return e};function yT(e){return hn(e)}function hn(e){let{type:r,start:t,end:n,loc:i,range:s,extra:o,name:a}=e,l=Object.create(ap);return l.type=r,l.start=t,l.end=n,l.loc=i,l.range=s,l.extra=o,l.name=a,r==="Placeholder"&&(l.expectedNode=e.expectedNode),l}function bT(e){let{type:r,start:t,end:n,loc:i,range:s,extra:o}=e;if(r==="Placeholder")return yT(e);let a=Object.create(ap);return a.type=r,a.start=t,a.end=n,a.loc=i,a.range=s,e.raw!==void 0?a.raw=e.raw:a.extra=o,a.value=e.value,a}var Wc=class extends qc{startNode(){let r=this.state.startLoc;return new Yi(this,r.index,r)}startNodeAt(r){return new Yi(this,r.index,r)}startNodeAtNode(r){return this.startNodeAt(r.loc.start)}finishNode(r,t){return this.finishNodeAt(r,t,this.state.lastTokEndLoc)}finishNodeAt(r,t,n){return r.type=t,r.end=n.index,r.loc.end=n,this.options.ranges&&(r.range[1]=n.index),this.options.attachComment&&this.processComment(r),r}resetStartLocation(r,t){r.start=t.index,r.loc.start=t,this.options.ranges&&(r.range[0]=t.index)}resetEndLocation(r,t=this.state.lastTokEndLoc){r.end=t.index,r.loc.end=t,this.options.ranges&&(r.range[1]=t.index)}resetStartLocationFromNode(r,t){this.resetStartLocation(r,t.loc.start)}},DT=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),Z=mn`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:e})=>`Cannot overwrite reserved type ${e}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:e,enumName:r})=>`Boolean enum members need to be initialized. Use either \`${e} = true,\` or \`${e} = false,\` in enum \`${r}\`.`,EnumDuplicateMemberName:({memberName:e,enumName:r})=>`Enum member names need to be unique, but the name \`${e}\` has already been used before in enum \`${r}\`.`,EnumInconsistentMemberValues:({enumName:e})=>`Enum \`${e}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:e,enumName:r})=>`Enum type \`${e}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${r}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:e})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:e,memberName:r,explicitType:t})=>`Enum \`${e}\` has type \`${t}\`, so the initializer of \`${r}\` needs to be a ${t} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:e,memberName:r})=>`Symbol enum members cannot be initialized. Use \`${r},\` in enum \`${e}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:e,memberName:r})=>`The enum member initializer for \`${r}\` needs to be a literal (either a boolean, number, or string) in enum \`${e}\`.`,EnumInvalidMemberName:({enumName:e,memberName:r,suggestion:t})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${r}\`, consider using \`${t}\`, in enum \`${e}\`.`,EnumNumberMemberNotInitialized:({enumName:e,memberName:r})=>`Number enum members need to be initialized, e.g. \`${r} = 1\` in enum \`${e}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:e})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${e}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:e})=>`Unexpected reserved type ${e}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:e,suggestion:r})=>`\`declare export ${e}\` is not supported. Use \`${r}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function xT(e){return e.type==="DeclareExportAllDeclaration"||e.type==="DeclareExportDeclaration"&&(!e.declaration||e.declaration.type!=="TypeAlias"&&e.declaration.type!=="InterfaceDeclaration")}function $y(e){return e.importKind==="type"||e.importKind==="typeof"}var ET={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function CT(e,r){let t=[],n=[];for(let i=0;i<e.length;i++)(r(e[i],i,e)?t:n).push(e[i]);return[t,n]}var ST=/\*?\s*@((?:no)?flow)\b/,wT=e=>class extends e{constructor(...t){super(...t),this.flowPragma=void 0}getScopeHandler(){return Rc}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}shouldParseEnums(){return!!this.getPluginOption("flow","enums")}finishToken(t,n){t!==133&&t!==13&&t!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(t,n)}addComment(t){if(this.flowPragma===void 0){let n=ST.exec(t.value);if(n)if(n[1]==="flow")this.flowPragma="flow";else if(n[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(t)}flowParseTypeInitialiser(t){let n=this.state.inType;this.state.inType=!0,this.expect(t||14);let i=this.flowParseType();return this.state.inType=n,i}flowParsePredicate(){let t=this.startNode(),n=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>n.index+1&&this.raise(Z.UnexpectedSpaceBetweenModuloChecks,n),this.eat(10)?(t.value=super.parseExpression(),this.expect(11),this.finishNode(t,"DeclaredPredicate")):this.finishNode(t,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){let t=this.state.inType;this.state.inType=!0,this.expect(14);let n=null,i=null;return this.match(54)?(this.state.inType=t,i=this.flowParsePredicate()):(n=this.flowParseType(),this.state.inType=t,this.match(54)&&(i=this.flowParsePredicate())),[n,i]}flowParseDeclareClass(t){return this.next(),this.flowParseInterfaceish(t,!0),this.finishNode(t,"DeclareClass")}flowParseDeclareFunction(t){this.next();let n=t.id=this.parseIdentifier(),i=this.startNode(),s=this.startNode();this.match(47)?i.typeParameters=this.flowParseTypeParameterDeclaration():i.typeParameters=null,this.expect(10);let o=this.flowParseFunctionTypeParams();return i.params=o.params,i.rest=o.rest,i.this=o._this,this.expect(11),[i.returnType,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),s.typeAnnotation=this.finishNode(i,"FunctionTypeAnnotation"),n.typeAnnotation=this.finishNode(s,"TypeAnnotation"),this.resetEndLocation(n),this.semicolon(),this.scope.declareName(t.id.name,2048,t.id.loc.start),this.finishNode(t,"DeclareFunction")}flowParseDeclare(t,n){if(this.match(80))return this.flowParseDeclareClass(t);if(this.match(68))return this.flowParseDeclareFunction(t);if(this.match(74))return this.flowParseDeclareVariable(t);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(t):(n&&this.raise(Z.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(t));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(t);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(t);if(this.isContextual(129))return this.flowParseDeclareInterface(t);if(this.match(82))return this.flowParseDeclareExportDeclaration(t,n);this.unexpected()}flowParseDeclareVariable(t){return this.next(),t.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(t.id.name,5,t.id.loc.start),this.semicolon(),this.finishNode(t,"DeclareVariable")}flowParseDeclareModule(t){this.scope.enter(0),this.match(133)?t.id=super.parseExprAtom():t.id=this.parseIdentifier();let n=t.body=this.startNode(),i=n.body=[];for(this.expect(5);!this.match(8);){let a=this.startNode();this.match(83)?(this.next(),!this.isContextual(130)&&!this.match(87)&&this.raise(Z.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(a)):(this.expectContextual(125,Z.UnsupportedStatementInDeclareModule),a=this.flowParseDeclare(a,!0)),i.push(a)}this.scope.exit(),this.expect(8),this.finishNode(n,"BlockStatement");let s=null,o=!1;return i.forEach(a=>{xT(a)?(s==="CommonJS"&&this.raise(Z.AmbiguousDeclareModuleKind,a),s="ES"):a.type==="DeclareModuleExports"&&(o&&this.raise(Z.DuplicateDeclareModuleExports,a),s==="ES"&&this.raise(Z.AmbiguousDeclareModuleKind,a),s="CommonJS",o=!0)}),t.kind=s||"CommonJS",this.finishNode(t,"DeclareModule")}flowParseDeclareExportDeclaration(t,n){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?t.declaration=this.flowParseDeclare(this.startNode()):(t.declaration=this.flowParseType(),this.semicolon()),t.default=!0,this.finishNode(t,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!n){let i=this.state.value;throw this.raise(Z.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:i,suggestion:ET[i]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return t.declaration=this.flowParseDeclare(this.startNode()),t.default=!1,this.finishNode(t,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return t=this.parseExport(t,null),t.type==="ExportNamedDeclaration"&&(t.type="ExportDeclaration",t.default=!1,delete t.exportKind),t.type="Declare"+t.type,t;this.unexpected()}flowParseDeclareModuleExports(t){return this.next(),this.expectContextual(111),t.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(t,"DeclareModuleExports")}flowParseDeclareTypeAlias(t){this.next();let n=this.flowParseTypeAlias(t);return n.type="DeclareTypeAlias",n}flowParseDeclareOpaqueType(t){this.next();let n=this.flowParseOpaqueType(t,!0);return n.type="DeclareOpaqueType",n}flowParseDeclareInterface(t){return this.next(),this.flowParseInterfaceish(t,!1),this.finishNode(t,"DeclareInterface")}flowParseInterfaceish(t,n){if(t.id=this.flowParseRestrictedIdentifier(!n,!0),this.scope.declareName(t.id.name,n?17:8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(!n&&this.eat(12));if(n){if(t.implements=[],t.mixins=[],this.eatContextual(117))do t.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(113))do t.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}t.body=this.flowParseObjectType({allowStatic:n,allowExact:!1,allowSpread:!1,allowProto:n,allowInexact:!1})}flowParseInterfaceExtends(){let t=this.startNode();return t.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?t.typeParameters=this.flowParseTypeParameterInstantiation():t.typeParameters=null,this.finishNode(t,"InterfaceExtends")}flowParseInterface(t){return this.flowParseInterfaceish(t,!1),this.finishNode(t,"InterfaceDeclaration")}checkNotUnderscore(t){t==="_"&&this.raise(Z.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(t,n,i){DT.has(t)&&this.raise(i?Z.AssignReservedType:Z.UnexpectedReservedType,n,{reservedType:t})}flowParseRestrictedIdentifier(t,n){return this.checkReservedType(this.state.value,this.state.startLoc,n),this.parseIdentifier(t)}flowParseTypeAlias(t){return t.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(t,"TypeAlias")}flowParseOpaqueType(t,n){return this.expectContextual(130),t.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.supertype=null,this.match(14)&&(t.supertype=this.flowParseTypeInitialiser(14)),t.impltype=null,n||(t.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(t,"OpaqueType")}flowParseTypeParameter(t=!1){let n=this.state.startLoc,i=this.startNode(),s=this.flowParseVariance(),o=this.flowParseTypeAnnotatableIdentifier();return i.name=o.name,i.variance=s,i.bound=o.typeAnnotation,this.match(29)?(this.eat(29),i.default=this.flowParseType()):t&&this.raise(Z.MissingTypeParamDefault,n),this.finishNode(i,"TypeParameter")}flowParseTypeParameterDeclaration(){let t=this.state.inType,n=this.startNode();n.params=[],this.state.inType=!0,this.match(47)||this.match(142)?this.next():this.unexpected();let i=!1;do{let s=this.flowParseTypeParameter(i);n.params.push(s),s.default&&(i=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=t,this.finishNode(n,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){let t=this.startNode(),n=this.state.inType;t.params=[],this.state.inType=!0,this.expect(47);let i=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)t.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=i,this.expect(48),this.state.inType=n,this.finishNode(t,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){let t=this.startNode(),n=this.state.inType;for(t.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)t.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=n,this.finishNode(t,"TypeParameterInstantiation")}flowParseInterfaceType(){let t=this.startNode();if(this.expectContextual(129),t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return t.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(t,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(134)||this.match(133)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(t,n,i){return t.static=n,this.lookahead().type===14?(t.id=this.flowParseObjectPropertyKey(),t.key=this.flowParseTypeInitialiser()):(t.id=null,t.key=this.flowParseType()),this.expect(3),t.value=this.flowParseTypeInitialiser(),t.variance=i,this.finishNode(t,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(t,n){return t.static=n,t.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(t.method=!0,t.optional=!1,t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start))):(t.method=!1,this.eat(17)&&(t.optional=!0),t.value=this.flowParseTypeInitialiser()),this.finishNode(t,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(t){for(t.params=[],t.rest=null,t.typeParameters=null,t.this=null,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(t.this=this.flowParseFunctionTypeParam(!0),t.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),t.returnType=this.flowParseTypeInitialiser(),this.finishNode(t,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(t,n){let i=this.startNode();return t.static=n,t.value=this.flowParseObjectTypeMethodish(i),this.finishNode(t,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:t,allowExact:n,allowSpread:i,allowProto:s,allowInexact:o}){let a=this.state.inType;this.state.inType=!0;let l=this.startNode();l.callProperties=[],l.properties=[],l.indexers=[],l.internalSlots=[];let u,c,p=!1;for(n&&this.match(6)?(this.expect(6),u=9,c=!0):(this.expect(5),u=8,c=!1),l.exact=c;!this.match(u);){let m=!1,f=null,h=null,g=this.startNode();if(s&&this.isContextual(118)){let x=this.lookahead();x.type!==14&&x.type!==17&&(this.next(),f=this.state.startLoc,t=!1)}if(t&&this.isContextual(106)){let x=this.lookahead();x.type!==14&&x.type!==17&&(this.next(),m=!0)}let y=this.flowParseVariance();if(this.eat(0))f!=null&&this.unexpected(f),this.eat(0)?(y&&this.unexpected(y.loc.start),l.internalSlots.push(this.flowParseObjectTypeInternalSlot(g,m))):l.indexers.push(this.flowParseObjectTypeIndexer(g,m,y));else if(this.match(10)||this.match(47))f!=null&&this.unexpected(f),y&&this.unexpected(y.loc.start),l.callProperties.push(this.flowParseObjectTypeCallProperty(g,m));else{let x="init";if(this.isContextual(99)||this.isContextual(104)){let D=this.lookahead();Wy(D.type)&&(x=this.state.value,this.next())}let C=this.flowParseObjectTypeProperty(g,m,f,y,x,i,o??!c);C===null?(p=!0,h=this.state.lastTokStartLoc):l.properties.push(C)}this.flowObjectTypeSemicolon(),h&&!this.match(8)&&!this.match(9)&&this.raise(Z.UnexpectedExplicitInexactInObject,h)}this.expect(u),i&&(l.inexact=p);let d=this.finishNode(l,"ObjectTypeAnnotation");return this.state.inType=a,d}flowParseObjectTypeProperty(t,n,i,s,o,a,l){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(a?l||this.raise(Z.InexactInsideExact,this.state.lastTokStartLoc):this.raise(Z.InexactInsideNonObject,this.state.lastTokStartLoc),s&&this.raise(Z.InexactVariance,s),null):(a||this.raise(Z.UnexpectedSpreadType,this.state.lastTokStartLoc),i!=null&&this.unexpected(i),s&&this.raise(Z.SpreadVariance,s),t.argument=this.flowParseType(),this.finishNode(t,"ObjectTypeSpreadProperty"));{t.key=this.flowParseObjectPropertyKey(),t.static=n,t.proto=i!=null,t.kind=o;let u=!1;return this.match(47)||this.match(10)?(t.method=!0,i!=null&&this.unexpected(i),s&&this.unexpected(s.loc.start),t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start)),(o==="get"||o==="set")&&this.flowCheckGetterSetterParams(t),!a&&t.key.name==="constructor"&&t.value.this&&this.raise(Z.ThisParamBannedInConstructor,t.value.this)):(o!=="init"&&this.unexpected(),t.method=!1,this.eat(17)&&(u=!0),t.value=this.flowParseTypeInitialiser(),t.variance=s),t.optional=u,this.finishNode(t,"ObjectTypeProperty")}}flowCheckGetterSetterParams(t){let n=t.kind==="get"?0:1,i=t.value.params.length+(t.value.rest?1:0);t.value.this&&this.raise(t.kind==="get"?Z.GetterMayNotHaveThisParam:Z.SetterMayNotHaveThisParam,t.value.this),i!==n&&this.raise(t.kind==="get"?w.BadGetterArity:w.BadSetterArity,t),t.kind==="set"&&t.value.rest&&this.raise(w.BadSetterRestParameter,t)}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(t,n){var i;(i=t)!=null||(t=this.state.startLoc);let s=n||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){let o=this.startNodeAt(t);o.qualification=s,o.id=this.flowParseRestrictedIdentifier(!0),s=this.finishNode(o,"QualifiedTypeIdentifier")}return s}flowParseGenericType(t,n){let i=this.startNodeAt(t);return i.typeParameters=null,i.id=this.flowParseQualifiedTypeIdentifier(t,n),this.match(47)&&(i.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(i,"GenericTypeAnnotation")}flowParseTypeofType(){let t=this.startNode();return this.expect(87),t.argument=this.flowParsePrimaryType(),this.finishNode(t,"TypeofTypeAnnotation")}flowParseTupleType(){let t=this.startNode();for(t.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(t.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(t,"TupleTypeAnnotation")}flowParseFunctionTypeParam(t){let n=null,i=!1,s=null,o=this.startNode(),a=this.lookahead(),l=this.state.type===78;return a.type===14||a.type===17?(l&&!t&&this.raise(Z.ThisParamMustBeFirst,o),n=this.parseIdentifier(l),this.eat(17)&&(i=!0,l&&this.raise(Z.ThisParamMayNotBeOptional,o)),s=this.flowParseTypeInitialiser()):s=this.flowParseType(),o.name=n,o.optional=i,o.typeAnnotation=s,this.finishNode(o,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(t){let n=this.startNodeAt(t.loc.start);return n.name=null,n.optional=!1,n.typeAnnotation=t,this.finishNode(n,"FunctionTypeParam")}flowParseFunctionTypeParams(t=[]){let n=null,i=null;for(this.match(78)&&(i=this.flowParseFunctionTypeParam(!0),i.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(n=this.flowParseFunctionTypeParam(!1)),{params:t,rest:n,_this:i}}flowIdentToTypeAnnotation(t,n,i){switch(i.name){case"any":return this.finishNode(n,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(n,"BooleanTypeAnnotation");case"mixed":return this.finishNode(n,"MixedTypeAnnotation");case"empty":return this.finishNode(n,"EmptyTypeAnnotation");case"number":return this.finishNode(n,"NumberTypeAnnotation");case"string":return this.finishNode(n,"StringTypeAnnotation");case"symbol":return this.finishNode(n,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(i.name),this.flowParseGenericType(t,i)}}flowParsePrimaryType(){let t=this.state.startLoc,n=this.startNode(),i,s,o=!1,a=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,s=this.flowParseTupleType(),this.state.noAnonFunctionType=a,s;case 47:{let l=this.startNode();return l.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),i=this.flowParseFunctionTypeParams(),l.params=i.params,l.rest=i.rest,l.this=i._this,this.expect(11),this.expect(19),l.returnType=this.flowParseType(),this.finishNode(l,"FunctionTypeAnnotation")}case 10:{let l=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(we(this.state.type)||this.match(78)){let u=this.lookahead().type;o=u!==17&&u!==14}else o=!0;if(o){if(this.state.noAnonFunctionType=!1,s=this.flowParseType(),this.state.noAnonFunctionType=a,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),s;this.eat(12)}return s?i=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(s)]):i=this.flowParseFunctionTypeParams(),l.params=i.params,l.rest=i.rest,l.this=i._this,this.expect(11),this.expect(19),l.returnType=this.flowParseType(),l.typeParameters=null,this.finishNode(l,"FunctionTypeAnnotation")}case 133:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return n.value=this.match(85),this.next(),this.finishNode(n,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(134))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",n);if(this.match(135))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",n);throw this.raise(Z.UnexpectedSubtractionOperand,this.state.startLoc)}this.unexpected();return;case 134:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 135:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(n,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(n,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(n,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(n,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(ip(this.state.type)){let l=Ln(this.state.type);return this.next(),super.createIdentifier(n,l)}else if(we(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(t,n,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){let t=this.state.startLoc,n=this.flowParsePrimaryType(),i=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){let s=this.startNodeAt(t),o=this.eat(18);i=i||o,this.expect(0),!o&&this.match(3)?(s.elementType=n,this.next(),n=this.finishNode(s,"ArrayTypeAnnotation")):(s.objectType=n,s.indexType=this.flowParseType(),this.expect(3),i?(s.optional=o,n=this.finishNode(s,"OptionalIndexedAccessType")):n=this.finishNode(s,"IndexedAccessType"))}return n}flowParsePrefixType(){let t=this.startNode();return this.eat(17)?(t.typeAnnotation=this.flowParsePrefixType(),this.finishNode(t,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){let t=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){let n=this.startNodeAt(t.loc.start);return n.params=[this.reinterpretTypeAsFunctionTypeParam(t)],n.rest=null,n.this=null,n.returnType=this.flowParseType(),n.typeParameters=null,this.finishNode(n,"FunctionTypeAnnotation")}return t}flowParseIntersectionType(){let t=this.startNode();this.eat(45);let n=this.flowParseAnonFunctionWithoutParens();for(t.types=[n];this.eat(45);)t.types.push(this.flowParseAnonFunctionWithoutParens());return t.types.length===1?n:this.finishNode(t,"IntersectionTypeAnnotation")}flowParseUnionType(){let t=this.startNode();this.eat(43);let n=this.flowParseIntersectionType();for(t.types=[n];this.eat(43);)t.types.push(this.flowParseIntersectionType());return t.types.length===1?n:this.finishNode(t,"UnionTypeAnnotation")}flowParseType(){let t=this.state.inType;this.state.inType=!0;let n=this.flowParseUnionType();return this.state.inType=t,n}flowParseTypeOrImplicitInstantiation(){if(this.state.type===132&&this.state.value==="_"){let t=this.state.startLoc,n=this.parseIdentifier();return this.flowParseGenericType(t,n)}else return this.flowParseType()}flowParseTypeAnnotation(){let t=this.startNode();return t.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(t,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(t){let n=t?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(n.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(n)),n}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}flowParseVariance(){let t=null;return this.match(53)?(t=this.startNode(),this.state.value==="+"?t.kind="plus":t.kind="minus",this.next(),this.finishNode(t,"Variance")):t}parseFunctionBody(t,n,i=!1){if(n){this.forwardNoArrowParamsConversionAt(t,()=>super.parseFunctionBody(t,!0,i));return}super.parseFunctionBody(t,!1,i)}parseFunctionBodyAndFinish(t,n,i=!1){if(this.match(14)){let s=this.startNode();[s.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),t.returnType=s.typeAnnotation?this.finishNode(s,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(t,n,i)}parseStatementLike(t){if(this.state.strict&&this.isContextual(129)){let i=this.lookahead();if(Cr(i.type)){let s=this.startNode();return this.next(),this.flowParseInterface(s)}}else if(this.shouldParseEnums()&&this.isContextual(126)){let i=this.startNode();return this.next(),this.flowParseEnumDeclaration(i)}let n=super.parseStatementLike(t);return this.flowPragma===void 0&&!this.isValidDirective(n)&&(this.flowPragma=null),n}parseExpressionStatement(t,n,i){if(n.type==="Identifier"){if(n.name==="declare"){if(this.match(80)||we(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(t)}else if(we(this.state.type)){if(n.name==="interface")return this.flowParseInterface(t);if(n.name==="type")return this.flowParseTypeAlias(t);if(n.name==="opaque")return this.flowParseOpaqueType(t,!1)}}return super.parseExpressionStatement(t,n,i)}shouldParseExportDeclaration(){let{type:t}=this.state;return Ry(t)||this.shouldParseEnums()&&t===126?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){let{type:t}=this.state;return Ry(t)||this.shouldParseEnums()&&t===126?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.shouldParseEnums()&&this.isContextual(126)){let t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDefaultExpression()}parseConditional(t,n,i){if(!this.match(17))return t;if(this.state.maybeInArrowParameters){let d=this.lookaheadCharCode();if(d===44||d===61||d===58||d===41)return this.setOptionalParametersError(i),t}this.expect(17);let s=this.state.clone(),o=this.state.noArrowAt,a=this.startNodeAt(n),{consequent:l,failed:u}=this.tryParseConditionalConsequent(),[c,p]=this.getArrowLikeExpressions(l);if(u||p.length>0){let d=[...o];if(p.length>0){this.state=s,this.state.noArrowAt=d;for(let m=0;m<p.length;m++)d.push(p[m].start);({consequent:l,failed:u}=this.tryParseConditionalConsequent()),[c,p]=this.getArrowLikeExpressions(l)}u&&c.length>1&&this.raise(Z.AmbiguousConditionalArrow,s.startLoc),u&&c.length===1&&(this.state=s,d.push(c[0].start),this.state.noArrowAt=d,{consequent:l,failed:u}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(l,!0),this.state.noArrowAt=o,this.expect(14),a.test=t,a.consequent=l,a.alternate=this.forwardNoArrowParamsConversionAt(a,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(a,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);let t=this.parseMaybeAssignAllowIn(),n=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:t,failed:n}}getArrowLikeExpressions(t,n){let i=[t],s=[];for(;i.length!==0;){let o=i.pop();o.type==="ArrowFunctionExpression"&&o.body.type!=="BlockStatement"?(o.typeParameters||!o.returnType?this.finishArrowValidation(o):s.push(o),i.push(o.body)):o.type==="ConditionalExpression"&&(i.push(o.consequent),i.push(o.alternate))}return n?(s.forEach(o=>this.finishArrowValidation(o)),[s,[]]):CT(s,o=>o.params.every(a=>this.isAssignable(a,!0)))}finishArrowValidation(t){var n;this.toAssignableList(t.params,(n=t.extra)==null?void 0:n.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(t,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(t,n){let i;return this.state.noArrowParamsConversionAt.includes(t.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),i=n(),this.state.noArrowParamsConversionAt.pop()):i=n(),i}parseParenItem(t,n){let i=super.parseParenItem(t,n);if(this.eat(17)&&(i.optional=!0,this.resetEndLocation(t)),this.match(14)){let s=this.startNodeAt(n);return s.expression=i,s.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(s,"TypeCastExpression")}return i}assertModuleNodeAllowed(t){t.type==="ImportDeclaration"&&(t.importKind==="type"||t.importKind==="typeof")||t.type==="ExportNamedDeclaration"&&t.exportKind==="type"||t.type==="ExportAllDeclaration"&&t.exportKind==="type"||super.assertModuleNodeAllowed(t)}parseExportDeclaration(t){if(this.isContextual(130)){t.exportKind="type";let n=this.startNode();return this.next(),this.match(5)?(t.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(t),null):this.flowParseTypeAlias(n)}else if(this.isContextual(131)){t.exportKind="type";let n=this.startNode();return this.next(),this.flowParseOpaqueType(n,!1)}else if(this.isContextual(129)){t.exportKind="type";let n=this.startNode();return this.next(),this.flowParseInterface(n)}else if(this.shouldParseEnums()&&this.isContextual(126)){t.exportKind="value";let n=this.startNode();return this.next(),this.flowParseEnumDeclaration(n)}else return super.parseExportDeclaration(t)}eatExportStar(t){return super.eatExportStar(t)?!0:this.isContextual(130)&&this.lookahead().type===55?(t.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(t){let{startLoc:n}=this.state,i=super.maybeParseExportNamespaceSpecifier(t);return i&&t.exportKind==="type"&&this.unexpected(n),i}parseClassId(t,n,i){super.parseClassId(t,n,i),this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(t,n,i){let{startLoc:s}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(t,n))return;n.declare=!0}super.parseClassMember(t,n,i),n.declare&&(n.type!=="ClassProperty"&&n.type!=="ClassPrivateProperty"&&n.type!=="PropertyDefinition"?this.raise(Z.DeclareClassElement,s):n.value&&this.raise(Z.DeclareClassFieldInitializer,n.value))}isIterator(t){return t==="iterator"||t==="asyncIterator"}readIterator(){let t=super.readWord1(),n="@@"+t;(!this.isIterator(t)||!this.state.inType)&&this.raise(w.InvalidIdentifier,this.state.curPosition(),{identifierName:n}),this.finishToken(132,n)}getTokenFromCode(t){let n=this.input.charCodeAt(this.state.pos+1);t===123&&n===124?this.finishOp(6,2):this.state.inType&&(t===62||t===60)?this.finishOp(t===62?48:47,1):this.state.inType&&t===63?n===46?this.finishOp(18,2):this.finishOp(17,1):iT(t,n,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(t)}isAssignable(t,n){return t.type==="TypeCastExpression"?this.isAssignable(t.expression,n):super.isAssignable(t,n)}toAssignable(t,n=!1){!n&&t.type==="AssignmentExpression"&&t.left.type==="TypeCastExpression"&&(t.left=this.typeCastToParameter(t.left)),super.toAssignable(t,n)}toAssignableList(t,n,i){for(let s=0;s<t.length;s++){let o=t[s];o?.type==="TypeCastExpression"&&(t[s]=this.typeCastToParameter(o))}super.toAssignableList(t,n,i)}toReferencedList(t,n){for(let s=0;s<t.length;s++){var i;let o=t[s];o&&o.type==="TypeCastExpression"&&!((i=o.extra)!=null&&i.parenthesized)&&(t.length>1||!n)&&this.raise(Z.TypeCastInPattern,o.typeAnnotation)}return t}parseArrayLike(t,n,i,s){let o=super.parseArrayLike(t,n,i,s);return n&&!this.state.maybeInArrowParameters&&this.toReferencedList(o.elements),o}isValidLVal(t,n,i){return t==="TypeCastExpression"||super.isValidLVal(t,n,i)}parseClassProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(t)}parseClassPrivateProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(t){return!this.match(14)&&super.isNonstaticConstructor(t)}pushClassMethod(t,n,i,s,o,a){if(n.variance&&this.unexpected(n.variance.loc.start),delete n.variance,this.match(47)&&(n.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(t,n,i,s,o,a),n.params&&o){let l=n.params;l.length>0&&this.isThisParam(l[0])&&this.raise(Z.ThisParamBannedInConstructor,n)}else if(n.type==="MethodDefinition"&&o&&n.value.params){let l=n.value.params;l.length>0&&this.isThisParam(l[0])&&this.raise(Z.ThisParamBannedInConstructor,n)}}pushClassPrivateMethod(t,n,i,s){n.variance&&this.unexpected(n.variance.loc.start),delete n.variance,this.match(47)&&(n.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(t,n,i,s)}parseClassSuper(t){if(super.parseClassSuper(t),t.superClass&&this.match(47)&&(t.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(113)){this.next();let n=t.implements=[];do{let i=this.startNode();i.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?i.typeParameters=this.flowParseTypeParameterInstantiation():i.typeParameters=null,n.push(this.finishNode(i,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(t){super.checkGetterSetterParams(t);let n=this.getObjectOrClassMethodParams(t);if(n.length>0){let i=n[0];this.isThisParam(i)&&t.kind==="get"?this.raise(Z.GetterMayNotHaveThisParam,i):this.isThisParam(i)&&this.raise(Z.SetterMayNotHaveThisParam,i)}}parsePropertyNamePrefixOperator(t){t.variance=this.flowParseVariance()}parseObjPropValue(t,n,i,s,o,a,l){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance;let u;this.match(47)&&!a&&(u=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());let c=super.parseObjPropValue(t,n,i,s,o,a,l);return u&&((c.value||c).typeParameters=u),c}parseAssignableListItemTypes(t){return this.eat(17)&&(t.type!=="Identifier"&&this.raise(Z.PatternIsOptional,t),this.isThisParam(t)&&this.raise(Z.ThisParamMayNotBeOptional,t),t.optional=!0),this.match(14)?t.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(t)&&this.raise(Z.ThisParamAnnotationRequired,t),this.match(29)&&this.isThisParam(t)&&this.raise(Z.ThisParamNoDefault,t),this.resetEndLocation(t),t}parseMaybeDefault(t,n){let i=super.parseMaybeDefault(t,n);return i.type==="AssignmentPattern"&&i.typeAnnotation&&i.right.start<i.typeAnnotation.start&&this.raise(Z.TypeBeforeInitializer,i.typeAnnotation),i}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(Z.ImportReflectionHasImportType,t.specifiers[0].loc.start)}parseImportSpecifierLocal(t,n,i){n.local=$y(t)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),t.specifiers.push(this.finishImportSpecifier(n,i))}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){if(!t)return!0;let n=this.lookaheadCharCode();return n===123||n===42}return!t&&this.isContextual(87)}applyImportPhase(t,n,i,s){if(super.applyImportPhase(t,n,i,s),n){if(!i&&this.match(65))return;t.exportKind=i==="type"?i:"value"}else i==="type"&&this.match(55)&&this.unexpected(),t.importKind=i==="type"||i==="typeof"?i:"value"}parseImportSpecifier(t,n,i,s,o){let a=t.imported,l=null;a.type==="Identifier"&&(a.name==="type"?l="type":a.name==="typeof"&&(l="typeof"));let u=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){let p=this.parseIdentifier(!0);l!==null&&!Cr(this.state.type)?(t.imported=p,t.importKind=l,t.local=hn(p)):(t.imported=a,t.importKind=null,t.local=this.parseIdentifier())}else{if(l!==null&&Cr(this.state.type))t.imported=this.parseIdentifier(!0),t.importKind=l;else{if(n)throw this.raise(w.ImportBindingIsString,t,{importName:a.value});t.imported=a,t.importKind=null}this.eatContextual(93)?t.local=this.parseIdentifier():(u=!0,t.local=hn(t.imported))}let c=$y(t);return i&&c&&this.raise(Z.ImportTypeShorthandOnlyInPureImport,t),(i||c)&&this.checkReservedType(t.local.name,t.local.loc.start,!0),u&&!i&&!c&&this.checkReservedWord(t.local.name,t.loc.start,!0,!0),this.finishImportSpecifier(t,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(t,n){let i=t.kind;i!=="get"&&i!=="set"&&this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(t,n)}parseVarId(t,n){super.parseVarId(t,n),this.match(14)&&(t.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,n){if(this.match(14)){let i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,t.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=i}return super.parseAsyncArrowFromCallExpression(t,n)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(t,n){var i;let s=null,o;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(s=this.state.clone(),o=this.tryParse(()=>super.parseMaybeAssign(t,n),s),!o.error)return o.node;let{context:u}=this.state,c=u[u.length-1];(c===Oe.j_oTag||c===Oe.j_expr)&&u.pop()}if((i=o)!=null&&i.error||this.match(47)){var a,l;s=s||this.state.clone();let u,c=this.tryParse(d=>{var m;u=this.flowParseTypeParameterDeclaration();let f=this.forwardNoArrowParamsConversionAt(u,()=>{let g=super.parseMaybeAssign(t,n);return this.resetStartLocationFromNode(g,u),g});(m=f.extra)!=null&&m.parenthesized&&d();let h=this.maybeUnwrapTypeCastExpression(f);return h.type!=="ArrowFunctionExpression"&&d(),h.typeParameters=u,this.resetStartLocationFromNode(h,u),f},s),p=null;if(c.node&&this.maybeUnwrapTypeCastExpression(c.node).type==="ArrowFunctionExpression"){if(!c.error&&!c.aborted)return c.node.async&&this.raise(Z.UnexpectedTypeParameterBeforeAsyncArrowFunction,u),c.node;p=c.node}if((a=o)!=null&&a.node)return this.state=o.failState,o.node;if(p)return this.state=c.failState,p;throw(l=o)!=null&&l.thrown?o.error:c.thrown?c.error:this.raise(Z.UnexpectedTokenAfterTypeParameter,u)}return super.parseMaybeAssign(t,n)}parseArrow(t){if(this.match(14)){let n=this.tryParse(()=>{let i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;let s=this.startNode();return[s.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=i,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),s});if(n.thrown)return null;n.error&&(this.state=n.failState),t.returnType=n.node.typeAnnotation?this.finishNode(n.node,"TypeAnnotation"):null}return super.parseArrow(t)}shouldParseArrow(t){return this.match(14)||super.shouldParseArrow(t)}setArrowFunctionParameters(t,n){this.state.noArrowParamsConversionAt.includes(t.start)?t.params=n:super.setArrowFunctionParameters(t,n)}checkParams(t,n,i,s=!0){if(!(i&&this.state.noArrowParamsConversionAt.includes(t.start))){for(let o=0;o<t.params.length;o++)this.isThisParam(t.params[o])&&o>0&&this.raise(Z.ThisParamMustBeFirst,t.params[o]);super.checkParams(t,n,i,s)}}parseParenAndDistinguishExpression(t){return super.parseParenAndDistinguishExpression(t&&!this.state.noArrowAt.includes(this.state.start))}parseSubscripts(t,n,i){if(t.type==="Identifier"&&t.name==="async"&&this.state.noArrowAt.includes(n.index)){this.next();let s=this.startNodeAt(n);s.callee=t,s.arguments=super.parseCallExpressionArguments(11,!1),t=this.finishNode(s,"CallExpression")}else if(t.type==="Identifier"&&t.name==="async"&&this.match(47)){let s=this.state.clone(),o=this.tryParse(l=>this.parseAsyncArrowWithTypeParameters(n)||l(),s);if(!o.error&&!o.aborted)return o.node;let a=this.tryParse(()=>super.parseSubscripts(t,n,i),s);if(a.node&&!a.error)return a.node;if(o.node)return this.state=o.failState,o.node;if(a.node)return this.state=a.failState,a.node;throw o.error||a.error}return super.parseSubscripts(t,n,i)}parseSubscript(t,n,i,s){if(this.match(18)&&this.isLookaheadToken_lt()){if(s.optionalChainMember=!0,i)return s.stop=!0,t;this.next();let o=this.startNodeAt(n);return o.callee=t,o.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),o.arguments=this.parseCallExpressionArguments(11,!1),o.optional=!0,this.finishCallExpression(o,!0)}else if(!i&&this.shouldParseTypes()&&this.match(47)){let o=this.startNodeAt(n);o.callee=t;let a=this.tryParse(()=>(o.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),o.arguments=super.parseCallExpressionArguments(11,!1),s.optionalChainMember&&(o.optional=!1),this.finishCallExpression(o,s.optionalChainMember)));if(a.node)return a.error&&(this.state=a.failState),a.node}return super.parseSubscript(t,n,i,s)}parseNewCallee(t){super.parseNewCallee(t);let n=null;this.shouldParseTypes()&&this.match(47)&&(n=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),t.typeArguments=n}parseAsyncArrowWithTypeParameters(t){let n=this.startNodeAt(t);if(this.parseFunctionParams(n,!1),!!this.parseArrow(n))return super.parseArrowExpression(n,void 0,!0)}readToken_mult_modulo(t){let n=this.input.charCodeAt(this.state.pos+1);if(t===42&&n===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(t)}readToken_pipe_amp(t){let n=this.input.charCodeAt(this.state.pos+1);if(t===124&&n===125){this.finishOp(9,2);return}super.readToken_pipe_amp(t)}parseTopLevel(t,n){let i=super.parseTopLevel(t,n);return this.state.hasFlowComment&&this.raise(Z.UnterminatedFlowComment,this.state.curPosition()),i}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(Z.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();let t=this.skipFlowComment();t&&(this.state.pos+=t,this.state.hasFlowComment=!0);return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){let{pos:t}=this.state,n=2;for(;[32,9].includes(this.input.charCodeAt(t+n));)n++;let i=this.input.charCodeAt(n+t),s=this.input.charCodeAt(n+t+1);return i===58&&s===58?n+2:this.input.slice(n+t,n+t+12)==="flow-include"?n+12:i===58&&s!==58?n:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(w.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(t,{enumName:n,memberName:i}){this.raise(Z.EnumBooleanMemberNotInitialized,t,{memberName:i,enumName:n})}flowEnumErrorInvalidMemberInitializer(t,n){return this.raise(n.explicitType?n.explicitType==="symbol"?Z.EnumInvalidMemberInitializerSymbolType:Z.EnumInvalidMemberInitializerPrimaryType:Z.EnumInvalidMemberInitializerUnknownType,t,n)}flowEnumErrorNumberMemberNotInitialized(t,n){this.raise(Z.EnumNumberMemberNotInitialized,t,n)}flowEnumErrorStringMemberInconsistentlyInitialized(t,n){this.raise(Z.EnumStringMemberInconsistentlyInitialized,t,n)}flowEnumMemberInit(){let t=this.state.startLoc,n=()=>this.match(12)||this.match(8);switch(this.state.type){case 134:{let i=this.parseNumericLiteral(this.state.value);return n()?{type:"number",loc:i.loc.start,value:i}:{type:"invalid",loc:t}}case 133:{let i=this.parseStringLiteral(this.state.value);return n()?{type:"string",loc:i.loc.start,value:i}:{type:"invalid",loc:t}}case 85:case 86:{let i=this.parseBooleanLiteral(this.match(85));return n()?{type:"boolean",loc:i.loc.start,value:i}:{type:"invalid",loc:t}}default:return{type:"invalid",loc:t}}}flowEnumMemberRaw(){let t=this.state.startLoc,n=this.parseIdentifier(!0),i=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:t};return{id:n,init:i}}flowEnumCheckExplicitTypeMismatch(t,n,i){let{explicitType:s}=n;s!==null&&s!==i&&this.flowEnumErrorInvalidMemberInitializer(t,n)}flowEnumMembers({enumName:t,explicitType:n}){let i=new Set,s={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]},o=!1;for(;!this.match(8);){if(this.eat(21)){o=!0;break}let a=this.startNode(),{id:l,init:u}=this.flowEnumMemberRaw(),c=l.name;if(c==="")continue;/^[a-z]/.test(c)&&this.raise(Z.EnumInvalidMemberName,l,{memberName:c,suggestion:c[0].toUpperCase()+c.slice(1),enumName:t}),i.has(c)&&this.raise(Z.EnumDuplicateMemberName,l,{memberName:c,enumName:t}),i.add(c);let p={enumName:t,explicitType:n,memberName:c};switch(a.id=l,u.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(u.loc,p,"boolean"),a.init=u.value,s.booleanMembers.push(this.finishNode(a,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(u.loc,p,"number"),a.init=u.value,s.numberMembers.push(this.finishNode(a,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(u.loc,p,"string"),a.init=u.value,s.stringMembers.push(this.finishNode(a,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(u.loc,p);case"none":switch(n){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(u.loc,p);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(u.loc,p);break;default:s.defaultedMembers.push(this.finishNode(a,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:s,hasUnknownMembers:o}}flowEnumStringMembers(t,n,{enumName:i}){if(t.length===0)return n;if(n.length===0)return t;if(n.length>t.length){for(let s of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:i});return n}else{for(let s of n)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:i});return t}}flowEnumParseExplicitType({enumName:t}){if(!this.eatContextual(102))return null;if(!we(this.state.type))throw this.raise(Z.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:t});let{value:n}=this.state;return this.next(),n!=="boolean"&&n!=="number"&&n!=="string"&&n!=="symbol"&&this.raise(Z.EnumInvalidExplicitType,this.state.startLoc,{enumName:t,invalidEnumType:n}),n}flowEnumBody(t,n){let i=n.name,s=n.loc.start,o=this.flowEnumParseExplicitType({enumName:i});this.expect(5);let{members:a,hasUnknownMembers:l}=this.flowEnumMembers({enumName:i,explicitType:o});switch(t.hasUnknownMembers=l,o){case"boolean":return t.explicitType=!0,t.members=a.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody");case"number":return t.explicitType=!0,t.members=a.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody");case"string":return t.explicitType=!0,t.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:i}),this.expect(8),this.finishNode(t,"EnumStringBody");case"symbol":return t.members=a.defaultedMembers,this.expect(8),this.finishNode(t,"EnumSymbolBody");default:{let u=()=>(t.members=[],this.expect(8),this.finishNode(t,"EnumStringBody"));t.explicitType=!1;let c=a.booleanMembers.length,p=a.numberMembers.length,d=a.stringMembers.length,m=a.defaultedMembers.length;if(!c&&!p&&!d&&!m)return u();if(!c&&!p)return t.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:i}),this.expect(8),this.finishNode(t,"EnumStringBody");if(!p&&!d&&c>=m){for(let f of a.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(f.loc.start,{enumName:i,memberName:f.id.name});return t.members=a.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody")}else if(!c&&!d&&p>=m){for(let f of a.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(f.loc.start,{enumName:i,memberName:f.id.name});return t.members=a.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody")}else return this.raise(Z.EnumInconsistentMemberValues,s,{enumName:i}),u()}}}flowParseEnumDeclaration(t){let n=this.parseIdentifier();return t.id=n,t.body=this.flowEnumBody(this.startNode(),n),this.finishNode(t,"EnumDeclaration")}isLookaheadToken_lt(){let t=this.nextTokenStart();if(this.input.charCodeAt(t)===60){let n=this.input.charCodeAt(t+1);return n!==60&&n!==61}return!1}maybeUnwrapTypeCastExpression(t){return t.type==="TypeCastExpression"?t.expression:t}},AT={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",lang:"\u2329",rang:"\u232A",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"},oi=mn`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:e})=>`Expected corresponding JSX closing tag for <${e}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:e,HTMLEntity:r})=>`Unexpected token \`${e}\`. Did you mean \`${r}\` or \`{'${e}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function Rn(e){return e?e.type==="JSXOpeningFragment"||e.type==="JSXClosingFragment":!1}function zi(e){if(e.type==="JSXIdentifier")return e.name;if(e.type==="JSXNamespacedName")return e.namespace.name+":"+e.name.name;if(e.type==="JSXMemberExpression")return zi(e.object)+"."+zi(e.property);throw new Error("Node had unexpected type: "+e.type)}var vT=e=>class extends e{jsxReadToken(){let t="",n=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(oi.UnterminatedJsxContent,this.state.startLoc);let i=this.input.charCodeAt(this.state.pos);switch(i){case 60:case 123:if(this.state.pos===this.state.start){i===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(142)):super.getTokenFromCode(i);return}t+=this.input.slice(n,this.state.pos),this.finishToken(141,t);return;case 38:t+=this.input.slice(n,this.state.pos),t+=this.jsxReadEntity(),n=this.state.pos;break;case 62:case 125:default:Wi(i)?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadNewLine(!0),n=this.state.pos):++this.state.pos}}}jsxReadNewLine(t){let n=this.input.charCodeAt(this.state.pos),i;return++this.state.pos,n===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,i=t?`
`:`\r
`):i=String.fromCharCode(n),++this.state.curLine,this.state.lineStart=this.state.pos,i}jsxReadString(t){let n="",i=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(w.UnterminatedString,this.state.startLoc);let s=this.input.charCodeAt(this.state.pos);if(s===t)break;s===38?(n+=this.input.slice(i,this.state.pos),n+=this.jsxReadEntity(),i=this.state.pos):Wi(s)?(n+=this.input.slice(i,this.state.pos),n+=this.jsxReadNewLine(!1),i=this.state.pos):++this.state.pos}n+=this.input.slice(i,this.state.pos++),this.finishToken(133,n)}jsxReadEntity(){let t=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let n=10;this.codePointAtPos(this.state.pos)===120&&(n=16,++this.state.pos);let i=this.readInt(n,void 0,!1,"bail");if(i!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(i)}else{let n=0,i=!1;for(;n++<10&&this.state.pos<this.length&&!(i=this.codePointAtPos(this.state.pos)===59);)++this.state.pos;if(i){let s=this.input.slice(t,this.state.pos),o=AT[s];if(++this.state.pos,o)return o}}return this.state.pos=t,"&"}jsxReadWord(){let t,n=this.state.pos;do t=this.input.charCodeAt(++this.state.pos);while(qi(t)||t===45);this.finishToken(140,this.input.slice(n,this.state.pos))}jsxParseIdentifier(){let t=this.startNode();return this.match(140)?t.name=this.state.value:ip(this.state.type)?t.name=Ln(this.state.type):this.unexpected(),this.next(),this.finishNode(t,"JSXIdentifier")}jsxParseNamespacedName(){let t=this.state.startLoc,n=this.jsxParseIdentifier();if(!this.eat(14))return n;let i=this.startNodeAt(t);return i.namespace=n,i.name=this.jsxParseIdentifier(),this.finishNode(i,"JSXNamespacedName")}jsxParseElementName(){let t=this.state.startLoc,n=this.jsxParseNamespacedName();if(n.type==="JSXNamespacedName")return n;for(;this.eat(16);){let i=this.startNodeAt(t);i.object=n,i.property=this.jsxParseIdentifier(),n=this.finishNode(i,"JSXMemberExpression")}return n}jsxParseAttributeValue(){let t;switch(this.state.type){case 5:return t=this.startNode(),this.setContext(Oe.brace),this.next(),t=this.jsxParseExpressionContainer(t,Oe.j_oTag),t.expression.type==="JSXEmptyExpression"&&this.raise(oi.AttributeIsEmpty,t),t;case 142:case 133:return this.parseExprAtom();default:throw this.raise(oi.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){let t=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(t,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(t){return this.next(),t.expression=this.parseExpression(),this.setContext(Oe.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadChild")}jsxParseExpressionContainer(t,n){if(this.match(8))t.expression=this.jsxParseEmptyExpression();else{let i=this.parseExpression();t.expression=i}return this.setContext(n),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXExpressionContainer")}jsxParseAttribute(){let t=this.startNode();return this.match(5)?(this.setContext(Oe.brace),this.next(),this.expect(21),t.argument=this.parseMaybeAssignAllowIn(),this.setContext(Oe.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadAttribute")):(t.name=this.jsxParseNamespacedName(),t.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(t,"JSXAttribute"))}jsxParseOpeningElementAt(t){let n=this.startNodeAt(t);return this.eat(143)?this.finishNode(n,"JSXOpeningFragment"):(n.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(n))}jsxParseOpeningElementAfterName(t){let n=[];for(;!this.match(56)&&!this.match(143);)n.push(this.jsxParseAttribute());return t.attributes=n,t.selfClosing=this.eat(56),this.expect(143),this.finishNode(t,"JSXOpeningElement")}jsxParseClosingElementAt(t){let n=this.startNodeAt(t);return this.eat(143)?this.finishNode(n,"JSXClosingFragment"):(n.name=this.jsxParseElementName(),this.expect(143),this.finishNode(n,"JSXClosingElement"))}jsxParseElementAt(t){let n=this.startNodeAt(t),i=[],s=this.jsxParseOpeningElementAt(t),o=null;if(!s.selfClosing){e:for(;;)switch(this.state.type){case 142:if(t=this.state.startLoc,this.next(),this.eat(56)){o=this.jsxParseClosingElementAt(t);break e}i.push(this.jsxParseElementAt(t));break;case 141:i.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{let a=this.startNode();this.setContext(Oe.brace),this.next(),this.match(21)?i.push(this.jsxParseSpreadChild(a)):i.push(this.jsxParseExpressionContainer(a,Oe.j_expr));break}default:this.unexpected()}Rn(s)&&!Rn(o)&&o!==null?this.raise(oi.MissingClosingTagFragment,o):!Rn(s)&&Rn(o)?this.raise(oi.MissingClosingTagElement,o,{openingTagName:zi(s.name)}):!Rn(s)&&!Rn(o)&&zi(o.name)!==zi(s.name)&&this.raise(oi.MissingClosingTagElement,o,{openingTagName:zi(s.name)})}if(Rn(s)?(n.openingFragment=s,n.closingFragment=o):(n.openingElement=s,n.closingElement=o),n.children=i,this.match(47))throw this.raise(oi.UnwrappedAdjacentJSXElements,this.state.startLoc);return Rn(s)?this.finishNode(n,"JSXFragment"):this.finishNode(n,"JSXElement")}jsxParseElement(){let t=this.state.startLoc;return this.next(),this.jsxParseElementAt(t)}setContext(t){let{context:n}=this.state;n[n.length-1]=t}parseExprAtom(t){return this.match(142)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(142),this.jsxParseElement()):super.parseExprAtom(t)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(t){let n=this.curContext();if(n===Oe.j_expr){this.jsxReadToken();return}if(n===Oe.j_oTag||n===Oe.j_cTag){if(fn(t)){this.jsxReadWord();return}if(t===62){++this.state.pos,this.finishToken(143);return}if((t===34||t===39)&&n===Oe.j_oTag){this.jsxReadString(t);return}}if(t===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(142);return}super.getTokenFromCode(t)}updateContext(t){let{context:n,type:i}=this.state;if(i===56&&t===142)n.splice(-2,2,Oe.j_cTag),this.state.canStartJSXElement=!1;else if(i===142)n.push(Oe.j_oTag);else if(i===143){let s=n[n.length-1];s===Oe.j_oTag&&t===56||s===Oe.j_cTag?(n.pop(),this.state.canStartJSXElement=n[n.length-1]===Oe.j_expr):(this.setContext(Oe.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=Kv(i)}},Gc=class extends Xs{constructor(...r){super(...r),this.tsNames=new Map}},Hc=class extends Qs{constructor(...r){super(...r),this.importsStack=[]}createScope(r){return this.importsStack.push(new Set),new Gc(r)}enter(r){r===256&&this.importsStack.push(new Set),super.enter(r)}exit(){let r=super.exit();return r===256&&this.importsStack.pop(),r}hasImport(r,t){let n=this.importsStack.length;if(this.importsStack[n-1].has(r))return!0;if(!t&&n>1){for(let i=0;i<n-1;i++)if(this.importsStack[i].has(r))return!0}return!1}declareName(r,t,n){if(t&4096){this.hasImport(r,!0)&&this.parser.raise(w.VarRedeclaration,n,{identifierName:r}),this.importsStack[this.importsStack.length-1].add(r);return}let i=this.currentScope(),s=i.tsNames.get(r)||0;if(t&1024){this.maybeExportDefined(i,r),i.tsNames.set(r,s|16);return}super.declareName(r,t,n),t&2&&(t&1||(this.checkRedeclarationInScope(i,r,t,n),this.maybeExportDefined(i,r)),s=s|1),t&256&&(s=s|2),t&512&&(s=s|4),t&128&&(s=s|8),s&&i.tsNames.set(r,s)}isRedeclaredInScope(r,t,n){let i=r.tsNames.get(t);if((i&2)>0){if(n&256){let s=!!(n&512),o=(i&4)>0;return s!==o}return!0}return n&128&&(i&8)>0?r.names.get(t)&2?!!(n&1):!1:n&2&&(i&1)>0?!0:super.isRedeclaredInScope(r,t,n)}checkLocalExport(r){let{name:t}=r;if(this.hasImport(t))return;let n=this.scopeStack.length;for(let i=n-1;i>=0;i--){let o=this.scopeStack[i].tsNames.get(t);if((o&1)>0||(o&16)>0)return}super.checkLocalExport(r)}},nb=e=>e.type==="ParenthesizedExpression"?nb(e.expression):e,Jc=class extends Wc{toAssignable(r,t=!1){var n,i;let s;switch((r.type==="ParenthesizedExpression"||(n=r.extra)!=null&&n.parenthesized)&&(s=nb(r),t?s.type==="Identifier"?this.expressionScope.recordArrowParameterBindingError(w.InvalidParenthesizedAssignment,r):s.type!=="MemberExpression"&&!this.isOptionalMemberExpression(s)&&this.raise(w.InvalidParenthesizedAssignment,r):this.raise(w.InvalidParenthesizedAssignment,r)),r.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":r.type="ObjectPattern";for(let a=0,l=r.properties.length,u=l-1;a<l;a++){var o;let c=r.properties[a],p=a===u;this.toAssignableObjectExpressionProp(c,p,t),p&&c.type==="RestElement"&&(o=r.extra)!=null&&o.trailingCommaLoc&&this.raise(w.RestTrailingComma,r.extra.trailingCommaLoc)}break;case"ObjectProperty":{let{key:a,value:l}=r;this.isPrivateName(a)&&this.classScope.usePrivateName(this.getPrivateNameSV(a),a.loc.start),this.toAssignable(l,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":r.type="ArrayPattern",this.toAssignableList(r.elements,(i=r.extra)==null?void 0:i.trailingCommaLoc,t);break;case"AssignmentExpression":r.operator!=="="&&this.raise(w.MissingEqInAssignment,r.left.loc.end),r.type="AssignmentPattern",delete r.operator,this.toAssignable(r.left,t);break;case"ParenthesizedExpression":this.toAssignable(s,t);break}}toAssignableObjectExpressionProp(r,t,n){if(r.type==="ObjectMethod")this.raise(r.kind==="get"||r.kind==="set"?w.PatternHasAccessor:w.PatternHasMethod,r.key);else if(r.type==="SpreadElement"){r.type="RestElement";let i=r.argument;this.checkToRestConversion(i,!1),this.toAssignable(i,n),t||this.raise(w.RestTrailingComma,r)}else this.toAssignable(r,n)}toAssignableList(r,t,n){let i=r.length-1;for(let s=0;s<=i;s++){let o=r[s];if(o){if(o.type==="SpreadElement"){o.type="RestElement";let a=o.argument;this.checkToRestConversion(a,!0),this.toAssignable(a,n)}else this.toAssignable(o,n);o.type==="RestElement"&&(s<i?this.raise(w.RestTrailingComma,o):t&&this.raise(w.RestTrailingComma,t))}}}isAssignable(r,t){switch(r.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{let n=r.properties.length-1;return r.properties.every((i,s)=>i.type!=="ObjectMethod"&&(s===n||i.type!=="SpreadElement")&&this.isAssignable(i))}case"ObjectProperty":return this.isAssignable(r.value);case"SpreadElement":return this.isAssignable(r.argument);case"ArrayExpression":return r.elements.every(n=>n===null||this.isAssignable(n));case"AssignmentExpression":return r.operator==="=";case"ParenthesizedExpression":return this.isAssignable(r.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(r,t){return r}toReferencedListDeep(r,t){this.toReferencedList(r,t);for(let n of r)n?.type==="ArrayExpression"&&this.toReferencedListDeep(n.elements)}parseSpread(r){let t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(r,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){let r=this.startNode();return this.next(),r.argument=this.parseBindingAtom(),this.finishNode(r,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{let r=this.startNode();return this.next(),r.elements=this.parseBindingList(3,93,1),this.finishNode(r,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(r,t,n){let i=n&1,s=[],o=!0;for(;!this.eat(r);)if(o?o=!1:this.expect(12),i&&this.match(12))s.push(null);else{if(this.eat(r))break;if(this.match(21)){if(s.push(this.parseAssignableListItemTypes(this.parseRestBinding(),n)),!this.checkCommaAfterRest(t)){this.expect(r);break}}else{let a=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(w.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)a.push(this.parseDecorator());s.push(this.parseAssignableListItem(n,a))}}return s}parseBindingRestProperty(r){return this.next(),r.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(r,"RestElement")}parseBindingProperty(){let{type:r,startLoc:t}=this.state;if(r===21)return this.parseBindingRestProperty(this.startNode());let n=this.startNode();return r===138?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),n.key=this.parsePrivateName()):this.parsePropertyName(n),n.method=!1,this.parseObjPropValue(n,t,!1,!1,!0,!1)}parseAssignableListItem(r,t){let n=this.parseMaybeDefault();this.parseAssignableListItemTypes(n,r);let i=this.parseMaybeDefault(n.loc.start,n);return t.length&&(n.decorators=t),i}parseAssignableListItemTypes(r,t){return r}parseMaybeDefault(r,t){var n,i;if((n=r)!=null||(r=this.state.startLoc),t=(i=t)!=null?i:this.parseBindingAtom(),!this.eat(29))return t;let s=this.startNodeAt(r);return s.left=t,s.right=this.parseMaybeAssignAllowIn(),this.finishNode(s,"AssignmentPattern")}isValidLVal(r,t,n){switch(r){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties"}return!1}isOptionalMemberExpression(r){return r.type==="OptionalMemberExpression"}checkLVal(r,t,n=64,i=!1,s=!1,o=!1){var a;let l=r.type;if(this.isObjectMethod(r))return;let u=this.isOptionalMemberExpression(r);if(u||l==="MemberExpression"){u&&(this.expectPlugin("optionalChainingAssign",r.loc.start),t.type!=="AssignmentExpression"&&this.raise(w.InvalidLhsOptionalChaining,r,{ancestor:t})),n!==64&&this.raise(w.InvalidPropertyBindingPattern,r);return}if(l==="Identifier"){this.checkIdentifier(r,n,s);let{name:h}=r;i&&(i.has(h)?this.raise(w.ParamDupe,r):i.add(h));return}let c=this.isValidLVal(l,!(o||(a=r.extra)!=null&&a.parenthesized)&&t.type==="AssignmentExpression",n);if(c===!0)return;if(c===!1){let h=n===64?w.InvalidLhs:w.InvalidLhsBinding;this.raise(h,r,{ancestor:t});return}let p,d;typeof c=="string"?(p=c,d=l==="ParenthesizedExpression"):[p,d]=c;let m=l==="ArrayPattern"||l==="ObjectPattern"?{type:l}:t,f=r[p];if(Array.isArray(f))for(let h of f)h&&this.checkLVal(h,m,n,i,s,d);else f&&this.checkLVal(f,m,n,i,s,d)}checkIdentifier(r,t,n=!1){this.state.strict&&(n?Qy(r.name,this.inModule):Xy(r.name))&&(t===64?this.raise(w.StrictEvalArguments,r,{referenceName:r.name}):this.raise(w.StrictEvalArgumentsBinding,r,{bindingName:r.name})),t&8192&&r.name==="let"&&this.raise(w.LetInLexicalBinding,r),t&64||this.declareNameFromIdentifier(r,t)}declareNameFromIdentifier(r,t){this.scope.declareName(r.name,t,r.loc.start)}checkToRestConversion(r,t){switch(r.type){case"ParenthesizedExpression":this.checkToRestConversion(r.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(w.InvalidRestAssignmentPattern,r)}}checkCommaAfterRest(r){return this.match(12)?(this.raise(this.lookaheadCharCode()===r?w.RestTrailingComma:w.ElementAfterRest,this.state.startLoc),!0):!1}};function TT(e){if(e==null)throw new Error(`Unexpected ${e} value.`);return e}function Uy(e){if(!e)throw new Error("Assert fail")}var W=mn`typescript`({AbstractMethodHasImplementation:({methodName:e})=>`Method '${e}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:e})=>`Property '${e}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:e})=>`'declare' is not allowed in ${e}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:e})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:e})=>`Duplicate modifier: '${e}'.`,EmptyHeritageClauseType:({token:e})=>`'${e}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:e})=>`'${e[0]}' modifier cannot be used with '${e[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:e})=>`Index signatures cannot have an accessibility modifier ('${e}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:e})=>`'${e}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:e})=>`'${e}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:e})=>`'${e}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:e})=>`'${e[0]}' modifier must precede '${e[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:e})=>`Private elements cannot have an accessibility modifier ('${e}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:e})=>`Single type parameter ${e} should have a trailing comma. Example usage: <${e},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:e})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${e}.`});function PT(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function jy(e){return e==="private"||e==="public"||e==="protected"}function IT(e){return e==="in"||e==="out"}var NT=e=>class extends e{constructor(...t){super(...t),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:W.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:W.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:W.InvalidModifierOnTypeParameter})}getScopeHandler(){return Hc}tsIsIdentifier(){return we(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(138)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),this.hasPrecedingLineBreak()?!1:this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(t,n){if(!we(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;let i=this.state.value;if(t.includes(i)){if(n&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return i}}tsParseModifiers({allowedModifiers:t,disallowedModifiers:n,stopOnStartOfClassStaticBlock:i,errorTemplate:s=W.InvalidModifierOnTypeMember},o){let a=(u,c,p,d)=>{c===p&&o[d]&&this.raise(W.InvalidModifiersOrder,u,{orderedModifiers:[p,d]})},l=(u,c,p,d)=>{(o[p]&&c===d||o[d]&&c===p)&&this.raise(W.IncompatibleModifiers,u,{modifiers:[p,d]})};for(;;){let{startLoc:u}=this.state,c=this.tsParseModifier(t.concat(n??[]),i);if(!c)break;jy(c)?o.accessibility?this.raise(W.DuplicateAccessibilityModifier,u,{modifier:c}):(a(u,c,c,"override"),a(u,c,c,"static"),a(u,c,c,"readonly"),o.accessibility=c):IT(c)?(o[c]&&this.raise(W.DuplicateModifier,u,{modifier:c}),o[c]=!0,a(u,c,"in","out")):(hasOwnProperty.call(o,c)?this.raise(W.DuplicateModifier,u,{modifier:c}):(a(u,c,"static","readonly"),a(u,c,"static","override"),a(u,c,"override","readonly"),a(u,c,"abstract","override"),l(u,c,"declare","override"),l(u,c,"static","abstract")),o[c]=!0),n!=null&&n.includes(c)&&this.raise(s,u,{modifier:c})}}tsIsListTerminator(t){switch(t){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(t,n){let i=[];for(;!this.tsIsListTerminator(t);)i.push(n());return i}tsParseDelimitedList(t,n,i){return TT(this.tsParseDelimitedListWorker(t,n,!0,i))}tsParseDelimitedListWorker(t,n,i,s){let o=[],a=-1;for(;!this.tsIsListTerminator(t);){a=-1;let l=n();if(l==null)return;if(o.push(l),this.eat(12)){a=this.state.lastTokStartLoc.index;continue}if(this.tsIsListTerminator(t))break;i&&this.expect(12);return}return s&&(s.value=a),o}tsParseBracketedList(t,n,i,s,o){s||(i?this.expect(0):this.expect(47));let a=this.tsParseDelimitedList(t,n,o);return i?this.expect(3):this.expect(48),a}tsParseImportType(){let t=this.startNode();return this.expect(83),this.expect(10),this.match(133)||this.raise(W.UnsupportedImportTypeArgument,this.state.startLoc),t.argument=super.parseExprAtom(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(t.options=null),this.eat(12)&&(this.expectImportAttributesPlugin(),this.match(11)||(t.options=super.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.eat(16)&&(t.qualifier=this.tsParseEntityName()),this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSImportType")}tsParseEntityName(t=!0){let n=this.parseIdentifier(t);for(;this.eat(16);){let i=this.startNodeAtNode(n);i.left=n,i.right=this.parseIdentifier(t),n=this.finishNode(i,"TSQualifiedName")}return n}tsParseTypeReference(){let t=this.startNode();return t.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeReference")}tsParseThisTypePredicate(t){this.next();let n=this.startNodeAtNode(t);return n.parameterName=t,n.typeAnnotation=this.tsParseTypeAnnotation(!1),n.asserts=!1,this.finishNode(n,"TSTypePredicate")}tsParseThisTypeNode(){let t=this.startNode();return this.next(),this.finishNode(t,"TSThisType")}tsParseTypeQuery(){let t=this.startNode();return this.expect(87),this.match(83)?t.exprName=this.tsParseImportType():t.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeQuery")}tsParseTypeParameter(t){let n=this.startNode();return t(n),n.name=this.tsParseTypeParameterName(),n.constraint=this.tsEatThenParseType(81),n.default=this.tsEatThenParseType(29),this.finishNode(n,"TSTypeParameter")}tsTryParseTypeParameters(t){if(this.match(47))return this.tsParseTypeParameters(t)}tsParseTypeParameters(t){let n=this.startNode();this.match(47)||this.match(142)?this.next():this.unexpected();let i={value:-1};return n.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,t),!1,!0,i),n.params.length===0&&this.raise(W.EmptyTypeParameters,n),i.value!==-1&&this.addExtra(n,"trailingComma",i.value),this.finishNode(n,"TSTypeParameterDeclaration")}tsFillSignature(t,n){let i=t===19,s="parameters",o="typeAnnotation";n.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),n[s]=this.tsParseBindingListForSignature(),i?n[o]=this.tsParseTypeOrTypePredicateAnnotation(t):this.match(t)&&(n[o]=this.tsParseTypeOrTypePredicateAnnotation(t))}tsParseBindingListForSignature(){let t=super.parseBindingList(11,41,2);for(let n of t){let{type:i}=n;(i==="AssignmentPattern"||i==="TSParameterProperty")&&this.raise(W.UnsupportedSignatureParameterKind,n,{type:i})}return t}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(t,n){return this.tsFillSignature(14,n),this.tsParseTypeMemberSemicolon(),this.finishNode(n,t)}tsIsUnambiguouslyIndexSignature(){return this.next(),we(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(t){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);let n=this.parseIdentifier();n.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(n),this.expect(3),t.parameters=[n];let i=this.tsTryParseTypeAnnotation();return i&&(t.typeAnnotation=i),this.tsParseTypeMemberSemicolon(),this.finishNode(t,"TSIndexSignature")}tsParsePropertyOrMethodSignature(t,n){this.eat(17)&&(t.optional=!0);let i=t;if(this.match(10)||this.match(47)){n&&this.raise(W.ReadonlyForMethodSignature,t);let s=i;s.kind&&this.match(47)&&this.raise(W.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,s),this.tsParseTypeMemberSemicolon();let o="parameters",a="typeAnnotation";if(s.kind==="get")s[o].length>0&&(this.raise(w.BadGetterArity,this.state.curPosition()),this.isThisParam(s[o][0])&&this.raise(W.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if(s.kind==="set"){if(s[o].length!==1)this.raise(w.BadSetterArity,this.state.curPosition());else{let l=s[o][0];this.isThisParam(l)&&this.raise(W.AccessorCannotDeclareThisParameter,this.state.curPosition()),l.type==="Identifier"&&l.optional&&this.raise(W.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),l.type==="RestElement"&&this.raise(W.SetAccessorCannotHaveRestParameter,this.state.curPosition())}s[a]&&this.raise(W.SetAccessorCannotHaveReturnType,s[a])}else s.kind="method";return this.finishNode(s,"TSMethodSignature")}else{let s=i;n&&(s.readonly=!0);let o=this.tsTryParseTypeAnnotation();return o&&(s.typeAnnotation=o),this.tsParseTypeMemberSemicolon(),this.finishNode(s,"TSPropertySignature")}}tsParseTypeMember(){let t=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",t);if(this.match(77)){let i=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",t):(t.key=this.createIdentifier(i,"new"),this.tsParsePropertyOrMethodSignature(t,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},t);let n=this.tsTryParseIndexSignature(t);return n||(super.parsePropertyName(t),!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.tsTokenCanFollowModifier()&&(t.kind=t.key.name,super.parsePropertyName(t)),this.tsParsePropertyOrMethodSignature(t,!!t.readonly))}tsParseTypeLiteral(){let t=this.startNode();return t.members=this.tsParseObjectTypeMembers(),this.finishNode(t,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);let t=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),t}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedType(){let t=this.startNode();this.expect(5),this.match(53)?(t.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(t.readonly=!0),this.expect(0);{let n=this.startNode();n.name=this.tsParseTypeParameterName(),n.constraint=this.tsExpectThenParseType(58),t.typeParameter=this.finishNode(n,"TSTypeParameter")}return t.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(t.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(t.optional=!0),t.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(t,"TSMappedType")}tsParseTupleType(){let t=this.startNode();t.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let n=!1;return t.elementTypes.forEach(i=>{let{type:s}=i;n&&s!=="TSRestType"&&s!=="TSOptionalType"&&!(s==="TSNamedTupleMember"&&i.optional)&&this.raise(W.OptionalTypeBeforeRequired,i),n||(n=s==="TSNamedTupleMember"&&i.optional||s==="TSOptionalType")}),this.finishNode(t,"TSTupleType")}tsParseTupleElementType(){let{startLoc:t}=this.state,n=this.eat(21),i,s,o,a,u=Cr(this.state.type)?this.lookaheadCharCode():null;if(u===58)i=!0,o=!1,s=this.parseIdentifier(!0),this.expect(14),a=this.tsParseType();else if(u===63){o=!0;let c=this.state.startLoc,p=this.state.value,d=this.tsParseNonArrayType();this.lookaheadCharCode()===58?(i=!0,s=this.createIdentifier(this.startNodeAt(c),p),this.expect(17),this.expect(14),a=this.tsParseType()):(i=!1,a=d,this.expect(17))}else a=this.tsParseType(),o=this.eat(17),i=this.eat(14);if(i){let c;s?(c=this.startNodeAtNode(s),c.optional=o,c.label=s,c.elementType=a,this.eat(17)&&(c.optional=!0,this.raise(W.TupleOptionalAfterType,this.state.lastTokStartLoc))):(c=this.startNodeAtNode(a),c.optional=o,this.raise(W.InvalidTupleMemberLabel,a),c.label=a,c.elementType=this.tsParseType()),a=this.finishNode(c,"TSNamedTupleMember")}else if(o){let c=this.startNodeAtNode(a);c.typeAnnotation=a,a=this.finishNode(c,"TSOptionalType")}if(n){let c=this.startNodeAt(t);c.typeAnnotation=a,a=this.finishNode(c,"TSRestType")}return a}tsParseParenthesizedType(){let t=this.startNode();return this.expect(10),t.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(t,"TSParenthesizedType")}tsParseFunctionOrConstructorType(t,n){let i=this.startNode();return t==="TSConstructorType"&&(i.abstract=!!n,n&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,i)),this.finishNode(i,t)}tsParseLiteralTypeNode(){let t=this.startNode();switch(this.state.type){case 134:case 135:case 133:case 85:case 86:t.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(t,"TSLiteralType")}tsParseTemplateLiteralType(){let t=this.startNode();return t.literal=super.parseTemplate(!1),this.finishNode(t,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){let t=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(t):t}tsParseNonArrayType(){switch(this.state.type){case 133:case 134:case 135:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){let t=this.startNode(),n=this.lookahead();return n.type!==134&&n.type!==135&&this.unexpected(),t.literal=this.parseMaybeUnary(),this.finishNode(t,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{let{type:t}=this.state;if(we(t)||t===88||t===84){let n=t===88?"TSVoidKeyword":t===84?"TSNullKeyword":PT(this.state.value);if(n!==void 0&&this.lookaheadCharCode()!==46){let i=this.startNode();return this.next(),this.finishNode(i,n)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let t=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){let n=this.startNodeAtNode(t);n.elementType=t,this.expect(3),t=this.finishNode(n,"TSArrayType")}else{let n=this.startNodeAtNode(t);n.objectType=t,n.indexType=this.tsParseType(),this.expect(3),t=this.finishNode(n,"TSIndexedAccessType")}return t}tsParseTypeOperator(){let t=this.startNode(),n=this.state.value;return this.next(),t.operator=n,t.typeAnnotation=this.tsParseTypeOperatorOrHigher(),n==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(t),this.finishNode(t,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(t){switch(t.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(W.UnexpectedReadonly,t)}}tsParseInferType(){let t=this.startNode();this.expectContextual(115);let n=this.startNode();return n.name=this.tsParseTypeParameterName(),n.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),t.typeParameter=this.finishNode(n,"TSTypeParameter"),this.finishNode(t,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){let t=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return t}}tsParseTypeOperatorOrHigher(){return Hv(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(t,n,i){let s=this.startNode(),o=this.eat(i),a=[];do a.push(n());while(this.eat(i));return a.length===1&&!o?a[0]:(s.types=a,this.finishNode(s,t))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(we(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){let{errors:t}=this.state,n=t.length;try{return this.parseObjectLike(8,!0),t.length===n}catch{return!1}}if(this.match(0)){this.next();let{errors:t}=this.state,n=t.length;try{return super.parseBindingList(3,93,1),t.length===n}catch{return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(t){return this.tsInType(()=>{let n=this.startNode();this.expect(t);let i=this.startNode(),s=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(s&&this.match(78)){let l=this.tsParseThisTypeOrThisTypePredicate();return l.type==="TSThisType"?(i.parameterName=l,i.asserts=!0,i.typeAnnotation=null,l=this.finishNode(i,"TSTypePredicate")):(this.resetStartLocationFromNode(l,i),l.asserts=!0),n.typeAnnotation=l,this.finishNode(n,"TSTypeAnnotation")}let o=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!o)return s?(i.parameterName=this.parseIdentifier(),i.asserts=s,i.typeAnnotation=null,n.typeAnnotation=this.finishNode(i,"TSTypePredicate"),this.finishNode(n,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,n);let a=this.tsParseTypeAnnotation(!1);return i.parameterName=o,i.typeAnnotation=a,i.asserts=s,n.typeAnnotation=this.finishNode(i,"TSTypePredicate"),this.finishNode(n,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){let t=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),t}tsParseTypePredicateAsserts(){if(this.state.type!==109)return!1;let t=this.state.containsEsc;return this.next(),!we(this.state.type)&&!this.match(78)?!1:(t&&this.raise(w.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(t=!0,n=this.startNode()){return this.tsInType(()=>{t&&this.expect(14),n.typeAnnotation=this.tsParseType()}),this.finishNode(n,"TSTypeAnnotation")}tsParseType(){Uy(this.state.inType);let t=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return t;let n=this.startNodeAtNode(t);return n.checkType=t,n.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),n.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),n.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(n,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.lookahead().type===77}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(W.ReservedTypeAssertion,this.state.startLoc);let t=this.startNode();return t.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),t.expression=this.parseMaybeUnary(),this.finishNode(t,"TSTypeAssertion")}tsParseHeritageClause(t){let n=this.state.startLoc,i=this.tsParseDelimitedList("HeritageClauseElement",()=>{let s=this.startNode();return s.expression=this.tsParseEntityName(),this.match(47)&&(s.typeParameters=this.tsParseTypeArguments()),this.finishNode(s,"TSExpressionWithTypeArguments")});return i.length||this.raise(W.EmptyHeritageClauseType,n,{token:t}),i}tsParseInterfaceDeclaration(t,n={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),n.declare&&(t.declare=!0),we(this.state.type)?(t.id=this.parseIdentifier(),this.checkIdentifier(t.id,130)):(t.id=null,this.raise(W.MissingInterfaceName,this.state.startLoc)),t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(t.extends=this.tsParseHeritageClause("extends"));let i=this.startNode();return i.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),t.body=this.finishNode(i,"TSInterfaceBody"),this.finishNode(t,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(t){return t.id=this.parseIdentifier(),this.checkIdentifier(t.id,2),t.typeAnnotation=this.tsInType(()=>{if(t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&this.lookahead().type!==16){let n=this.startNode();return this.next(),this.finishNode(n,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(t,"TSTypeAliasDeclaration")}tsInNoContext(t){let n=this.state.context;this.state.context=[n[0]];try{return t()}finally{this.state.context=n}}tsInType(t){let n=this.state.inType;this.state.inType=!0;try{return t()}finally{this.state.inType=n}}tsInDisallowConditionalTypesContext(t){let n=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return t()}finally{this.state.inDisallowConditionalTypesContext=n}}tsInAllowConditionalTypesContext(t){let n=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return t()}finally{this.state.inDisallowConditionalTypesContext=n}}tsEatThenParseType(t){if(this.match(t))return this.tsNextThenParseType()}tsExpectThenParseType(t){return this.tsInType(()=>(this.expect(t),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){let t=this.startNode();return t.id=this.match(133)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(t.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(t,"TSEnumMember")}tsParseEnumDeclaration(t,n={}){return n.const&&(t.const=!0),n.declare&&(t.declare=!0),this.expectContextual(126),t.id=this.parseIdentifier(),this.checkIdentifier(t.id,t.const?8971:8459),this.expect(5),t.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(t,"TSEnumDeclaration")}tsParseModuleBlock(){let t=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(t.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(t,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(t,n=!1){if(t.id=this.parseIdentifier(),n||this.checkIdentifier(t.id,1024),this.eat(16)){let i=this.startNode();this.tsParseModuleOrNamespaceDeclaration(i,!0),t.body=i}else this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(t,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(t){return this.isContextual(112)?(t.global=!0,t.id=this.parseIdentifier()):this.match(133)?t.id=super.parseStringLiteral(this.state.value):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(t,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(t,n,i){t.isExport=i||!1,t.id=n||this.parseIdentifier(),this.checkIdentifier(t.id,4096),this.expect(29);let s=this.tsParseModuleReference();return t.importKind==="type"&&s.type!=="TSExternalModuleReference"&&this.raise(W.ImportAliasHasImportType,s),t.moduleReference=s,this.semicolon(),this.finishNode(t,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){let t=this.startNode();return this.expectContextual(119),this.expect(10),this.match(133)||this.unexpected(),t.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(t,"TSExternalModuleReference")}tsLookAhead(t){let n=this.state.clone(),i=t();return this.state=n,i}tsTryParseAndCatch(t){let n=this.tryParse(i=>t()||i());if(!(n.aborted||!n.node))return n.error&&(this.state=n.failState),n.node}tsTryParse(t){let n=this.state.clone(),i=t();if(i!==void 0&&i!==!1)return i;this.state=n}tsTryParseDeclare(t){if(this.isLineTerminator())return;let n=this.state.type,i;return this.isContextual(100)&&(n=74,i="let"),this.tsInAmbientContext(()=>{switch(n){case 68:return t.declare=!0,super.parseFunctionStatement(t,!1,!1);case 80:return t.declare=!0,this.parseClass(t,!0,!1);case 126:return this.tsParseEnumDeclaration(t,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(t);case 75:case 74:return!this.match(75)||!this.isLookaheadContextual("enum")?(t.declare=!0,this.parseVarStatement(t,i||this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(t,{const:!0,declare:!0}));case 129:{let s=this.tsParseInterfaceDeclaration(t,{declare:!0});if(s)return s}default:if(we(n))return this.tsParseDeclaration(t,this.state.value,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(t,n,i){switch(n.name){case"declare":{let s=this.tsTryParseDeclare(t);return s&&(s.declare=!0),s}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);let s=t;return s.global=!0,s.id=n,s.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(s,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(t,n.name,!1,i)}}tsParseDeclaration(t,n,i,s){switch(n){case"abstract":if(this.tsCheckLineTerminator(i)&&(this.match(80)||we(this.state.type)))return this.tsParseAbstractDeclaration(t,s);break;case"module":if(this.tsCheckLineTerminator(i)){if(this.match(133))return this.tsParseAmbientExternalModuleDeclaration(t);if(we(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(t)}break;case"namespace":if(this.tsCheckLineTerminator(i)&&we(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(t);break;case"type":if(this.tsCheckLineTerminator(i)&&we(this.state.type))return this.tsParseTypeAliasDeclaration(t);break}}tsCheckLineTerminator(t){return t?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(t){if(!this.match(47))return;let n=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;let i=this.tsTryParseAndCatch(()=>{let s=this.startNodeAt(t);return s.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(s),s.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),s});if(this.state.maybeInArrowParameters=n,!!i)return super.parseArrowExpression(i,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){let t=this.startNode();return t.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),t.params.length===0?this.raise(W.EmptyTypeArguments,t):!this.state.inType&&this.curContext()===Oe.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(t,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return Jv(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseAssignableListItem(t,n){let i=this.state.startLoc,s={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},s);let o=s.accessibility,a=s.override,l=s.readonly;!(t&4)&&(o||l||a)&&this.raise(W.UnexpectedParameterModifier,i);let u=this.parseMaybeDefault();this.parseAssignableListItemTypes(u,t);let c=this.parseMaybeDefault(u.loc.start,u);if(o||l||a){let p=this.startNodeAt(i);return n.length&&(p.decorators=n),o&&(p.accessibility=o),l&&(p.readonly=l),a&&(p.override=a),c.type!=="Identifier"&&c.type!=="AssignmentPattern"&&this.raise(W.UnsupportedParameterPropertyKind,p),p.parameter=c,this.finishNode(p,"TSParameterProperty")}return n.length&&(u.decorators=n),c}isSimpleParameter(t){return t.type==="TSParameterProperty"&&super.isSimpleParameter(t.parameter)||super.isSimpleParameter(t)}tsDisallowOptionalPattern(t){for(let n of t.params)n.type!=="Identifier"&&n.optional&&!this.state.isAmbientContext&&this.raise(W.PatternIsOptional,n)}setArrowFunctionParameters(t,n,i){super.setArrowFunctionParameters(t,n,i),this.tsDisallowOptionalPattern(t)}parseFunctionBodyAndFinish(t,n,i=!1){this.match(14)&&(t.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));let s=n==="FunctionDeclaration"?"TSDeclareFunction":n==="ClassMethod"||n==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return s&&!this.match(5)&&this.isLineTerminator()?this.finishNode(t,s):s==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(W.DeclareFunctionHasImplementation,t),t.declare)?super.parseFunctionBodyAndFinish(t,s,i):(this.tsDisallowOptionalPattern(t),super.parseFunctionBodyAndFinish(t,n,i))}registerFunctionStatementId(t){!t.body&&t.id?this.checkIdentifier(t.id,1024):super.registerFunctionStatementId(t)}tsCheckForInvalidTypeCasts(t){t.forEach(n=>{n?.type==="TSTypeCastExpression"&&this.raise(W.UnexpectedTypeAnnotation,n.typeAnnotation)})}toReferencedList(t,n){return this.tsCheckForInvalidTypeCasts(t),t}parseArrayLike(t,n,i,s){let o=super.parseArrayLike(t,n,i,s);return o.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(o.elements),o}parseSubscript(t,n,i,s){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();let a=this.startNodeAt(n);return a.expression=t,this.finishNode(a,"TSNonNullExpression")}let o=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(i)return s.stop=!0,t;s.optionalChainMember=o=!0,this.next()}if(this.match(47)||this.match(51)){let a,l=this.tsTryParseAndCatch(()=>{if(!i&&this.atPossibleAsyncArrow(t)){let d=this.tsTryParseGenericAsyncArrowFunction(n);if(d)return d}let u=this.tsParseTypeArgumentsInExpression();if(!u)return;if(o&&!this.match(10)){a=this.state.curPosition();return}if($a(this.state.type)){let d=super.parseTaggedTemplateExpression(t,n,s);return d.typeParameters=u,d}if(!i&&this.eat(10)){let d=this.startNodeAt(n);return d.callee=t,d.arguments=this.parseCallExpressionArguments(11,!1),this.tsCheckForInvalidTypeCasts(d.arguments),d.typeParameters=u,s.optionalChainMember&&(d.optional=o),this.finishCallExpression(d,s.optionalChainMember)}let c=this.state.type;if(c===48||c===52||c!==10&&kc(c)&&!this.hasPrecedingLineBreak())return;let p=this.startNodeAt(n);return p.expression=t,p.typeParameters=u,this.finishNode(p,"TSInstantiationExpression")});if(a&&this.unexpected(a,10),l)return l.type==="TSInstantiationExpression"&&(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(W.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),l}return super.parseSubscript(t,n,i,s)}parseNewCallee(t){var n;super.parseNewCallee(t);let{callee:i}=t;i.type==="TSInstantiationExpression"&&!((n=i.extra)!=null&&n.parenthesized)&&(t.typeParameters=i.typeParameters,t.callee=i.expression)}parseExprOp(t,n,i){let s;if(La(58)>i&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(s=this.isContextual(120)))){let o=this.startNodeAt(n);return o.expression=t,o.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(s&&this.raise(w.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(o,s?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(o,n,i)}return super.parseExprOp(t,n,i)}checkReservedWord(t,n,i,s){this.state.isAmbientContext||super.checkReservedWord(t,n,i,s)}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(W.ImportReflectionHasImportType,t.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){let n=this.lookaheadCharCode();return t?n===123||n===42:n!==61}return!t&&this.isContextual(87)}applyImportPhase(t,n,i,s){super.applyImportPhase(t,n,i,s),n?t.exportKind=i==="type"?"type":"value":t.importKind=i==="type"||i==="typeof"?i:"value"}parseImport(t){if(this.match(133))return t.importKind="value",super.parseImport(t);let n;if(we(this.state.type)&&this.lookaheadCharCode()===61)return t.importKind="value",this.tsParseImportEqualsDeclaration(t);if(this.isContextual(130)){let i=this.parseMaybeImportPhase(t,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(t,i);n=super.parseImportSpecifiersAndAfter(t,i)}else n=super.parseImport(t);return n.importKind==="type"&&n.specifiers.length>1&&n.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(W.TypeImportCannotSpecifyDefaultAndNamed,n),n}parseExport(t,n){if(this.match(83)){this.next();let i=t,s=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?s=this.parseMaybeImportPhase(i,!1):i.importKind="value",this.tsParseImportEqualsDeclaration(i,s,!0)}else if(this.eat(29)){let i=t;return i.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(i,"TSExportAssignment")}else if(this.eatContextual(93)){let i=t;return this.expectContextual(128),i.id=this.parseIdentifier(),this.semicolon(),this.finishNode(i,"TSNamespaceExportDeclaration")}else return super.parseExport(t,n)}isAbstractClass(){return this.isContextual(124)&&this.lookahead().type===80}parseExportDefaultExpression(){if(this.isAbstractClass()){let t=this.startNode();return this.next(),t.abstract=!0,this.parseClass(t,!0,!0)}if(this.match(129)){let t=this.tsParseInterfaceDeclaration(this.startNode());if(t)return t}return super.parseExportDefaultExpression()}parseVarStatement(t,n,i=!1){let{isAmbientContext:s}=this.state,o=super.parseVarStatement(t,n,i||s);if(!s)return o;for(let{id:a,init:l}of o.declarations)l&&(n!=="const"||a.typeAnnotation?this.raise(W.InitializerNotAllowedInAmbientContext,l):kT(l,this.hasPlugin("estree"))||this.raise(W.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,l));return o}parseStatementContent(t,n){if(this.match(75)&&this.isLookaheadContextual("enum")){let i=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(i,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){let i=this.tsParseInterfaceDeclaration(this.startNode());if(i)return i}return super.parseStatementContent(t,n)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(t,n){return n.some(i=>jy(i)?t.accessibility===i:!!t[i])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&this.lookaheadCharCode()===123}parseClassMember(t,n,i){let s=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:s,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:W.InvalidModifierOnTypeParameterPositions},n);let o=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(n,s)&&this.raise(W.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(t,n)):this.parseClassMemberWithIsStatic(t,n,i,!!n.static)};n.declare?this.tsInAmbientContext(o):o()}parseClassMemberWithIsStatic(t,n,i,s){let o=this.tsTryParseIndexSignature(n);if(o){t.body.push(o),n.abstract&&this.raise(W.IndexSignatureHasAbstract,n),n.accessibility&&this.raise(W.IndexSignatureHasAccessibility,n,{modifier:n.accessibility}),n.declare&&this.raise(W.IndexSignatureHasDeclare,n),n.override&&this.raise(W.IndexSignatureHasOverride,n);return}!this.state.inAbstractClass&&n.abstract&&this.raise(W.NonAbstractClassHasAbstractMethod,n),n.override&&(i.hadSuperClass||this.raise(W.OverrideNotInSubClass,n)),super.parseClassMemberWithIsStatic(t,n,i,s)}parsePostMemberNameModifiers(t){this.eat(17)&&(t.optional=!0),t.readonly&&this.match(10)&&this.raise(W.ClassMethodHasReadonly,t),t.declare&&this.match(10)&&this.raise(W.ClassMethodHasDeclare,t)}parseExpressionStatement(t,n,i){return(n.type==="Identifier"?this.tsParseExpressionStatement(t,n,i):void 0)||super.parseExpressionStatement(t,n,i)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(t,n,i){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(t,n,i);let s=this.tryParse(()=>super.parseConditional(t,n));return s.node?(s.error&&(this.state=s.failState),s.node):(s.error&&super.setOptionalParametersError(i,s.error),t)}parseParenItem(t,n){let i=super.parseParenItem(t,n);if(this.eat(17)&&(i.optional=!0,this.resetEndLocation(t)),this.match(14)){let s=this.startNodeAt(n);return s.expression=t,s.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(s,"TSTypeCastExpression")}return t}parseExportDeclaration(t){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(t));let n=this.state.startLoc,i=this.eatContextual(125);if(i&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(W.ExpectedAmbientAfterExportDeclare,this.state.startLoc);let o=we(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(t);return o?((o.type==="TSInterfaceDeclaration"||o.type==="TSTypeAliasDeclaration"||i)&&(t.exportKind="type"),i&&(this.resetStartLocation(o,n),o.declare=!0),o):null}parseClassId(t,n,i,s){if((!n||i)&&this.isContextual(113))return;super.parseClassId(t,n,i,t.declare?1024:8331);let o=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);o&&(t.typeParameters=o)}parseClassPropertyAnnotation(t){t.optional||(this.eat(35)?t.definite=!0:this.eat(17)&&(t.optional=!0));let n=this.tsTryParseTypeAnnotation();n&&(t.typeAnnotation=n)}parseClassProperty(t){if(this.parseClassPropertyAnnotation(t),this.state.isAmbientContext&&!(t.readonly&&!t.typeAnnotation)&&this.match(29)&&this.raise(W.DeclareClassFieldHasInitializer,this.state.startLoc),t.abstract&&this.match(29)){let{key:n}=t;this.raise(W.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:n.type==="Identifier"&&!t.computed?n.name:`[${this.input.slice(n.start,n.end)}]`})}return super.parseClassProperty(t)}parseClassPrivateProperty(t){return t.abstract&&this.raise(W.PrivateElementHasAbstract,t),t.accessibility&&this.raise(W.PrivateElementHasAccessibility,t,{modifier:t.accessibility}),this.parseClassPropertyAnnotation(t),super.parseClassPrivateProperty(t)}parseClassAccessorProperty(t){return this.parseClassPropertyAnnotation(t),t.optional&&this.raise(W.AccessorCannotBeOptional,t),super.parseClassAccessorProperty(t)}pushClassMethod(t,n,i,s,o,a){let l=this.tsTryParseTypeParameters(this.tsParseConstModifier);l&&o&&this.raise(W.ConstructorHasTypeParameters,l);let{declare:u=!1,kind:c}=n;u&&(c==="get"||c==="set")&&this.raise(W.DeclareAccessor,n,{kind:c}),l&&(n.typeParameters=l),super.pushClassMethod(t,n,i,s,o,a)}pushClassPrivateMethod(t,n,i,s){let o=this.tsTryParseTypeParameters(this.tsParseConstModifier);o&&(n.typeParameters=o),super.pushClassPrivateMethod(t,n,i,s)}declareClassPrivateMethodInScope(t,n){t.type!=="TSDeclareMethod"&&(t.type==="MethodDefinition"&&!hasOwnProperty.call(t.value,"body")||super.declareClassPrivateMethodInScope(t,n))}parseClassSuper(t){super.parseClassSuper(t),t.superClass&&(this.match(47)||this.match(51))&&(t.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(t.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(t,n,i,s,o,a,l){let u=this.tsTryParseTypeParameters(this.tsParseConstModifier);return u&&(t.typeParameters=u),super.parseObjPropValue(t,n,i,s,o,a,l)}parseFunctionParams(t,n){let i=this.tsTryParseTypeParameters(this.tsParseConstModifier);i&&(t.typeParameters=i),super.parseFunctionParams(t,n)}parseVarId(t,n){super.parseVarId(t,n),t.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(t.definite=!0);let i=this.tsTryParseTypeAnnotation();i&&(t.id.typeAnnotation=i,this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,n){return this.match(14)&&(t.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(t,n)}parseMaybeAssign(t,n){var i,s,o,a,l;let u,c,p;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(u=this.state.clone(),c=this.tryParse(()=>super.parseMaybeAssign(t,n),u),!c.error)return c.node;let{context:f}=this.state,h=f[f.length-1];(h===Oe.j_oTag||h===Oe.j_expr)&&f.pop()}if(!((i=c)!=null&&i.error)&&!this.match(47))return super.parseMaybeAssign(t,n);(!u||u===this.state)&&(u=this.state.clone());let d,m=this.tryParse(f=>{var h,g;d=this.tsParseTypeParameters(this.tsParseConstModifier);let y=super.parseMaybeAssign(t,n);return(y.type!=="ArrowFunctionExpression"||(h=y.extra)!=null&&h.parenthesized)&&f(),((g=d)==null?void 0:g.params.length)!==0&&this.resetStartLocationFromNode(y,d),y.typeParameters=d,y},u);if(!m.error&&!m.aborted)return d&&this.reportReservedArrowTypeParam(d),m.node;if(!c&&(Uy(!this.hasPlugin("jsx")),p=this.tryParse(()=>super.parseMaybeAssign(t,n),u),!p.error))return p.node;if((s=c)!=null&&s.node)return this.state=c.failState,c.node;if(m.node)return this.state=m.failState,d&&this.reportReservedArrowTypeParam(d),m.node;if((o=p)!=null&&o.node)return this.state=p.failState,p.node;throw((a=c)==null?void 0:a.error)||m.error||((l=p)==null?void 0:l.error)}reportReservedArrowTypeParam(t){var n;t.params.length===1&&!t.params[0].constraint&&!((n=t.extra)!=null&&n.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(W.ReservedArrowTypeParam,t)}parseMaybeUnary(t,n){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(t,n)}parseArrow(t){if(this.match(14)){let n=this.tryParse(i=>{let s=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&i(),s});if(n.aborted)return;n.thrown||(n.error&&(this.state=n.failState),t.returnType=n.node)}return super.parseArrow(t)}parseAssignableListItemTypes(t,n){if(!(n&2))return t;this.eat(17)&&(t.optional=!0);let i=this.tsTryParseTypeAnnotation();return i&&(t.typeAnnotation=i),this.resetEndLocation(t),t}isAssignable(t,n){switch(t.type){case"TSTypeCastExpression":return this.isAssignable(t.expression,n);case"TSParameterProperty":return!0;default:return super.isAssignable(t,n)}}toAssignable(t,n=!1){switch(t.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(t,n);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":n?this.expressionScope.recordArrowParameterBindingError(W.UnexpectedTypeCastInParameter,t):this.raise(W.UnexpectedTypeCastInParameter,t),this.toAssignable(t.expression,n);break;case"AssignmentExpression":!n&&t.left.type==="TSTypeCastExpression"&&(t.left=this.typeCastToParameter(t.left));default:super.toAssignable(t,n)}}toAssignableParenthesizedExpression(t,n){switch(t.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(t.expression,n);break;default:super.toAssignable(t,n)}}checkToRestConversion(t,n){switch(t.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(t.expression,!1);break;default:super.checkToRestConversion(t,n)}}isValidLVal(t,n,i){switch(t){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":case"TSInstantiationExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(i!==64||!n)&&["expression",!0];default:return super.isValidLVal(t,n,i)}}parseBindingAtom(){return this.state.type===78?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(t){if(this.match(47)||this.match(51)){let n=this.tsParseTypeArgumentsInExpression();if(this.match(10)){let i=super.parseMaybeDecoratorArguments(t);return i.typeParameters=n,i}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(t)}checkCommaAfterRest(t){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===t?(this.next(),!1):super.checkCommaAfterRest(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(t,n){let i=super.parseMaybeDefault(t,n);return i.type==="AssignmentPattern"&&i.typeAnnotation&&i.right.start<i.typeAnnotation.start&&this.raise(W.TypeAnnotationAfterAssign,i.typeAnnotation),i}getTokenFromCode(t){if(this.state.inType){if(t===62){this.finishOp(48,1);return}if(t===60){this.finishOp(47,1);return}}super.getTokenFromCode(t)}reScan_lt_gt(){let{type:t}=this.state;t===47?(this.state.pos-=1,this.readToken_lt()):t===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){let{type:t}=this.state;return t===51?(this.state.pos-=2,this.finishOp(47,1),47):t}toAssignableList(t,n,i){for(let s=0;s<t.length;s++){let o=t[s];o?.type==="TSTypeCastExpression"&&(t[s]=this.typeCastToParameter(o))}super.toAssignableList(t,n,i)}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}shouldParseArrow(t){return this.match(14)?t.every(n=>this.isAssignable(n,!0)):super.shouldParseArrow(t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(t){if(this.match(47)||this.match(51)){let n=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());n&&(t.typeParameters=n)}return super.jsxParseOpeningElementAfterName(t)}getGetterSetterExpectedParamCount(t){let n=super.getGetterSetterExpectedParamCount(t),s=this.getObjectOrClassMethodParams(t)[0];return s&&this.isThisParam(s)?n+1:n}parseCatchClauseParam(){let t=super.parseCatchClauseParam(),n=this.tsTryParseTypeAnnotation();return n&&(t.typeAnnotation=n,this.resetEndLocation(t)),t}tsInAmbientContext(t){let{isAmbientContext:n,strict:i}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return t()}finally{this.state.isAmbientContext=n,this.state.strict=i}}parseClass(t,n,i){let s=this.state.inAbstractClass;this.state.inAbstractClass=!!t.abstract;try{return super.parseClass(t,n,i)}finally{this.state.inAbstractClass=s}}tsParseAbstractDeclaration(t,n){if(this.match(80))return t.abstract=!0,this.maybeTakeDecorators(n,this.parseClass(t,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return t.abstract=!0,this.raise(W.NonClassMethodPropertyHasAbstractModifer,t),this.tsParseInterfaceDeclaration(t)}else this.unexpected(null,80)}parseMethod(t,n,i,s,o,a,l){let u=super.parseMethod(t,n,i,s,o,a,l);if(u.abstract&&(this.hasPlugin("estree")?!!u.value.body:!!u.body)){let{key:p}=u;this.raise(W.AbstractMethodHasImplementation,u,{methodName:p.type==="Identifier"&&!u.computed?p.name:`[${this.input.slice(p.start,p.end)}]`})}return u}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(t,n,i,s){return!n&&s?(this.parseTypeOnlyImportExportSpecifier(t,!1,i),this.finishNode(t,"ExportSpecifier")):(t.exportKind="value",super.parseExportSpecifier(t,n,i,s))}parseImportSpecifier(t,n,i,s,o){return!n&&s?(this.parseTypeOnlyImportExportSpecifier(t,!0,i),this.finishNode(t,"ImportSpecifier")):(t.importKind="value",super.parseImportSpecifier(t,n,i,s,i?4098:4096))}parseTypeOnlyImportExportSpecifier(t,n,i){let s=n?"imported":"local",o=n?"local":"exported",a=t[s],l,u=!1,c=!0,p=a.loc.start;if(this.isContextual(93)){let m=this.parseIdentifier();if(this.isContextual(93)){let f=this.parseIdentifier();Cr(this.state.type)?(u=!0,a=m,l=n?this.parseIdentifier():this.parseModuleExportName(),c=!1):(l=f,c=!1)}else Cr(this.state.type)?(c=!1,l=n?this.parseIdentifier():this.parseModuleExportName()):(u=!0,a=m)}else Cr(this.state.type)&&(u=!0,n?(a=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(a.name,a.loc.start,!0,!0)):a=this.parseModuleExportName());u&&i&&this.raise(n?W.TypeModifierIsUsedInTypeImports:W.TypeModifierIsUsedInTypeExports,p),t[s]=a,t[o]=l;let d=n?"importKind":"exportKind";t[d]=u?"type":"value",c&&this.eatContextual(93)&&(t[o]=n?this.parseIdentifier():this.parseModuleExportName()),t[o]||(t[o]=hn(t[s])),n&&this.checkIdentifier(t[o],u?4098:4096)}};function FT(e){if(e.type!=="MemberExpression")return!1;let{computed:r,property:t}=e;return r&&t.type!=="StringLiteral"&&(t.type!=="TemplateLiteral"||t.expressions.length>0)?!1:sb(e.object)}function kT(e,r){var t;let{type:n}=e;if((t=e.extra)!=null&&t.parenthesized)return!1;if(r){if(n==="Literal"){let{value:i}=e;if(typeof i=="string"||typeof i=="boolean")return!0}}else if(n==="StringLiteral"||n==="BooleanLiteral")return!0;return!!(ib(e,r)||_T(e,r)||n==="TemplateLiteral"&&e.expressions.length===0||FT(e))}function ib(e,r){return r?e.type==="Literal"&&(typeof e.value=="number"||"bigint"in e):e.type==="NumericLiteral"||e.type==="BigIntLiteral"}function _T(e,r){if(e.type==="UnaryExpression"){let{operator:t,argument:n}=e;if(t==="-"&&ib(n,r))return!0}return!1}function sb(e){return e.type==="Identifier"?!0:e.type!=="MemberExpression"||e.computed?!1:sb(e.object)}var Ky=mn`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),OT=e=>class extends e{parsePlaceholder(t){if(this.match(144)){let n=this.startNode();return this.next(),this.assertNoSpace(),n.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(144),this.finishPlaceholder(n,t)}}finishPlaceholder(t,n){let i=t;return(!i.expectedNode||!i.type)&&(i=this.finishNode(i,"Placeholder")),i.expectedNode=n,i}getTokenFromCode(t){t===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(144,2):super.getTokenFromCode(t)}parseExprAtom(t){return this.parsePlaceholder("Expression")||super.parseExprAtom(t)}parseIdentifier(t){return this.parsePlaceholder("Identifier")||super.parseIdentifier(t)}checkReservedWord(t,n,i,s){t!==void 0&&super.checkReservedWord(t,n,i,s)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(t,n,i){return t==="Placeholder"||super.isValidLVal(t,n,i)}toAssignable(t,n){t&&t.type==="Placeholder"&&t.expectedNode==="Expression"?t.expectedNode="Pattern":super.toAssignable(t,n)}chStartsBindingIdentifier(t,n){return!!(super.chStartsBindingIdentifier(t,n)||this.lookahead().type===144)}verifyBreakContinue(t,n){t.label&&t.label.type==="Placeholder"||super.verifyBreakContinue(t,n)}parseExpressionStatement(t,n){var i;if(n.type!=="Placeholder"||(i=n.extra)!=null&&i.parenthesized)return super.parseExpressionStatement(t,n);if(this.match(14)){let o=t;return o.label=this.finishPlaceholder(n,"Identifier"),this.next(),o.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(o,"LabeledStatement")}this.semicolon();let s=t;return s.name=n.name,this.finishPlaceholder(s,"Statement")}parseBlock(t,n,i){return this.parsePlaceholder("BlockStatement")||super.parseBlock(t,n,i)}parseFunctionId(t){return this.parsePlaceholder("Identifier")||super.parseFunctionId(t)}parseClass(t,n,i){let s=n?"ClassDeclaration":"ClassExpression";this.next();let o=this.state.strict,a=this.parsePlaceholder("Identifier");if(a)if(this.match(81)||this.match(144)||this.match(5))t.id=a;else{if(i||!n)return t.id=null,t.body=this.finishPlaceholder(a,"ClassBody"),this.finishNode(t,s);throw this.raise(Ky.ClassNameIsRequired,this.state.startLoc)}else this.parseClassId(t,n,i);return super.parseClassSuper(t),t.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!t.superClass,o),this.finishNode(t,s)}parseExport(t,n){let i=this.parsePlaceholder("Identifier");if(!i)return super.parseExport(t,n);let s=t;if(!this.isContextual(98)&&!this.match(12))return s.specifiers=[],s.source=null,s.declaration=this.finishPlaceholder(i,"Declaration"),this.finishNode(s,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");let o=this.startNode();return o.exported=i,s.specifiers=[this.finishNode(o,"ExportDefaultSpecifier")],super.parseExport(s,n)}isExportDefaultSpecifier(){if(this.match(65)){let t=this.nextTokenStart();if(this.isUnparsedContextual(t,"from")&&this.input.startsWith(Ln(144),this.nextTokenStartSince(t+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(t,n){var i;return(i=t.specifiers)!=null&&i.length?!0:super.maybeParseExportDefaultSpecifier(t,n)}checkExport(t){let{specifiers:n}=t;n!=null&&n.length&&(t.specifiers=n.filter(i=>i.exported.type==="Placeholder")),super.checkExport(t),t.specifiers=n}parseImport(t){let n=this.parsePlaceholder("Identifier");if(!n)return super.parseImport(t);if(t.specifiers=[],!this.isContextual(98)&&!this.match(12))return t.source=this.finishPlaceholder(n,"StringLiteral"),this.semicolon(),this.finishNode(t,"ImportDeclaration");let i=this.startNodeAtNode(n);return i.local=n,t.specifiers.push(this.finishNode(i,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(t)||this.parseNamedImportSpecifiers(t)),this.expectContextual(98),t.source=this.parseImportSource(),this.semicolon(),this.finishNode(t,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.state.lastTokEndLoc.index&&this.raise(Ky.UnexpectedSpace,this.state.lastTokEndLoc)}},RT=e=>class extends e{parseV8Intrinsic(){if(this.match(54)){let t=this.state.startLoc,n=this.startNode();if(this.next(),we(this.state.type)){let i=this.parseIdentifierName(),s=this.createIdentifier(n,i);if(s.type="V8IntrinsicIdentifier",this.match(10))return s}this.unexpected(t)}}parseExprAtom(t){return this.parseV8Intrinsic()||super.parseExprAtom(t)}},Vy=["minimal","fsharp","hack","smart"],zy=["^^","@@","^","%","#"];function LT(e){if(e.has("decorators")){if(e.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");let t=e.get("decorators").decoratorsBeforeExport;if(t!=null&&typeof t!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");let n=e.get("decorators").allowCallParenthesized;if(n!=null&&typeof n!="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(e.has("flow")&&e.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(e.has("placeholders")&&e.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(e.has("pipelineOperator")){var r;let t=e.get("pipelineOperator").proposal;if(!Vy.includes(t)){let i=Vy.map(s=>`"${s}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${i}.`)}let n=((r=e.get("recordAndTuple"))==null?void 0:r.syntaxType)==="hash";if(t==="hack"){if(e.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(e.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");let i=e.get("pipelineOperator").topicToken;if(!zy.includes(i)){let s=zy.map(o=>`"${o}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${s}.`)}if(i==="#"&&n)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}else if(t==="smart"&&n)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}if(e.has("moduleAttributes")){if(e.has("importAttributes")||e.has("importAssertions"))throw new Error("Cannot combine importAssertions, importAttributes and moduleAttributes plugins.");if(e.get("moduleAttributes").version!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(e.has("importAttributes")&&e.has("importAssertions"))throw new Error("Cannot combine importAssertions and importAttributes plugins.");if(e.has("recordAndTuple")){let t=e.get("recordAndTuple").syntaxType;if(t!=null){let n=["hash","bar"];if(!n.includes(t))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+n.map(i=>`'${i}'`).join(", "))}}if(e.has("asyncDoExpressions")&&!e.has("doExpressions")){let t=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw t.missingPlugins="doExpressions",t}if(e.has("optionalChainingAssign")&&e.get("optionalChainingAssign").version!=="2023-07")throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.")}var ob={estree:Mv,jsx:vT,flow:wT,typescript:NT,v8intrinsic:RT,placeholders:OT},BT=Object.keys(ob),Ic={sourceType:"script",sourceFilename:void 0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};function MT(e){if(e==null)return Object.assign({},Ic);if(e.annexB!=null&&e.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");let r={};for(let n of Object.keys(Ic)){var t;r[n]=(t=e[n])!=null?t:Ic[n]}return r}var Yc=class extends Jc{checkProto(r,t,n,i){if(r.type==="SpreadElement"||this.isObjectMethod(r)||r.computed||r.shorthand)return;let s=r.key;if((s.type==="Identifier"?s.name:s.value)==="__proto__"){if(t){this.raise(w.RecordNoProto,s);return}n.used&&(i?i.doubleProtoLoc===null&&(i.doubleProtoLoc=s.loc.start):this.raise(w.DuplicateProto,s)),n.used=!0}}shouldExitDescending(r,t){return r.type==="ArrowFunctionExpression"&&r.start===t}getExpression(){this.enterInitialScopes(),this.nextToken();let r=this.parseExpression();return this.match(139)||this.unexpected(),this.finalizeRemainingComments(),r.comments=this.comments,r.errors=this.state.errors,this.options.tokens&&(r.tokens=this.tokens),r}parseExpression(r,t){return r?this.disallowInAnd(()=>this.parseExpressionBase(t)):this.allowInAnd(()=>this.parseExpressionBase(t))}parseExpressionBase(r){let t=this.state.startLoc,n=this.parseMaybeAssign(r);if(this.match(12)){let i=this.startNodeAt(t);for(i.expressions=[n];this.eat(12);)i.expressions.push(this.parseMaybeAssign(r));return this.toReferencedList(i.expressions),this.finishNode(i,"SequenceExpression")}return n}parseMaybeAssignDisallowIn(r,t){return this.disallowInAnd(()=>this.parseMaybeAssign(r,t))}parseMaybeAssignAllowIn(r,t){return this.allowInAnd(()=>this.parseMaybeAssign(r,t))}setOptionalParametersError(r,t){var n;r.optionalParametersLoc=(n=t?.loc)!=null?n:this.state.startLoc}parseMaybeAssign(r,t){let n=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let a=this.parseYield();return t&&(a=t.call(this,a,n)),a}let i;r?i=!1:(r=new Gi,i=!0);let{type:s}=this.state;(s===10||we(s))&&(this.state.potentialArrowAt=this.state.start);let o=this.parseMaybeConditional(r);if(t&&(o=t.call(this,o,n)),Vv(this.state.type)){let a=this.startNodeAt(n),l=this.state.value;if(a.operator=l,this.match(29)){this.toAssignable(o,!0),a.left=o;let u=n.index;r.doubleProtoLoc!=null&&r.doubleProtoLoc.index>=u&&(r.doubleProtoLoc=null),r.shorthandAssignLoc!=null&&r.shorthandAssignLoc.index>=u&&(r.shorthandAssignLoc=null),r.privateKeyLoc!=null&&r.privateKeyLoc.index>=u&&(this.checkDestructuringPrivate(r),r.privateKeyLoc=null)}else a.left=o;return this.next(),a.right=this.parseMaybeAssign(),this.checkLVal(o,this.finishNode(a,"AssignmentExpression")),a}else i&&this.checkExpressionErrors(r,!0);return o}parseMaybeConditional(r){let t=this.state.startLoc,n=this.state.potentialArrowAt,i=this.parseExprOps(r);return this.shouldExitDescending(i,n)?i:this.parseConditional(i,t,r)}parseConditional(r,t,n){if(this.eat(17)){let i=this.startNodeAt(t);return i.test=r,i.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),i.alternate=this.parseMaybeAssign(),this.finishNode(i,"ConditionalExpression")}return r}parseMaybeUnaryOrPrivate(r){return this.match(138)?this.parsePrivateName():this.parseMaybeUnary(r)}parseExprOps(r){let t=this.state.startLoc,n=this.state.potentialArrowAt,i=this.parseMaybeUnaryOrPrivate(r);return this.shouldExitDescending(i,n)?i:this.parseExprOp(i,t,-1)}parseExprOp(r,t,n){if(this.isPrivateName(r)){let s=this.getPrivateNameSV(r);(n>=La(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(w.PrivateInExpectedIn,r,{identifierName:s}),this.classScope.usePrivateName(s,r.loc.start)}let i=this.state.type;if(qv(i)&&(this.prodParam.hasIn||!this.match(58))){let s=La(i);if(s>n){if(i===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return r;this.checkPipelineAtInfixOperator(r,t)}let o=this.startNodeAt(t);o.left=r,o.operator=this.state.value;let a=i===41||i===42,l=i===40;if(l&&(s=La(42)),this.next(),i===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(w.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);o.right=this.parseExprOpRightExpr(i,s);let u=this.finishNode(o,a||l?"LogicalExpression":"BinaryExpression"),c=this.state.type;if(l&&(c===41||c===42)||a&&c===40)throw this.raise(w.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(u,t,n)}}return r}parseExprOpRightExpr(r,t){let n=this.state.startLoc;switch(r){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"smart":return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(w.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(r,t),n)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(t))}default:return this.parseExprOpBaseRightExpr(r,t)}}parseExprOpBaseRightExpr(r,t){let n=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),n,Yv(r)?t-1:t)}parseHackPipeBody(){var r;let{startLoc:t}=this.state,n=this.parseMaybeAssign();return _v.has(n.type)&&!((r=n.extra)!=null&&r.parenthesized)&&this.raise(w.PipeUnparenthesizedBody,t,{type:n.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(w.PipeTopicUnused,t),n}checkExponentialAfterUnary(r){this.match(57)&&this.raise(w.UnexpectedTokenUnaryExponentiation,r.argument)}parseMaybeUnary(r,t){let n=this.state.startLoc,i=this.isContextual(96);if(i&&this.recordAwaitIfAllowed()){this.next();let l=this.parseAwait(n);return t||this.checkExponentialAfterUnary(l),l}let s=this.match(34),o=this.startNode();if(Gv(this.state.type)){o.operator=this.state.value,o.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");let l=this.match(89);if(this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(r,!0),this.state.strict&&l){let u=o.argument;u.type==="Identifier"?this.raise(w.StrictDelete,o):this.hasPropertyAsPrivateName(u)&&this.raise(w.DeletePrivateField,o)}if(!s)return t||this.checkExponentialAfterUnary(o),this.finishNode(o,"UnaryExpression")}let a=this.parseUpdate(o,s,r);if(i){let{type:l}=this.state;if((this.hasPlugin("v8intrinsic")?kc(l):kc(l)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(w.AwaitNotInAsyncContext,n),this.parseAwait(n)}return a}parseUpdate(r,t,n){if(t){let o=r;return this.checkLVal(o.argument,this.finishNode(o,"UpdateExpression")),r}let i=this.state.startLoc,s=this.parseExprSubscripts(n);if(this.checkExpressionErrors(n,!1))return s;for(;Wv(this.state.type)&&!this.canInsertSemicolon();){let o=this.startNodeAt(i);o.operator=this.state.value,o.prefix=!1,o.argument=s,this.next(),this.checkLVal(s,s=this.finishNode(o,"UpdateExpression"))}return s}parseExprSubscripts(r){let t=this.state.startLoc,n=this.state.potentialArrowAt,i=this.parseExprAtom(r);return this.shouldExitDescending(i,n)?i:this.parseSubscripts(i,t)}parseSubscripts(r,t,n){let i={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(r),stop:!1};do r=this.parseSubscript(r,t,n,i),i.maybeAsyncArrow=!1;while(!i.stop);return r}parseSubscript(r,t,n,i){let{type:s}=this.state;if(!n&&s===15)return this.parseBind(r,t,n,i);if($a(s))return this.parseTaggedTemplateExpression(r,t,i);let o=!1;if(s===18){if(n&&(this.raise(w.OptionalChainingNoNew,this.state.startLoc),this.lookaheadCharCode()===40))return i.stop=!0,r;i.optionalChainMember=o=!0,this.next()}if(!n&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(r,t,i,o);{let a=this.eat(0);return a||o||this.eat(16)?this.parseMember(r,t,i,a,o):(i.stop=!0,r)}}parseMember(r,t,n,i,s){let o=this.startNodeAt(t);return o.object=r,o.computed=i,i?(o.property=this.parseExpression(),this.expect(3)):this.match(138)?(r.type==="Super"&&this.raise(w.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),o.property=this.parsePrivateName()):o.property=this.parseIdentifier(!0),n.optionalChainMember?(o.optional=s,this.finishNode(o,"OptionalMemberExpression")):this.finishNode(o,"MemberExpression")}parseBind(r,t,n,i){let s=this.startNodeAt(t);return s.object=r,this.next(),s.callee=this.parseNoCallExpr(),i.stop=!0,this.parseSubscripts(this.finishNode(s,"BindExpression"),t,n)}parseCoverCallAndAsyncArrowHead(r,t,n,i){let s=this.state.maybeInArrowParameters,o=null;this.state.maybeInArrowParameters=!0,this.next();let a=this.startNodeAt(t);a.callee=r;let{maybeAsyncArrow:l,optionalChainMember:u}=n;l&&(this.expressionScope.enter(gT()),o=new Gi),u&&(a.optional=i),i?a.arguments=this.parseCallExpressionArguments(11):a.arguments=this.parseCallExpressionArguments(11,r.type==="Import",r.type!=="Super",a,o);let c=this.finishCallExpression(a,u);return l&&this.shouldParseAsyncArrow()&&!i?(n.stop=!0,this.checkDestructuringPrivate(o),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),c=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),c)):(l&&(this.checkExpressionErrors(o,!0),this.expressionScope.exit()),this.toReferencedArguments(c)),this.state.maybeInArrowParameters=s,c}toReferencedArguments(r,t){this.toReferencedListDeep(r.arguments,t)}parseTaggedTemplateExpression(r,t,n){let i=this.startNodeAt(t);return i.tag=r,i.quasi=this.parseTemplate(!0),n.optionalChainMember&&this.raise(w.OptionalChainingNoTemplate,t),this.finishNode(i,"TaggedTemplateExpression")}atPossibleAsyncArrow(r){return r.type==="Identifier"&&r.name==="async"&&this.state.lastTokEndLoc.index===r.end&&!this.canInsertSemicolon()&&r.end-r.start===5&&r.start===this.state.potentialArrowAt}expectImportAttributesPlugin(){this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes")}finishCallExpression(r,t){if(r.callee.type==="Import")if(r.arguments.length===2&&(this.hasPlugin("moduleAttributes")||this.expectImportAttributesPlugin()),r.arguments.length===0||r.arguments.length>2)this.raise(w.ImportCallArity,r,{maxArgumentCount:this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?2:1});else for(let n of r.arguments)n.type==="SpreadElement"&&this.raise(w.ImportCallSpreadArgument,n);return this.finishNode(r,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(r,t,n,i,s){let o=[],a=!0,l=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(r);){if(a)a=!1;else if(this.expect(12),this.match(r)){t&&!this.hasPlugin("importAttributes")&&!this.hasPlugin("importAssertions")&&!this.hasPlugin("moduleAttributes")&&this.raise(w.ImportCallArgumentTrailingComma,this.state.lastTokStartLoc),i&&this.addTrailingCommaExtraToNode(i),this.next();break}o.push(this.parseExprListItem(!1,s,n))}return this.state.inFSharpPipelineDirectBody=l,o}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(r,t){var n;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(r,t.arguments,!0,(n=t.extra)==null?void 0:n.trailingCommaLoc),t.innerComments&&Zs(r,t.innerComments),t.callee.trailingComments&&Zs(r,t.callee.trailingComments),r}parseNoCallExpr(){let r=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),r,!0)}parseExprAtom(r){let t,n=null,{type:i}=this.state;switch(i){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):this.match(10)?this.options.createImportExpressions?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(w.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 134:return this.parseNumericLiteral(this.state.value);case 135:return this.parseBigIntLiteral(this.state.value);case 136:return this.parseDecimalLiteral(this.state.value);case 133:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{let s=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(s)}case 2:case 1:return this.parseArrayLike(this.state.type===2?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,r);case 6:case 7:return this.parseObjectLike(this.state.type===6?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,r);case 68:return this.parseFunctionOrFunctionSent();case 26:n=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(n,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;let s=t.callee=this.parseNoCallExpr();if(s.type==="MemberExpression")return this.finishNode(t,"BindExpression");throw this.raise(w.UnsupportedBind,s)}case 138:return this.raise(w.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{let s=this.getPluginOption("pipelineOperator","proposal");if(s)return this.parseTopicReference(s);this.unexpected();break}case 47:{let s=this.input.codePointAt(this.nextTokenStart());fn(s)||s===62?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(we(i)){if(this.isContextual(127)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();let s=this.state.potentialArrowAt===this.state.start,o=this.state.containsEsc,a=this.parseIdentifier();if(!o&&a.name==="async"&&!this.canInsertSemicolon()){let{type:l}=this.state;if(l===68)return this.resetPreviousNodeTrailingComments(a),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(a));if(we(l))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(a)):a;if(l===90)return this.resetPreviousNodeTrailingComments(a),this.parseDo(this.startNodeAtNode(a),!0)}return s&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(a),[a],!1)):a}else this.unexpected()}}parseTopicReferenceThenEqualsSign(r,t){let n=this.getPluginOption("pipelineOperator","proposal");if(n)return this.state.type=r,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=$t(this.state.endLoc,-1),this.parseTopicReference(n);this.unexpected()}parseTopicReference(r){let t=this.startNode(),n=this.state.startLoc,i=this.state.type;return this.next(),this.finishTopicReference(t,n,r,i)}finishTopicReference(r,t,n,i){if(this.testTopicReferenceConfiguration(n,t,i)){let s=n==="smart"?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise(n==="smart"?w.PrimaryTopicNotAllowed:w.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(r,s)}else throw this.raise(w.PipeTopicUnconfiguredToken,t,{token:Ln(i)})}testTopicReferenceConfiguration(r,t,n){switch(r){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:Ln(n)}]);case"smart":return n===27;default:throw this.raise(w.PipeTopicRequiresHackPipes,t)}}parseAsyncArrowUnaryFunction(r){this.prodParam.enter(Ba(!0,this.prodParam.hasYield));let t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(w.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(r,t,!0)}parseDo(r,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),r.async=t,this.next();let n=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),r.body=this.parseBlock(),this.prodParam.exit()):r.body=this.parseBlock(),this.state.labels=n,this.finishNode(r,"DoExpression")}parseSuper(){let r=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!this.options.allowSuperOutsideMethod?this.raise(w.SuperNotAllowed,r):!this.scope.allowSuper&&!this.options.allowSuperOutsideMethod&&this.raise(w.UnexpectedSuper,r),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(w.UnsupportedSuper,r),this.finishNode(r,"Super")}parsePrivateName(){let r=this.startNode(),t=this.startNodeAt($t(this.state.startLoc,1)),n=this.state.value;return this.next(),r.id=this.createIdentifier(t,n),this.finishNode(r,"PrivateName")}parseFunctionOrFunctionSent(){let r=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(r),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(r,t,"sent")}return this.parseFunction(r)}parseMetaProperty(r,t,n){r.meta=t;let i=this.state.containsEsc;return r.property=this.parseIdentifier(!0),(r.property.name!==n||i)&&this.raise(w.UnsupportedMetaProperty,r.property,{target:t.name,onlyValidPropertyName:n}),this.finishNode(r,"MetaProperty")}parseImportMetaProperty(r){let t=this.createIdentifier(this.startNodeAtNode(r),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(w.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){let n=this.isContextual(105);if(n||this.unexpected(),this.expectPlugin(n?"sourcePhaseImports":"deferredImportEvaluation"),!this.options.createImportExpressions)throw this.raise(w.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),r.phase=n?"source":"defer",this.parseImportCall(r)}return this.parseMetaProperty(r,t,"meta")}parseLiteralAtNode(r,t,n){return this.addExtra(n,"rawValue",r),this.addExtra(n,"raw",this.input.slice(n.start,this.state.end)),n.value=r,this.next(),this.finishNode(n,t)}parseLiteral(r,t){let n=this.startNode();return this.parseLiteralAtNode(r,t,n)}parseStringLiteral(r){return this.parseLiteral(r,"StringLiteral")}parseNumericLiteral(r){return this.parseLiteral(r,"NumericLiteral")}parseBigIntLiteral(r){return this.parseLiteral(r,"BigIntLiteral")}parseDecimalLiteral(r){return this.parseLiteral(r,"DecimalLiteral")}parseRegExpLiteral(r){let t=this.startNode();return this.addExtra(t,"raw",this.input.slice(t.start,this.state.end)),t.pattern=r.pattern,t.flags=r.flags,this.next(),this.finishNode(t,"RegExpLiteral")}parseBooleanLiteral(r){let t=this.startNode();return t.value=r,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){let r=this.startNode();return this.next(),this.finishNode(r,"NullLiteral")}parseParenAndDistinguishExpression(r){let t=this.state.startLoc,n;this.next(),this.expressionScope.enter(hT());let i=this.state.maybeInArrowParameters,s=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;let o=this.state.startLoc,a=[],l=new Gi,u=!0,c,p;for(;!this.match(11);){if(u)u=!1;else if(this.expect(12,l.optionalParametersLoc===null?null:l.optionalParametersLoc),this.match(11)){p=this.state.startLoc;break}if(this.match(21)){let f=this.state.startLoc;if(c=this.state.startLoc,a.push(this.parseParenItem(this.parseRestBinding(),f)),!this.checkCommaAfterRest(41))break}else a.push(this.parseMaybeAssignAllowIn(l,this.parseParenItem))}let d=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=i,this.state.inFSharpPipelineDirectBody=s;let m=this.startNodeAt(t);return r&&this.shouldParseArrow(a)&&(m=this.parseArrow(m))?(this.checkDestructuringPrivate(l),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(m,a,!1),m):(this.expressionScope.exit(),a.length||this.unexpected(this.state.lastTokStartLoc),p&&this.unexpected(p),c&&this.unexpected(c),this.checkExpressionErrors(l,!0),this.toReferencedListDeep(a,!0),a.length>1?(n=this.startNodeAt(o),n.expressions=a,this.finishNode(n,"SequenceExpression"),this.resetEndLocation(n,d)):n=a[0],this.wrapParenthesis(t,n))}wrapParenthesis(r,t){if(!this.options.createParenthesizedExpressions)return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",r.index),this.takeSurroundingComments(t,r.index,this.state.lastTokEndLoc.index),t;let n=this.startNodeAt(r);return n.expression=t,this.finishNode(n,"ParenthesizedExpression")}shouldParseArrow(r){return!this.canInsertSemicolon()}parseArrow(r){if(this.eat(19))return r}parseParenItem(r,t){return r}parseNewOrNewTarget(){let r=this.startNode();if(this.next(),this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(r),"new");this.next();let n=this.parseMetaProperty(r,t,"target");return!this.scope.inNonArrowFunction&&!this.scope.inClass&&!this.options.allowNewTargetOutsideFunction&&this.raise(w.UnexpectedNewTarget,n),n}return this.parseNew(r)}parseNew(r){if(this.parseNewCallee(r),this.eat(10)){let t=this.parseExprList(11);this.toReferencedList(t),r.arguments=t}else r.arguments=[];return this.finishNode(r,"NewExpression")}parseNewCallee(r){let t=this.match(83),n=this.parseNoCallExpr();r.callee=n,t&&(n.type==="Import"||n.type==="ImportExpression")&&this.raise(w.ImportCallNotNewExpression,n)}parseTemplateElement(r){let{start:t,startLoc:n,end:i,value:s}=this.state,o=t+1,a=this.startNodeAt($t(n,1));s===null&&(r||this.raise(w.InvalidEscapeSequenceTemplate,$t(this.state.firstInvalidTemplateEscapePos,1)));let l=this.match(24),u=l?-1:-2,c=i+u;a.value={raw:this.input.slice(o,c).replace(/\r\n?/g,`
`),cooked:s===null?null:s.slice(1,u)},a.tail=l,this.next();let p=this.finishNode(a,"TemplateElement");return this.resetEndLocation(p,$t(this.state.lastTokEndLoc,u)),p}parseTemplate(r){let t=this.startNode(),n=this.parseTemplateElement(r),i=[n],s=[];for(;!n.tail;)s.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),i.push(n=this.parseTemplateElement(r));return t.expressions=s,t.quasis=i,this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(r,t,n,i){n&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let o=Object.create(null),a=!0,l=this.startNode();for(l.properties=[],this.next();!this.match(r);){if(a)a=!1;else if(this.expect(12),this.match(r)){this.addTrailingCommaExtraToNode(l);break}let c;t?c=this.parseBindingProperty():(c=this.parsePropertyDefinition(i),this.checkProto(c,n,o,i)),n&&!this.isObjectProperty(c)&&c.type!=="SpreadElement"&&this.raise(w.InvalidRecordProperty,c),c.shorthand&&this.addExtra(c,"shorthand",!0),l.properties.push(c)}this.next(),this.state.inFSharpPipelineDirectBody=s;let u="ObjectExpression";return t?u="ObjectPattern":n&&(u="RecordExpression"),this.finishNode(l,u)}addTrailingCommaExtraToNode(r){this.addExtra(r,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(r,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(r){return!r.computed&&r.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(r){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(w.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());let n=this.startNode(),i=!1,s=!1,o;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(n.decorators=t,t=[]),n.method=!1,r&&(o=this.state.startLoc);let a=this.eat(55);this.parsePropertyNamePrefixOperator(n);let l=this.state.containsEsc;if(this.parsePropertyName(n,r),!a&&!l&&this.maybeAsyncOrAccessorProp(n)){let{key:u}=n,c=u.name;c==="async"&&!this.hasPrecedingLineBreak()&&(i=!0,this.resetPreviousNodeTrailingComments(u),a=this.eat(55),this.parsePropertyName(n)),(c==="get"||c==="set")&&(s=!0,this.resetPreviousNodeTrailingComments(u),n.kind=c,this.match(55)&&(a=!0,this.raise(w.AccessorIsGenerator,this.state.curPosition(),{kind:c}),this.next()),this.parsePropertyName(n))}return this.parseObjPropValue(n,o,a,i,!1,s,r)}getGetterSetterExpectedParamCount(r){return r.kind==="get"?0:1}getObjectOrClassMethodParams(r){return r.params}checkGetterSetterParams(r){var t;let n=this.getGetterSetterExpectedParamCount(r),i=this.getObjectOrClassMethodParams(r);i.length!==n&&this.raise(r.kind==="get"?w.BadGetterArity:w.BadSetterArity,r),r.kind==="set"&&((t=i[i.length-1])==null?void 0:t.type)==="RestElement"&&this.raise(w.BadSetterRestParameter,r)}parseObjectMethod(r,t,n,i,s){if(s){let o=this.parseMethod(r,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(o),o}if(n||t||this.match(10))return i&&this.unexpected(),r.kind="method",r.method=!0,this.parseMethod(r,t,n,!1,!1,"ObjectMethod")}parseObjectProperty(r,t,n,i){if(r.shorthand=!1,this.eat(14))return r.value=n?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(i),this.finishNode(r,"ObjectProperty");if(!r.computed&&r.key.type==="Identifier"){if(this.checkReservedWord(r.key.name,r.key.loc.start,!0,!1),n)r.value=this.parseMaybeDefault(t,hn(r.key));else if(this.match(29)){let s=this.state.startLoc;i!=null?i.shorthandAssignLoc===null&&(i.shorthandAssignLoc=s):this.raise(w.InvalidCoverInitializedName,s),r.value=this.parseMaybeDefault(t,hn(r.key))}else r.value=hn(r.key);return r.shorthand=!0,this.finishNode(r,"ObjectProperty")}}parseObjPropValue(r,t,n,i,s,o,a){let l=this.parseObjectMethod(r,n,i,s,o)||this.parseObjectProperty(r,t,s,a);return l||this.unexpected(),l}parsePropertyName(r,t){if(this.eat(0))r.computed=!0,r.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{let{type:n,value:i}=this.state,s;if(Cr(n))s=this.parseIdentifier(!0);else switch(n){case 134:s=this.parseNumericLiteral(i);break;case 133:s=this.parseStringLiteral(i);break;case 135:s=this.parseBigIntLiteral(i);break;case 136:s=this.parseDecimalLiteral(i);break;case 138:{let o=this.state.startLoc;t!=null?t.privateKeyLoc===null&&(t.privateKeyLoc=o):this.raise(w.UnexpectedPrivateField,o),s=this.parsePrivateName();break}default:this.unexpected()}r.key=s,n!==138&&(r.computed=!1)}}initFunction(r,t){r.id=null,r.generator=!1,r.async=t}parseMethod(r,t,n,i,s,o,a=!1){this.initFunction(r,n),r.generator=t,this.scope.enter(18|(a?64:0)|(s?32:0)),this.prodParam.enter(Ba(n,r.generator)),this.parseFunctionParams(r,i);let l=this.parseFunctionBodyAndFinish(r,o,!0);return this.prodParam.exit(),this.scope.exit(),l}parseArrayLike(r,t,n,i){n&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let o=this.startNode();return this.next(),o.elements=this.parseExprList(r,!n,i,o),this.state.inFSharpPipelineDirectBody=s,this.finishNode(o,n?"TupleExpression":"ArrayExpression")}parseArrowExpression(r,t,n,i){this.scope.enter(6);let s=Ba(n,!1);!this.match(5)&&this.prodParam.hasIn&&(s|=8),this.prodParam.enter(s),this.initFunction(r,n);let o=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(r,t,i)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(r,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=o,this.finishNode(r,"ArrowFunctionExpression")}setArrowFunctionParameters(r,t,n){this.toAssignableList(t,n,!1),r.params=t}parseFunctionBodyAndFinish(r,t,n=!1){return this.parseFunctionBody(r,!1,n),this.finishNode(r,t)}parseFunctionBody(r,t,n=!1){let i=t&&!this.match(5);if(this.expressionScope.enter(rb()),i)r.body=this.parseMaybeAssign(),this.checkParams(r,!1,t,!1);else{let s=this.state.strict,o=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|4),r.body=this.parseBlock(!0,!1,a=>{let l=!this.isSimpleParamList(r.params);a&&l&&this.raise(w.IllegalLanguageModeDirective,(r.kind==="method"||r.kind==="constructor")&&r.key?r.key.loc.end:r);let u=!s&&this.state.strict;this.checkParams(r,!this.state.strict&&!t&&!n&&!l,t,u),this.state.strict&&r.id&&this.checkIdentifier(r.id,65,u)}),this.prodParam.exit(),this.state.labels=o}this.expressionScope.exit()}isSimpleParameter(r){return r.type==="Identifier"}isSimpleParamList(r){for(let t=0,n=r.length;t<n;t++)if(!this.isSimpleParameter(r[t]))return!1;return!0}checkParams(r,t,n,i=!0){let s=!t&&new Set,o={type:"FormalParameters"};for(let a of r.params)this.checkLVal(a,o,5,s,i)}parseExprList(r,t,n,i){let s=[],o=!0;for(;!this.eat(r);){if(o)o=!1;else if(this.expect(12),this.match(r)){i&&this.addTrailingCommaExtraToNode(i),this.next();break}s.push(this.parseExprListItem(t,n))}return s}parseExprListItem(r,t,n){let i;if(this.match(12))r||this.raise(w.UnexpectedToken,this.state.curPosition(),{unexpected:","}),i=null;else if(this.match(21)){let s=this.state.startLoc;i=this.parseParenItem(this.parseSpread(t),s)}else if(this.match(17)){this.expectPlugin("partialApplication"),n||this.raise(w.UnexpectedArgumentPlaceholder,this.state.startLoc);let s=this.startNode();this.next(),i=this.finishNode(s,"ArgumentPlaceholder")}else i=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return i}parseIdentifier(r){let t=this.startNode(),n=this.parseIdentifierName(r);return this.createIdentifier(t,n)}createIdentifier(r,t){return r.name=t,r.loc.identifierName=t,this.finishNode(r,"Identifier")}parseIdentifierName(r){let t,{startLoc:n,type:i}=this.state;Cr(i)?t=this.state.value:this.unexpected();let s=jv(i);return r?s&&this.replaceToken(132):this.checkReservedWord(t,n,s,!1),this.next(),t}checkReservedWord(r,t,n,i){if(r.length>10||!oT(r))return;if(n&&nT(r)){this.raise(w.UnexpectedKeyword,t,{keyword:r});return}if((this.state.strict?i?Qy:Yy:Jy)(r,this.inModule)){this.raise(w.UnexpectedReservedWord,t,{reservedWord:r});return}else if(r==="yield"){if(this.prodParam.hasYield){this.raise(w.YieldBindingIdentifier,t);return}}else if(r==="await"){if(this.prodParam.hasAwait){this.raise(w.AwaitBindingIdentifier,t);return}if(this.scope.inStaticBlock){this.raise(w.AwaitBindingIdentifierInStaticBlock,t);return}this.expressionScope.recordAsyncArrowParametersError(t)}else if(r==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(w.ArgumentsInClass,t);return}}recordAwaitIfAllowed(){let r=this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction;return r&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),r}parseAwait(r){let t=this.startNodeAt(r);return this.expressionScope.recordParameterInitializerError(w.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(w.ObsoleteAwaitStar,t),!this.scope.inFunction&&!this.options.allowAwaitOutsideFunction&&(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;let{type:r}=this.state;return r===53||r===10||r===0||$a(r)||r===102&&!this.state.containsEsc||r===137||r===56||this.hasPlugin("v8intrinsic")&&r===54}parseYield(){let r=this.startNode();this.expressionScope.recordParameterInitializerError(w.YieldInParameter,r),this.next();let t=!1,n=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(55),this.state.type){case 13:case 139:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:n=this.parseMaybeAssign()}return r.delegate=t,r.argument=n,this.finishNode(r,"YieldExpression")}parseImportCall(r){return this.next(),r.source=this.parseMaybeAssignAllowIn(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(r.options=null),this.eat(12)&&(this.expectImportAttributesPlugin(),this.match(11)||(r.options=this.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.finishNode(r,"ImportExpression")}checkPipelineAtInfixOperator(r,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&r.type==="SequenceExpression"&&this.raise(w.PipelineHeadSequenceExpression,t)}parseSmartPipelineBodyInStyle(r,t){if(this.isSimpleReference(r)){let n=this.startNodeAt(t);return n.callee=r,this.finishNode(n,"PipelineBareFunction")}else{let n=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),n.expression=r,this.finishNode(n,"PipelineTopicExpression")}}isSimpleReference(r){switch(r.type){case"MemberExpression":return!r.computed&&this.isSimpleReference(r.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(r){if(this.match(19))throw this.raise(w.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(w.PipelineTopicUnused,r)}withTopicBindingContext(r){let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return r()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(r){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return r()}finally{this.state.topicContext=t}}else return r()}withSoloAwaitPermittingContext(r){let t=this.state.soloAwait;this.state.soloAwait=!0;try{return r()}finally{this.state.soloAwait=t}}allowInAnd(r){let t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(t|8);try{return r()}finally{this.prodParam.exit()}}return r()}disallowInAnd(r){let t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(t&-9);try{return r()}finally{this.prodParam.exit()}}return r()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(r){let t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;let n=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;let i=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,r);return this.state.inFSharpPipelineDirectBody=n,i}parseModuleExpression(){this.expectPlugin("moduleBlocks");let r=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);let t=this.startNodeAt(this.state.endLoc);this.next();let n=this.initializeScopes(!0);this.enterInitialScopes();try{r.body=this.parseProgram(t,8,"module")}finally{n()}return this.finishNode(r,"ModuleExpression")}parsePropertyNamePrefixOperator(r){}},Nc={kind:1},$T={kind:2},UT=/[\uD800-\uDFFF]/u,Fc=/in(?:stanceof)?/y;function jT(e,r){for(let t=0;t<e.length;t++){let n=e[t],{type:i}=n;if(typeof i=="number"){{if(i===138){let{loc:s,start:o,value:a,end:l}=n,u=o+1,c=$t(s.start,1);e.splice(t,1,new Kr({type:pn(27),value:"#",start:o,end:u,startLoc:s.start,endLoc:c}),new Kr({type:pn(132),value:a,start:u,end:l,startLoc:c,endLoc:s.end})),t++;continue}if($a(i)){let{loc:s,start:o,value:a,end:l}=n,u=o+1,c=$t(s.start,1),p;r.charCodeAt(o)===96?p=new Kr({type:pn(22),value:"`",start:o,end:u,startLoc:s.start,endLoc:c}):p=new Kr({type:pn(8),value:"}",start:o,end:u,startLoc:s.start,endLoc:c});let d,m,f,h;i===24?(m=l-1,f=$t(s.end,-1),d=a===null?null:a.slice(1,-1),h=new Kr({type:pn(22),value:"`",start:m,end:l,startLoc:f,endLoc:s.end})):(m=l-2,f=$t(s.end,-2),d=a===null?null:a.slice(1,-2),h=new Kr({type:pn(23),value:"${",start:m,end:l,startLoc:f,endLoc:s.end})),e.splice(t,1,p,new Kr({type:pn(20),value:d,start:u,end:m,startLoc:c,endLoc:f}),h),t+=2;continue}}n.type=pn(i)}}return e}var Xc=class extends Yc{parseTopLevel(r,t){return r.program=this.parseProgram(t),r.comments=this.comments,this.options.tokens&&(r.tokens=jT(this.tokens,this.input)),this.finishNode(r,"File")}parseProgram(r,t=139,n=this.options.sourceType){if(r.sourceType=n,r.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(r,!0,!0,t),this.inModule){if(!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(let[s,o]of Array.from(this.scope.undefinedExports))this.raise(w.ModuleExportUndefined,o,{localName:s});this.addExtra(r,"topLevelAwait",this.state.hasTopLevelAwait)}let i;return t===139?i=this.finishNode(r,"Program"):i=this.finishNodeAt(r,"Program",$t(this.state.startLoc,-1)),i}stmtToDirective(r){let t=r;t.type="Directive",t.value=t.expression,delete t.expression;let n=t.value,i=n.value,s=this.input.slice(n.start,n.end),o=n.value=s.slice(1,-1);return this.addExtra(n,"raw",s),this.addExtra(n,"rawValue",o),this.addExtra(n,"expressionValue",i),n.type="DirectiveLiteral",t}parseInterpreterDirective(){if(!this.match(28))return null;let r=this.startNode();return r.value=this.state.value,this.next(),this.finishNode(r,"InterpreterDirective")}isLet(){return this.isContextual(100)?this.hasFollowingBindingAtom():!1}chStartsBindingIdentifier(r,t){if(fn(r)){if(Fc.lastIndex=t,Fc.test(this.input)){let n=this.codePointAtPos(Fc.lastIndex);if(!qi(n)&&n!==92)return!1}return!0}else return r===92}chStartsBindingPattern(r){return r===91||r===123}hasFollowingBindingAtom(){let r=this.nextTokenStart(),t=this.codePointAtPos(r);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,r)}hasInLineFollowingBindingIdentifierOrBrace(){let r=this.nextTokenInLineStart(),t=this.codePointAtPos(r);return t===123||this.chStartsBindingIdentifier(t,r)}startsUsingForOf(){let{type:r,containsEsc:t}=this.lookahead();if(r===102&&!t)return!1;if(we(r)&&!this.hasFollowingLineBreak())return this.expectPlugin("explicitResourceManagement"),!0}startsAwaitUsing(){let r=this.nextTokenInLineStart();if(this.isUnparsedContextual(r,"using")){r=this.nextTokenInLineStartSince(r+5);let t=this.codePointAtPos(r);if(this.chStartsBindingIdentifier(t,r))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(r=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,r&&(t|=8)),this.parseStatementLike(t)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(r){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(r,t)}parseStatementContent(r,t){let n=this.state.type,i=this.startNode(),s=!!(r&2),o=!!(r&4),a=r&1;switch(n){case 60:return this.parseBreakContinueStatement(i,!0);case 63:return this.parseBreakContinueStatement(i,!1);case 64:return this.parseDebuggerStatement(i);case 90:return this.parseDoWhileStatement(i);case 91:return this.parseForStatement(i);case 68:if(this.lookaheadCharCode()===46)break;return o||this.raise(this.state.strict?w.StrictFunction:this.options.annexB?w.SloppyFunctionAnnexB:w.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(i,!1,!s&&o);case 80:return s||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,i),!0);case 69:return this.parseIfStatement(i);case 70:return this.parseReturnStatement(i);case 71:return this.parseSwitchStatement(i);case 72:return this.parseThrowStatement(i);case 73:return this.parseTryStatement(i);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.recordAwaitIfAllowed()?s||this.raise(w.UnexpectedLexicalDeclaration,i):this.raise(w.AwaitUsingNotInAsyncContext,i),this.next(),this.parseVarStatement(i,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(w.UnexpectedUsingDeclaration,this.state.startLoc):s||this.raise(w.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(i,"using");case 100:{if(this.state.containsEsc)break;let c=this.nextTokenStart(),p=this.codePointAtPos(c);if(p!==91&&(!s&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(p,c)&&p!==123))break}case 75:s||this.raise(w.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{let c=this.state.value;return this.parseVarStatement(i,c)}case 92:return this.parseWhileStatement(i);case 76:return this.parseWithStatement(i);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(i);case 83:{let c=this.lookaheadCharCode();if(c===40||c===46)break}case 82:{!this.options.allowImportExportEverywhere&&!a&&this.raise(w.UnexpectedImportExport,this.state.startLoc),this.next();let c;return n===83?(c=this.parseImport(i),c.type==="ImportDeclaration"&&(!c.importKind||c.importKind==="value")&&(this.sawUnambiguousESM=!0)):(c=this.parseExport(i,t),(c.type==="ExportNamedDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportAllDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportDefaultDeclaration")&&(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(c),c}default:if(this.isAsyncFunction())return s||this.raise(w.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(i,!0,!s&&o)}let l=this.state.value,u=this.parseExpression();return we(n)&&u.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(i,l,u,r):this.parseExpressionStatement(i,u,t)}assertModuleNodeAllowed(r){!this.options.allowImportExportEverywhere&&!this.inModule&&this.raise(w.ImportOutsideModule,r)}decoratorsEnabledBeforeExport(){return this.hasPlugin("decorators-legacy")?!0:this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(r,t,n){return r&&(t.decorators&&t.decorators.length>0?(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!="boolean"&&this.raise(w.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...r)):t.decorators=r,this.resetStartLocationFromNode(t,r[0]),n&&this.resetStartLocationFromNode(n,t)),t}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(r){let t=[];do t.push(this.parseDecorator());while(this.match(26));if(this.match(82))r||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(w.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(w.UnexpectedLeadingDecorator,this.state.startLoc);return t}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);let r=this.startNode();if(this.next(),this.hasPlugin("decorators")){let t=this.state.startLoc,n;if(this.match(10)){let i=this.state.startLoc;this.next(),n=this.parseExpression(),this.expect(11),n=this.wrapParenthesis(i,n);let s=this.state.startLoc;r.expression=this.parseMaybeDecoratorArguments(n),this.getPluginOption("decorators","allowCallParenthesized")===!1&&r.expression!==n&&this.raise(w.DecoratorArgumentsOutsideParentheses,s)}else{for(n=this.parseIdentifier(!1);this.eat(16);){let i=this.startNodeAt(t);i.object=n,this.match(138)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),i.property=this.parsePrivateName()):i.property=this.parseIdentifier(!0),i.computed=!1,n=this.finishNode(i,"MemberExpression")}r.expression=this.parseMaybeDecoratorArguments(n)}}else r.expression=this.parseExprSubscripts();return this.finishNode(r,"Decorator")}parseMaybeDecoratorArguments(r){if(this.eat(10)){let t=this.startNodeAtNode(r);return t.callee=r,t.arguments=this.parseCallExpressionArguments(11,!1),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return r}parseBreakContinueStatement(r,t){return this.next(),this.isLineTerminator()?r.label=null:(r.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(r,t),this.finishNode(r,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(r,t){let n;for(n=0;n<this.state.labels.length;++n){let i=this.state.labels[n];if((r.label==null||i.name===r.label.name)&&(i.kind!=null&&(t||i.kind===1)||r.label&&t))break}if(n===this.state.labels.length){let i=t?"BreakStatement":"ContinueStatement";this.raise(w.IllegalBreakContinue,r,{type:i})}}parseDebuggerStatement(r){return this.next(),this.semicolon(),this.finishNode(r,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);let r=this.parseExpression();return this.expect(11),r}parseDoWhileStatement(r){return this.next(),this.state.labels.push(Nc),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),r.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(r,"DoWhileStatement")}parseForStatement(r){this.next(),this.state.labels.push(Nc);let t=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(t=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return t!==null&&this.unexpected(t),this.parseFor(r,null);let n=this.isContextual(100);{let l=this.isContextual(96)&&this.startsAwaitUsing(),u=l||this.isContextual(107)&&this.startsUsingForOf(),c=n&&this.hasFollowingBindingAtom()||u;if(this.match(74)||this.match(75)||c){let p=this.startNode(),d;l?(d="await using",this.recordAwaitIfAllowed()||this.raise(w.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):d=this.state.value,this.next(),this.parseVar(p,!0,d);let m=this.finishNode(p,"VariableDeclaration"),f=this.match(58);return f&&u&&this.raise(w.ForInUsing,m),(f||this.isContextual(102))&&m.declarations.length===1?this.parseForIn(r,m,t):(t!==null&&this.unexpected(t),this.parseFor(r,m))}}let i=this.isContextual(95),s=new Gi,o=this.parseExpression(!0,s),a=this.isContextual(102);if(a&&(n&&this.raise(w.ForOfLet,o),t===null&&i&&o.type==="Identifier"&&this.raise(w.ForOfAsync,o)),a||this.match(58)){this.checkDestructuringPrivate(s),this.toAssignable(o,!0);let l=a?"ForOfStatement":"ForInStatement";return this.checkLVal(o,{type:l}),this.parseForIn(r,o,t)}else this.checkExpressionErrors(s,!0);return t!==null&&this.unexpected(t),this.parseFor(r,o)}parseFunctionStatement(r,t,n){return this.next(),this.parseFunction(r,1|(n?2:0)|(t?8:0))}parseIfStatement(r){return this.next(),r.test=this.parseHeaderExpression(),r.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),r.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(r,"IfStatement")}parseReturnStatement(r){return!this.prodParam.hasReturn&&!this.options.allowReturnOutsideFunction&&this.raise(w.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?r.argument=null:(r.argument=this.parseExpression(),this.semicolon()),this.finishNode(r,"ReturnStatement")}parseSwitchStatement(r){this.next(),r.discriminant=this.parseHeaderExpression();let t=r.cases=[];this.expect(5),this.state.labels.push($T),this.scope.enter(0);let n;for(let i;!this.match(8);)if(this.match(61)||this.match(65)){let s=this.match(61);n&&this.finishNode(n,"SwitchCase"),t.push(n=this.startNode()),n.consequent=[],this.next(),s?n.test=this.parseExpression():(i&&this.raise(w.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),i=!0,n.test=null),this.expect(14)}else n?n.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),n&&this.finishNode(n,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(r,"SwitchStatement")}parseThrowStatement(r){return this.next(),this.hasPrecedingLineBreak()&&this.raise(w.NewlineAfterThrow,this.state.lastTokEndLoc),r.argument=this.parseExpression(),this.semicolon(),this.finishNode(r,"ThrowStatement")}parseCatchClauseParam(){let r=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&r.type==="Identifier"?8:0),this.checkLVal(r,{type:"CatchClause"},9),r}parseTryStatement(r){if(this.next(),r.block=this.parseBlock(),r.handler=null,this.match(62)){let t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),r.handler=this.finishNode(t,"CatchClause")}return r.finalizer=this.eat(67)?this.parseBlock():null,!r.handler&&!r.finalizer&&this.raise(w.NoCatchOrFinally,r),this.finishNode(r,"TryStatement")}parseVarStatement(r,t,n=!1){return this.next(),this.parseVar(r,!1,t,n),this.semicolon(),this.finishNode(r,"VariableDeclaration")}parseWhileStatement(r){return this.next(),r.test=this.parseHeaderExpression(),this.state.labels.push(Nc),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(r,"WhileStatement")}parseWithStatement(r){return this.state.strict&&this.raise(w.StrictWith,this.state.startLoc),this.next(),r.object=this.parseHeaderExpression(),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(r,"WithStatement")}parseEmptyStatement(r){return this.next(),this.finishNode(r,"EmptyStatement")}parseLabeledStatement(r,t,n,i){for(let o of this.state.labels)o.name===t&&this.raise(w.LabelRedeclaration,n,{labelName:t});let s=zv(this.state.type)?1:this.match(71)?2:null;for(let o=this.state.labels.length-1;o>=0;o--){let a=this.state.labels[o];if(a.statementStart===r.start)a.statementStart=this.state.start,a.kind=s;else break}return this.state.labels.push({name:t,kind:s,statementStart:this.state.start}),r.body=i&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),r.label=n,this.finishNode(r,"LabeledStatement")}parseExpressionStatement(r,t,n){return r.expression=t,this.semicolon(),this.finishNode(r,"ExpressionStatement")}parseBlock(r=!1,t=!0,n){let i=this.startNode();return r&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(i,r,!1,8,n),t&&this.scope.exit(),this.finishNode(i,"BlockStatement")}isValidDirective(r){return r.type==="ExpressionStatement"&&r.expression.type==="StringLiteral"&&!r.expression.extra.parenthesized}parseBlockBody(r,t,n,i,s){let o=r.body=[],a=r.directives=[];this.parseBlockOrModuleBlockBody(o,t?a:void 0,n,i,s)}parseBlockOrModuleBlockBody(r,t,n,i,s){let o=this.state.strict,a=!1,l=!1;for(;!this.match(i);){let u=n?this.parseModuleItem():this.parseStatementListItem();if(t&&!l){if(this.isValidDirective(u)){let c=this.stmtToDirective(u);t.push(c),!a&&c.value.value==="use strict"&&(a=!0,this.setStrict(!0));continue}l=!0,this.state.strictErrors.clear()}r.push(u)}s?.call(this,a),o||this.setStrict(!1),this.next()}parseFor(r,t){return r.init=t,this.semicolon(!1),r.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),r.update=this.match(11)?null:this.parseExpression(),this.expect(11),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(r,"ForStatement")}parseForIn(r,t,n){let i=this.match(58);return this.next(),i?n!==null&&this.unexpected(n):r.await=n!==null,t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!i||!this.options.annexB||this.state.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(w.ForInOfLoopInitializer,t,{type:i?"ForInStatement":"ForOfStatement"}),t.type==="AssignmentPattern"&&this.raise(w.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),r.left=t,r.right=i?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(r,i?"ForInStatement":"ForOfStatement")}parseVar(r,t,n,i=!1){let s=r.declarations=[];for(r.kind=n;;){let o=this.startNode();if(this.parseVarId(o,n),o.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,o.init===null&&!i&&(o.id.type!=="Identifier"&&!(t&&(this.match(58)||this.isContextual(102)))?this.raise(w.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"}):(n==="const"||n==="using"||n==="await using")&&!(this.match(58)||this.isContextual(102))&&this.raise(w.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:n})),s.push(this.finishNode(o,"VariableDeclarator")),!this.eat(12))break}return r}parseVarId(r,t){let n=this.parseBindingAtom();(t==="using"||t==="await using")&&(n.type==="ArrayPattern"||n.type==="ObjectPattern")&&this.raise(w.UsingDeclarationHasBindingPattern,n.loc.start),this.checkLVal(n,{type:"VariableDeclarator"},t==="var"?5:8201),r.id=n}parseAsyncFunctionExpression(r){return this.parseFunction(r,8)}parseFunction(r,t=0){let n=t&2,i=!!(t&1),s=i&&!(t&4),o=!!(t&8);this.initFunction(r,o),this.match(55)&&(n&&this.raise(w.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),r.generator=!0),i&&(r.id=this.parseFunctionId(s));let a=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(Ba(o,r.generator)),i||(r.id=this.parseFunctionId()),this.parseFunctionParams(r,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(r,i?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),i&&!n&&this.registerFunctionStatementId(r),this.state.maybeInArrowParameters=a,r}parseFunctionId(r){return r||we(this.state.type)?this.parseIdentifier():null}parseFunctionParams(r,t){this.expect(10),this.expressionScope.enter(mT()),r.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit()}registerFunctionStatementId(r){r.id&&this.scope.declareName(r.id.name,!this.options.annexB||this.state.strict||r.generator||r.async?this.scope.treatFunctionsAsVar?5:8201:17,r.id.loc.start)}parseClass(r,t,n){this.next();let i=this.state.strict;return this.state.strict=!0,this.parseClassId(r,t,n),this.parseClassSuper(r),r.body=this.parseClassBody(!!r.superClass,i),this.finishNode(r,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(r){return r.type==="Identifier"&&r.name==="constructor"||r.type==="StringLiteral"&&r.value==="constructor"}isNonstaticConstructor(r){return!r.computed&&!r.static&&this.nameIsConstructor(r.key)}parseClassBody(r,t){this.classScope.enter();let n={hadConstructor:!1,hadSuperClass:r},i=[],s=this.startNode();if(s.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(i.length>0)throw this.raise(w.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){i.push(this.parseDecorator());continue}let o=this.startNode();i.length&&(o.decorators=i,this.resetStartLocationFromNode(o,i[0]),i=[]),this.parseClassMember(s,o,n),o.kind==="constructor"&&o.decorators&&o.decorators.length>0&&this.raise(w.DecoratorConstructor,o)}}),this.state.strict=t,this.next(),i.length)throw this.raise(w.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(s,"ClassBody")}parseClassMemberFromModifier(r,t){let n=this.parseIdentifier(!0);if(this.isClassMethod()){let i=t;return i.kind="method",i.computed=!1,i.key=n,i.static=!1,this.pushClassMethod(r,i,!1,!1,!1,!1),!0}else if(this.isClassProperty()){let i=t;return i.computed=!1,i.key=n,i.static=!1,r.body.push(this.parseClassProperty(i)),!0}return this.resetPreviousNodeTrailingComments(n),!1}parseClassMember(r,t,n){let i=this.isContextual(106);if(i){if(this.parseClassMemberFromModifier(r,t))return;if(this.eat(5)){this.parseClassStaticBlock(r,t);return}}this.parseClassMemberWithIsStatic(r,t,n,i)}parseClassMemberWithIsStatic(r,t,n,i){let s=t,o=t,a=t,l=t,u=t,c=s,p=s;if(t.static=i,this.parsePropertyNamePrefixOperator(t),this.eat(55)){c.kind="method";let y=this.match(138);if(this.parseClassElementName(c),y){this.pushClassPrivateMethod(r,o,!0,!1);return}this.isNonstaticConstructor(s)&&this.raise(w.ConstructorIsGenerator,s.key),this.pushClassMethod(r,s,!0,!1,!1,!1);return}let d=!this.state.containsEsc&&we(this.state.type),m=this.parseClassElementName(t),f=d?m.name:null,h=this.isPrivateName(m),g=this.state.startLoc;if(this.parsePostMemberNameModifiers(p),this.isClassMethod()){if(c.kind="method",h){this.pushClassPrivateMethod(r,o,!1,!1);return}let y=this.isNonstaticConstructor(s),x=!1;y&&(s.kind="constructor",n.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(w.DuplicateConstructor,m),y&&this.hasPlugin("typescript")&&t.override&&this.raise(w.OverrideOnConstructor,m),n.hadConstructor=!0,x=n.hadSuperClass),this.pushClassMethod(r,s,!1,!1,y,x)}else if(this.isClassProperty())h?this.pushClassPrivateProperty(r,l):this.pushClassProperty(r,a);else if(f==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(m);let y=this.eat(55);p.optional&&this.unexpected(g),c.kind="method";let x=this.match(138);this.parseClassElementName(c),this.parsePostMemberNameModifiers(p),x?this.pushClassPrivateMethod(r,o,y,!0):(this.isNonstaticConstructor(s)&&this.raise(w.ConstructorIsAsync,s.key),this.pushClassMethod(r,s,y,!0,!1,!1))}else if((f==="get"||f==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(m),c.kind=f;let y=this.match(138);this.parseClassElementName(s),y?this.pushClassPrivateMethod(r,o,!1,!1):(this.isNonstaticConstructor(s)&&this.raise(w.ConstructorIsAccessor,s.key),this.pushClassMethod(r,s,!1,!1,!1,!1)),this.checkGetterSetterParams(s)}else if(f==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(m);let y=this.match(138);this.parseClassElementName(a),this.pushClassAccessorProperty(r,u,y)}else this.isLineTerminator()?h?this.pushClassPrivateProperty(r,l):this.pushClassProperty(r,a):this.unexpected()}parseClassElementName(r){let{type:t,value:n}=this.state;if((t===132||t===133)&&r.static&&n==="prototype"&&this.raise(w.StaticPrototype,this.state.startLoc),t===138){n==="constructor"&&this.raise(w.ConstructorClassPrivateField,this.state.startLoc);let i=this.parsePrivateName();return r.key=i,i}return this.parsePropertyName(r),r.key}parseClassStaticBlock(r,t){var n;this.scope.enter(208);let i=this.state.labels;this.state.labels=[],this.prodParam.enter(0);let s=t.body=[];this.parseBlockOrModuleBlockBody(s,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=i,r.body.push(this.finishNode(t,"StaticBlock")),(n=t.decorators)!=null&&n.length&&this.raise(w.DecoratorStaticBlock,t)}pushClassProperty(r,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(w.ConstructorClassField,t.key),r.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(r,t){let n=this.parseClassPrivateProperty(t);r.body.push(n),this.classScope.declarePrivateName(this.getPrivateNameSV(n.key),0,n.key.loc.start)}pushClassAccessorProperty(r,t,n){!n&&!t.computed&&this.nameIsConstructor(t.key)&&this.raise(w.ConstructorClassField,t.key);let i=this.parseClassAccessorProperty(t);r.body.push(i),n&&this.classScope.declarePrivateName(this.getPrivateNameSV(i.key),0,i.key.loc.start)}pushClassMethod(r,t,n,i,s,o){r.body.push(this.parseMethod(t,n,i,s,o,"ClassMethod",!0))}pushClassPrivateMethod(r,t,n,i){let s=this.parseMethod(t,n,i,!1,!1,"ClassPrivateMethod",!0);r.body.push(s);let o=s.kind==="get"?s.static?6:2:s.kind==="set"?s.static?5:1:0;this.declareClassPrivateMethodInScope(s,o)}declareClassPrivateMethodInScope(r,t){this.classScope.declarePrivateName(this.getPrivateNameSV(r.key),t,r.key.loc.start)}parsePostMemberNameModifiers(r){}parseClassPrivateProperty(r){return this.parseInitializer(r),this.semicolon(),this.finishNode(r,"ClassPrivateProperty")}parseClassProperty(r){return this.parseInitializer(r),this.semicolon(),this.finishNode(r,"ClassProperty")}parseClassAccessorProperty(r){return this.parseInitializer(r),this.semicolon(),this.finishNode(r,"ClassAccessorProperty")}parseInitializer(r){this.scope.enter(80),this.expressionScope.enter(rb()),this.prodParam.enter(0),r.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(r,t,n,i=8331){if(we(this.state.type))r.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(r.id,i);else if(n||!t)r.id=null;else throw this.raise(w.MissingClassName,this.state.startLoc)}parseClassSuper(r){r.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(r,t){let n=this.parseMaybeImportPhase(r,!0),i=this.maybeParseExportDefaultSpecifier(r,n),s=!i||this.eat(12),o=s&&this.eatExportStar(r),a=o&&this.maybeParseExportNamespaceSpecifier(r),l=s&&(!a||this.eat(12)),u=i||o;if(o&&!a){if(i&&this.unexpected(),t)throw this.raise(w.UnsupportedDecoratorExport,r);return this.parseExportFrom(r,!0),this.finishNode(r,"ExportAllDeclaration")}let c=this.maybeParseExportNamedSpecifiers(r);i&&s&&!o&&!c&&this.unexpected(null,5),a&&l&&this.unexpected(null,98);let p;if(u||c){if(p=!1,t)throw this.raise(w.UnsupportedDecoratorExport,r);this.parseExportFrom(r,u)}else p=this.maybeParseExportDeclaration(r);if(u||c||p){var d;let m=r;if(this.checkExport(m,!0,!1,!!m.source),((d=m.declaration)==null?void 0:d.type)==="ClassDeclaration")this.maybeTakeDecorators(t,m.declaration,m);else if(t)throw this.raise(w.UnsupportedDecoratorExport,r);return this.finishNode(m,"ExportNamedDeclaration")}if(this.eat(65)){let m=r,f=this.parseExportDefaultExpression();if(m.declaration=f,f.type==="ClassDeclaration")this.maybeTakeDecorators(t,f,m);else if(t)throw this.raise(w.UnsupportedDecoratorExport,r);return this.checkExport(m,!0,!0),this.finishNode(m,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(r){return this.eat(55)}maybeParseExportDefaultSpecifier(r,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",t?.loc.start);let n=t||this.parseIdentifier(!0),i=this.startNodeAtNode(n);return i.exported=n,r.specifiers=[this.finishNode(i,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(r){if(this.isContextual(93)){var t,n;(n=(t=r).specifiers)!=null||(t.specifiers=[]);let i=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),i.exported=this.parseModuleExportName(),r.specifiers.push(this.finishNode(i,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(r){if(this.match(5)){let t=r;t.specifiers||(t.specifiers=[]);let n=t.exportKind==="type";return t.specifiers.push(...this.parseExportSpecifiers(n)),t.source=null,t.declaration=null,this.hasPlugin("importAssertions")&&(t.assertions=[]),!0}return!1}maybeParseExportDeclaration(r){return this.shouldParseExportDeclaration()?(r.specifiers=[],r.source=null,this.hasPlugin("importAssertions")&&(r.assertions=[]),r.declaration=this.parseExportDeclaration(r),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;let r=this.nextTokenInLineStart();return this.isUnparsedContextual(r,"function")}parseExportDefaultExpression(){let r=this.startNode();if(this.match(68))return this.next(),this.parseFunction(r,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(r,13);if(this.match(80))return this.parseClass(r,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(w.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(w.UnsupportedDefaultExport,this.state.startLoc);let t=this.parseMaybeAssignAllowIn();return this.semicolon(),t}parseExportDeclaration(r){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){let{type:r}=this.state;if(we(r)){if(r===95&&!this.state.containsEsc||r===100)return!1;if((r===130||r===129)&&!this.state.containsEsc){let{type:i}=this.lookahead();if(we(i)&&i!==98||i===5)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;let t=this.nextTokenStart(),n=this.isUnparsedContextual(t,"from");if(this.input.charCodeAt(t)===44||we(this.state.type)&&n)return!0;if(this.match(65)&&n){let i=this.input.charCodeAt(this.nextTokenStartSince(t+4));return i===34||i===39}return!1}parseExportFrom(r,t){this.eatContextual(98)?(r.source=this.parseImportSource(),this.checkExport(r),this.maybeParseImportAttributes(r),this.checkJSONModuleImport(r)):t&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){let{type:r}=this.state;return r===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(w.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)?(this.raise(w.UsingDeclarationExport,this.state.startLoc),!0):this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(w.UsingDeclarationExport,this.state.startLoc),!0):r===74||r===75||r===68||r===80||this.isLet()||this.isAsyncFunction()}checkExport(r,t,n,i){if(t){var s;if(n){if(this.checkDuplicateExports(r,"default"),this.hasPlugin("exportDefaultFrom")){var o;let a=r.declaration;a.type==="Identifier"&&a.name==="from"&&a.end-a.start===4&&!((o=a.extra)!=null&&o.parenthesized)&&this.raise(w.ExportDefaultFromAsIdentifier,a)}}else if((s=r.specifiers)!=null&&s.length)for(let a of r.specifiers){let{exported:l}=a,u=l.type==="Identifier"?l.name:l.value;if(this.checkDuplicateExports(a,u),!i&&a.local){let{local:c}=a;c.type!=="Identifier"?this.raise(w.ExportBindingIsString,a,{localName:c.value,exportName:u}):(this.checkReservedWord(c.name,c.loc.start,!0,!1),this.scope.checkLocalExport(c))}}else if(r.declaration){let a=r.declaration;if(a.type==="FunctionDeclaration"||a.type==="ClassDeclaration"){let{id:l}=a;if(!l)throw new Error("Assertion failure");this.checkDuplicateExports(r,l.name)}else if(a.type==="VariableDeclaration")for(let l of a.declarations)this.checkDeclaration(l.id)}}}checkDeclaration(r){if(r.type==="Identifier")this.checkDuplicateExports(r,r.name);else if(r.type==="ObjectPattern")for(let t of r.properties)this.checkDeclaration(t);else if(r.type==="ArrayPattern")for(let t of r.elements)t&&this.checkDeclaration(t);else r.type==="ObjectProperty"?this.checkDeclaration(r.value):r.type==="RestElement"?this.checkDeclaration(r.argument):r.type==="AssignmentPattern"&&this.checkDeclaration(r.left)}checkDuplicateExports(r,t){this.exportedIdentifiers.has(t)&&(t==="default"?this.raise(w.DuplicateDefaultExport,r):this.raise(w.DuplicateExport,r,{exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(r){let t=[],n=!0;for(this.expect(5);!this.eat(8);){if(n)n=!1;else if(this.expect(12),this.eat(8))break;let i=this.isContextual(130),s=this.match(133),o=this.startNode();o.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(o,s,r,i))}return t}parseExportSpecifier(r,t,n,i){return this.eatContextual(93)?r.exported=this.parseModuleExportName():t?r.exported=bT(r.local):r.exported||(r.exported=hn(r.local)),this.finishNode(r,"ExportSpecifier")}parseModuleExportName(){if(this.match(133)){let r=this.parseStringLiteral(this.state.value),t=UT.exec(r.value);return t&&this.raise(w.ModuleExportNameHasLoneSurrogate,r,{surrogateCharCode:t[0].charCodeAt(0)}),r}return this.parseIdentifier(!0)}isJSONModuleImport(r){return r.assertions!=null?r.assertions.some(({key:t,value:n})=>n.value==="json"&&(t.type==="Identifier"?t.name==="type":t.value==="type")):!1}checkImportReflection(r){let{specifiers:t}=r,n=t.length===1?t[0].type:null;if(r.phase==="source")n!=="ImportDefaultSpecifier"&&this.raise(w.SourcePhaseImportRequiresDefault,t[0].loc.start);else if(r.phase==="defer")n!=="ImportNamespaceSpecifier"&&this.raise(w.DeferImportRequiresNamespace,t[0].loc.start);else if(r.module){var i;n!=="ImportDefaultSpecifier"&&this.raise(w.ImportReflectionNotBinding,t[0].loc.start),((i=r.assertions)==null?void 0:i.length)>0&&this.raise(w.ImportReflectionHasAssertion,t[0].loc.start)}}checkJSONModuleImport(r){if(this.isJSONModuleImport(r)&&r.type!=="ExportAllDeclaration"){let{specifiers:t}=r;if(t!=null){let n=t.find(i=>{let s;if(i.type==="ExportSpecifier"?s=i.local:i.type==="ImportSpecifier"&&(s=i.imported),s!==void 0)return s.type==="Identifier"?s.name!=="default":s.value!=="default"});n!==void 0&&this.raise(w.ImportJSONBindingNotDefault,n.loc.start)}}}isPotentialImportPhase(r){return r?!1:this.isContextual(105)||this.isContextual(97)||this.isContextual(127)}applyImportPhase(r,t,n,i){t||(n==="module"?(this.expectPlugin("importReflection",i),r.module=!0):this.hasPlugin("importReflection")&&(r.module=!1),n==="source"?(this.expectPlugin("sourcePhaseImports",i),r.phase="source"):n==="defer"?(this.expectPlugin("deferredImportEvaluation",i),r.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(r.phase=null))}parseMaybeImportPhase(r,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(r,t,null),null;let n=this.parseIdentifier(!0),{type:i}=this.state;return(Cr(i)?i!==98||this.lookaheadCharCode()===102:i!==12)?(this.resetPreviousIdentifierLeadingComments(n),this.applyImportPhase(r,t,n.name,n.loc.start),null):(this.applyImportPhase(r,t,null),n)}isPrecedingIdImportPhase(r){let{type:t}=this.state;return we(t)?t!==98||this.lookaheadCharCode()===102:t!==12}parseImport(r){return this.match(133)?this.parseImportSourceAndAttributes(r):this.parseImportSpecifiersAndAfter(r,this.parseMaybeImportPhase(r,!1))}parseImportSpecifiersAndAfter(r,t){r.specifiers=[];let i=!this.maybeParseDefaultImportSpecifier(r,t)||this.eat(12),s=i&&this.maybeParseStarImportSpecifier(r);return i&&!s&&this.parseNamedImportSpecifiers(r),this.expectContextual(98),this.parseImportSourceAndAttributes(r)}parseImportSourceAndAttributes(r){var t;return(t=r.specifiers)!=null||(r.specifiers=[]),r.source=this.parseImportSource(),this.maybeParseImportAttributes(r),this.checkImportReflection(r),this.checkJSONModuleImport(r),this.semicolon(),this.finishNode(r,"ImportDeclaration")}parseImportSource(){return this.match(133)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(r,t,n){t.local=this.parseIdentifier(),r.specifiers.push(this.finishImportSpecifier(t,n))}finishImportSpecifier(r,t,n=8201){return this.checkLVal(r.local,{type:t},n),this.finishNode(r,t)}parseImportAttributes(){this.expect(5);let r=[],t=new Set;do{if(this.match(8))break;let n=this.startNode(),i=this.state.value;if(t.has(i)&&this.raise(w.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:i}),t.add(i),this.match(133)?n.key=this.parseStringLiteral(i):n.key=this.parseIdentifier(!0),this.expect(14),!this.match(133))throw this.raise(w.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),r.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return this.expect(8),r}parseModuleAttributes(){let r=[],t=new Set;do{let n=this.startNode();if(n.key=this.parseIdentifier(!0),n.key.name!=="type"&&this.raise(w.ModuleAttributeDifferentFromType,n.key),t.has(n.key.name)&&this.raise(w.ModuleAttributesWithDuplicateKeys,n.key,{key:n.key.name}),t.add(n.key.name),this.expect(14),!this.match(133))throw this.raise(w.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),r.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return r}maybeParseImportAttributes(r){let t,n=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;this.next(),this.hasPlugin("moduleAttributes")?t=this.parseModuleAttributes():(this.expectImportAttributesPlugin(),t=this.parseImportAttributes()),n=!0}else if(this.isContextual(94)&&!this.hasPrecedingLineBreak())this.hasPlugin("importAttributes")?(this.getPluginOption("importAttributes","deprecatedAssertSyntax")!==!0&&this.raise(w.ImportAttributesUseAssert,this.state.startLoc),this.addExtra(r,"deprecatedAssertSyntax",!0)):this.expectOnePlugin(["importAttributes","importAssertions"]),this.next(),t=this.parseImportAttributes();else if(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))t=[];else if(this.hasPlugin("moduleAttributes"))t=[];else return;!n&&this.hasPlugin("importAssertions")?r.assertions=t:r.attributes=t}maybeParseDefaultImportSpecifier(r,t){if(t){let n=this.startNodeAtNode(t);return n.local=t,r.specifiers.push(this.finishImportSpecifier(n,"ImportDefaultSpecifier")),!0}else if(Cr(this.state.type))return this.parseImportSpecifierLocal(r,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(r){if(this.match(55)){let t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(r,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(r){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(w.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}let n=this.startNode(),i=this.match(133),s=this.isContextual(130);n.imported=this.parseModuleExportName();let o=this.parseImportSpecifier(n,i,r.importKind==="type"||r.importKind==="typeof",s,void 0);r.specifiers.push(o)}}parseImportSpecifier(r,t,n,i,s){if(this.eatContextual(93))r.local=this.parseIdentifier();else{let{imported:o}=r;if(t)throw this.raise(w.ImportBindingIsString,r,{importName:o.value});this.checkReservedWord(o.name,r.loc.start,!0,!0),r.local||(r.local=hn(o))}return this.finishImportSpecifier(r,"ImportSpecifier",s)}isThisParam(r){return r.type==="Identifier"&&r.name==="this"}},ja=class extends Xc{constructor(r,t,n){r=MT(r),super(r,t),this.options=r,this.initializeScopes(),this.plugins=n,this.filename=r.sourceFilename}getScopeHandler(){return Qs}parse(){this.enterInitialScopes();let r=this.startNode(),t=this.startNode();return this.nextToken(),r.errors=null,this.parseTopLevel(r,t),r.errors=this.state.errors,r.comments.length=this.state.commentsLen,r}};function KT(e,r){var t;if(((t=r)==null?void 0:t.sourceType)==="unambiguous"){r=Object.assign({},r);try{r.sourceType="module";let n=Js(r,e),i=n.parse();if(n.sawUnambiguousESM)return i;if(n.ambiguousScriptDifferentAst)try{return r.sourceType="script",Js(r,e).parse()}catch{}else i.program.sourceType="script";return i}catch(n){try{return r.sourceType="script",Js(r,e).parse()}catch{}throw n}}else return Js(r,e).parse()}function VT(e,r){let t=Js(r,e);return t.options.strictMode&&(t.state.strict=!0),t.getExpression()}function zT(e){let r={};for(let t of Object.keys(e))r[t]=pn(e[t]);return r}var qT=zT(Uv);function Js(e,r){let t=ja,n=new Map;if(e!=null&&e.plugins){for(let i of e.plugins){let s,o;typeof i=="string"?s=i:[s,o]=i,n.has(s)||n.set(s,o||{})}LT(n),t=WT(n)}return new t(e,r,n)}var qy=new Map;function WT(e){let r=[];for(let i of BT)e.has(i)&&r.push(i);let t=r.join("|"),n=qy.get(t);if(!n){n=ja;for(let i of r)n=ob[i](n);qy.set(t,n)}return n}eo.parse=KT;eo.parseExpression=VT;eo.tokTypes=qT});var n0=Pe(ds=>{"use strict";b();ds.__esModule=!0;ds.distance=ds.closest=void 0;var En=new Uint32Array(65536),MN=function(e,r){for(var t=e.length,n=r.length,i=1<<t-1,s=-1,o=0,a=t,l=t;l--;)En[e.charCodeAt(l)]|=1<<l;for(l=0;l<n;l++){var u=En[r.charCodeAt(l)],c=u|o;u|=(u&s)+s^s,o|=~(u|s),s&=u,o&i&&a++,s&i&&a--,o=o<<1|1,s=s<<1|~(c|o),o&=c}for(l=t;l--;)En[e.charCodeAt(l)]=0;return a},$N=function(e,r){for(var t=r.length,n=e.length,i=[],s=[],o=Math.ceil(t/32),a=Math.ceil(n/32),l=0;l<o;l++)s[l]=-1,i[l]=0;for(var u=0;u<a-1;u++){for(var c=0,p=-1,d=u*32,m=Math.min(32,n)+d,f=d;f<m;f++)En[e.charCodeAt(f)]|=1<<f;for(var l=0;l<t;l++){var h=En[r.charCodeAt(l)],g=s[l/32|0]>>>l&1,y=i[l/32|0]>>>l&1,x=h|c,C=((h|y)&p)+p^p|h|y,D=c|~(C|p),E=p&C;D>>>31^g&&(s[l/32|0]^=1<<l),E>>>31^y&&(i[l/32|0]^=1<<l),D=D<<1|g,E=E<<1|y,p=E|~(x|D),c=D&x}for(var f=d;f<m;f++)En[e.charCodeAt(f)]=0}for(var S=0,v=-1,O=u*32,B=Math.min(32,n-O)+O,f=O;f<B;f++)En[e.charCodeAt(f)]|=1<<f;for(var k=n,l=0;l<t;l++){var h=En[r.charCodeAt(l)],g=s[l/32|0]>>>l&1,y=i[l/32|0]>>>l&1,x=h|S,C=((h|y)&v)+v^v|h|y,D=S|~(C|v),E=v&C;k+=D>>>n-1&1,k-=E>>>n-1&1,D>>>31^g&&(s[l/32|0]^=1<<l),E>>>31^y&&(i[l/32|0]^=1<<l),D=D<<1|g,E=E<<1|y,v=E|~(x|D),S=D&x}for(var f=O;f<B;f++)En[e.charCodeAt(f)]=0;return k},r0=function(e,r){if(e.length<r.length){var t=r;r=e,e=t}return r.length===0?e.length:e.length<=32?MN(e,r):$N(e,r)};ds.distance=r0;var UN=function(e,r){for(var t=1/0,n=0,i=0;i<r.length;i++){var s=r0(e,r[i]);s<t&&(t=s,n=i)}return r[n]};ds.closest=UN});var eF={};Pd(eF,{default:()=>ZN});module.exports=P0(eF);b();b();try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new e.Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="eda1b5be-941e-448f-bfd0-9f4ecbbdcc20",e._sentryDebugIdIdentifier="sentry-dbid-eda1b5be-941e-448f-bfd0-9f4ecbbdcc20")}catch{}b();var c0=require("../core/index.cjs"),p0=require("../node/index.cjs"),d0=require("../server/index.cjs"),f0=q(kd(),1);b();b();var _l=require("fs/promises");b();var hi=q(require("prettier"),1);async function mr(e,r,t){try{if(t){let i=await hi.default.getFileInfo(t);if(i.ignored||i.inferredParser==null)return e}let n=await hi.default.resolveConfigFile(process.cwd());if(n){let i=await hi.default.resolveConfig(n);return await hi.default.format(e,{...i,filepath:t,parser:r})}else return await hi.default.format(e,{filepath:t,parser:r})}catch(n){return console.warn("Error formatting code",n),e}}b();var Yx=require("http");b();var Ul="preview-url";var gi="framework",_o="platform",Oo="node",_d="/~builder-connect",Wn="/~builder-connected",jl="/~builder-dev-tools",Kl="/~builder-dev-tools.js",Gn="/~builder-dev-tools-close",Od="/mappings";var Xx=require("os"),kl=require("path"),Yr=require("fs");b();b();var At=q(Ro(),1),bi=require("process"),Sn=q(require("readline"),1),Hl=q(require("readline"),1),Wd=require("tty"),Gd=q(et(),1);function L0({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var B0=L0();function Hd(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(B0,"")}function Jd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yd={exports:{}};(function(e){var r={};e.exports=r,r.eastAsianWidth=function(n){var i=n.charCodeAt(0),s=n.length==2?n.charCodeAt(1):0,o=i;return 55296<=i&&i<=56319&&56320<=s&&s<=57343&&(i&=1023,s&=1023,o=i<<10|s,o+=65536),o==12288||65281<=o&&o<=65376||65504<=o&&o<=65510?"F":o==8361||65377<=o&&o<=65470||65474<=o&&o<=65479||65482<=o&&o<=65487||65490<=o&&o<=65495||65498<=o&&o<=65500||65512<=o&&o<=65518?"H":4352<=o&&o<=4447||4515<=o&&o<=4519||4602<=o&&o<=4607||9001<=o&&o<=9002||11904<=o&&o<=11929||11931<=o&&o<=12019||12032<=o&&o<=12245||12272<=o&&o<=12283||12289<=o&&o<=12350||12353<=o&&o<=12438||12441<=o&&o<=12543||12549<=o&&o<=12589||12593<=o&&o<=12686||12688<=o&&o<=12730||12736<=o&&o<=12771||12784<=o&&o<=12830||12832<=o&&o<=12871||12880<=o&&o<=13054||13056<=o&&o<=19903||19968<=o&&o<=42124||42128<=o&&o<=42182||43360<=o&&o<=43388||44032<=o&&o<=55203||55216<=o&&o<=55238||55243<=o&&o<=55291||63744<=o&&o<=64255||65040<=o&&o<=65049||65072<=o&&o<=65106||65108<=o&&o<=65126||65128<=o&&o<=65131||110592<=o&&o<=110593||127488<=o&&o<=127490||127504<=o&&o<=127546||127552<=o&&o<=127560||127568<=o&&o<=127569||131072<=o&&o<=194367||177984<=o&&o<=196605||196608<=o&&o<=262141?"W":32<=o&&o<=126||162<=o&&o<=163||165<=o&&o<=166||o==172||o==175||10214<=o&&o<=10221||10629<=o&&o<=10630?"Na":o==161||o==164||167<=o&&o<=168||o==170||173<=o&&o<=174||176<=o&&o<=180||182<=o&&o<=186||188<=o&&o<=191||o==198||o==208||215<=o&&o<=216||222<=o&&o<=225||o==230||232<=o&&o<=234||236<=o&&o<=237||o==240||242<=o&&o<=243||247<=o&&o<=250||o==252||o==254||o==257||o==273||o==275||o==283||294<=o&&o<=295||o==299||305<=o&&o<=307||o==312||319<=o&&o<=322||o==324||328<=o&&o<=331||o==333||338<=o&&o<=339||358<=o&&o<=359||o==363||o==462||o==464||o==466||o==468||o==470||o==472||o==474||o==476||o==593||o==609||o==708||o==711||713<=o&&o<=715||o==717||o==720||728<=o&&o<=731||o==733||o==735||768<=o&&o<=879||913<=o&&o<=929||931<=o&&o<=937||945<=o&&o<=961||963<=o&&o<=969||o==1025||1040<=o&&o<=1103||o==1105||o==8208||8211<=o&&o<=8214||8216<=o&&o<=8217||8220<=o&&o<=8221||8224<=o&&o<=8226||8228<=o&&o<=8231||o==8240||8242<=o&&o<=8243||o==8245||o==8251||o==8254||o==8308||o==8319||8321<=o&&o<=8324||o==8364||o==8451||o==8453||o==8457||o==8467||o==8470||8481<=o&&o<=8482||o==8486||o==8491||8531<=o&&o<=8532||8539<=o&&o<=8542||8544<=o&&o<=8555||8560<=o&&o<=8569||o==8585||8592<=o&&o<=8601||8632<=o&&o<=8633||o==8658||o==8660||o==8679||o==8704||8706<=o&&o<=8707||8711<=o&&o<=8712||o==8715||o==8719||o==8721||o==8725||o==8730||8733<=o&&o<=8736||o==8739||o==8741||8743<=o&&o<=8748||o==8750||8756<=o&&o<=8759||8764<=o&&o<=8765||o==8776||o==8780||o==8786||8800<=o&&o<=8801||8804<=o&&o<=8807||8810<=o&&o<=8811||8814<=o&&o<=8815||8834<=o&&o<=8835||8838<=o&&o<=8839||o==8853||o==8857||o==8869||o==8895||o==8978||9312<=o&&o<=9449||9451<=o&&o<=9547||9552<=o&&o<=9587||9600<=o&&o<=9615||9618<=o&&o<=9621||9632<=o&&o<=9633||9635<=o&&o<=9641||9650<=o&&o<=9651||9654<=o&&o<=9655||9660<=o&&o<=9661||9664<=o&&o<=9665||9670<=o&&o<=9672||o==9675||9678<=o&&o<=9681||9698<=o&&o<=9701||o==9711||9733<=o&&o<=9734||o==9737||9742<=o&&o<=9743||9748<=o&&o<=9749||o==9756||o==9758||o==9792||o==9794||9824<=o&&o<=9825||9827<=o&&o<=9829||9831<=o&&o<=9834||9836<=o&&o<=9837||o==9839||9886<=o&&o<=9887||9918<=o&&o<=9919||9924<=o&&o<=9933||9935<=o&&o<=9953||o==9955||9960<=o&&o<=9983||o==10045||o==10071||10102<=o&&o<=10111||11093<=o&&o<=11097||12872<=o&&o<=12879||57344<=o&&o<=63743||65024<=o&&o<=65039||o==65533||127232<=o&&o<=127242||127248<=o&&o<=127277||127280<=o&&o<=127337||127344<=o&&o<=127386||917760<=o&&o<=917999||983040<=o&&o<=1048573||1048576<=o&&o<=1114109?"A":"N"},r.characterLength=function(n){var i=this.eastAsianWidth(n);return i=="F"||i=="W"||i=="A"?2:1};function t(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}r.length=function(n){for(var i=t(n),s=0,o=0;o<i.length;o++)s=s+this.characterLength(i[o]);return s},r.slice=function(n,i,s){textLen=r.length(n),i=i||0,s=s||1,i<0&&(i=textLen+i),s<0&&(s=textLen+s);for(var o="",a=0,l=t(n),u=0;u<l.length;u++){var c=l[u],p=r.length(c);if(a>=i-(p==2?1:0))if(a+p<=s)o+=c;else break;a+=p}return o}})(Yd);var M0=Yd.exports,$0=Jd(M0),U0=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},j0=Jd(U0);function bs(e,r={}){if(typeof e!="string"||e.length===0||(r={ambiguousIsNarrow:!0,...r},e=Hd(e),e.length===0))return 0;e=e.replace(j0(),"  ");let t=r.ambiguousIsNarrow?1:2,n=0;for(let i of e){let s=i.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch($0.eastAsianWidth(i)){case"F":case"W":n+=2;break;case"A":n+=t;break;default:n+=1}}return n}var Wl=10,Md=(e=0)=>r=>`\x1B[${r+e}m`,$d=(e=0)=>r=>`\x1B[${38+e};5;${r}m`,Ud=(e=0)=>(r,t,n)=>`\x1B[${38+e};2;${r};${t};${n}m`,Je={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Je.modifier);var K0=Object.keys(Je.color),V0=Object.keys(Je.bgColor);[...K0,...V0];function z0(){let e=new Map;for(let[r,t]of Object.entries(Je)){for(let[n,i]of Object.entries(t))Je[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},t[n]=Je[n],e.set(i[0],i[1]);Object.defineProperty(Je,r,{value:t,enumerable:!1})}return Object.defineProperty(Je,"codes",{value:e,enumerable:!1}),Je.color.close="\x1B[39m",Je.bgColor.close="\x1B[49m",Je.color.ansi=Md(),Je.color.ansi256=$d(),Je.color.ansi16m=Ud(),Je.bgColor.ansi=Md(Wl),Je.bgColor.ansi256=$d(Wl),Je.bgColor.ansi16m=Ud(Wl),Object.defineProperties(Je,{rgbToAnsi256:{value:(r,t,n)=>r===t&&t===n?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:r=>{let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(r.toString(16));if(!t)return[0,0,0];let[n]=t;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:r=>Je.rgbToAnsi256(...Je.hexToRgb(r)),enumerable:!1},ansi256ToAnsi:{value:r=>{if(r<8)return 30+r;if(r<16)return 90+(r-8);let t,n,i;if(r>=232)t=((r-232)*10+8)/255,n=t,i=t;else{r-=16;let a=r%36;t=Math.floor(r/36)/5,n=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(t,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(r,t,n)=>Je.ansi256ToAnsi(Je.rgbToAnsi256(r,t,n)),enumerable:!1},hexToAnsi:{value:r=>Je.ansi256ToAnsi(Je.hexToAnsi256(r)),enumerable:!1}}),Je}var q0=z0(),Vo=new Set(["\x1B","\x9B"]),W0=39,Yl="\x07",Xd="[",G0="]",Qd="m",Xl=`${G0}8;;`,jd=e=>`${Vo.values().next().value}${Xd}${e}${Qd}`,Kd=e=>`${Vo.values().next().value}${Xl}${e}${Yl}`,H0=e=>e.split(" ").map(r=>bs(r)),Gl=(e,r,t)=>{let n=[...r],i=!1,s=!1,o=bs(Hd(e[e.length-1]));for(let[a,l]of n.entries()){let u=bs(l);if(o+u<=t?e[e.length-1]+=l:(e.push(l),o=0),Vo.has(l)&&(i=!0,s=n.slice(a+1).join("").startsWith(Xl)),i){s?l===Yl&&(i=!1,s=!1):l===Qd&&(i=!1);continue}o+=u,o===t&&a<n.length-1&&(e.push(""),o=0)}!o&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},J0=e=>{let r=e.split(" "),t=r.length;for(;t>0&&!(bs(r[t-1])>0);)t--;return t===r.length?e:r.slice(0,t).join(" ")+r.slice(t).join("")},Y0=(e,r,t={})=>{if(t.trim!==!1&&e.trim()==="")return"";let n="",i,s,o=H0(e),a=[""];for(let[u,c]of e.split(" ").entries()){t.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let p=bs(a[a.length-1]);if(u!==0&&(p>=r&&(t.wordWrap===!1||t.trim===!1)&&(a.push(""),p=0),(p>0||t.trim===!1)&&(a[a.length-1]+=" ",p++)),t.hard&&o[u]>r){let d=r-p,m=1+Math.floor((o[u]-d-1)/r);Math.floor((o[u]-1)/r)<m&&a.push(""),Gl(a,c,r);continue}if(p+o[u]>r&&p>0&&o[u]>0){if(t.wordWrap===!1&&p<r){Gl(a,c,r);continue}a.push("")}if(p+o[u]>r&&t.wordWrap===!1){Gl(a,c,r);continue}a[a.length-1]+=c}t.trim!==!1&&(a=a.map(u=>J0(u)));let l=[...a.join(`
`)];for(let[u,c]of l.entries()){if(n+=c,Vo.has(c)){let{groups:d}=new RegExp(`(?:\\${Xd}(?<code>\\d+)m|\\${Xl}(?<uri>.*)${Yl})`).exec(l.slice(u).join(""))||{groups:{}};if(d.code!==void 0){let m=Number.parseFloat(d.code);i=m===W0?void 0:m}else d.uri!==void 0&&(s=d.uri.length===0?void 0:d.uri)}let p=q0.codes.get(Number(i));l[u+1]===`
`?(s&&(n+=Kd("")),i&&p&&(n+=jd(p))):c===`
`&&(i&&p&&(n+=jd(i)),s&&(n+=Kd(s)))}return n};function Vd(e,r,t){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>Y0(n,r,t)).join(`
`)}var X0=["up","down","left","right","space","enter","cancel"],$o={actions:new Set(X0),aliases:new Map([["k","up"],["j","down"],["h","left"],["l","right"],["","cancel"],["escape","cancel"]])};function Ql(e,r){if(typeof e=="string")return $o.aliases.get(e)===r;for(let t of e)if(t!==void 0&&Ql(t,r))return!0;return!1}function Q0(e,r){if(e===r)return;let t=e.split(`
`),n=r.split(`
`),i=[];for(let s=0;s<Math.max(t.length,n.length);s++)t[s]!==n[s]&&i.push(s);return i}var Z0=globalThis.process.platform.startsWith("win"),Jl=Symbol("clack:cancel");function Me(e){return e===Jl}function Mo(e,r){let t=e;t.isTTY&&t.setRawMode(r)}function Zd({input:e=bi.stdin,output:r=bi.stdout,overwrite:t=!0,hideCursor:n=!0}={}){let i=Sn.createInterface({input:e,output:r,prompt:"",tabSize:1});Sn.emitKeypressEvents(e,i),e.isTTY&&e.setRawMode(!0);let s=(o,{name:a,sequence:l})=>{let u=String(o);if(Ql([u,a,l],"cancel")){n&&r.write(At.cursor.show),process.exit(0);return}if(!t)return;Sn.moveCursor(r,a==="return"?0:-1,a==="return"?-1:0,()=>{Sn.clearLine(r,1,()=>{e.once("keypress",s)})})};return n&&r.write(At.cursor.hide),e.once("keypress",s),()=>{e.off("keypress",s),n&&r.write(At.cursor.show),e.isTTY&&!Z0&&e.setRawMode(!1),i.terminal=!1,i.close()}}var eE=Object.defineProperty,tE=(e,r,t)=>r in e?eE(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Jt=(e,r,t)=>(tE(e,typeof r!="symbol"?r+"":r,t),t),yi=class{constructor(r,t=!0){Jt(this,"input"),Jt(this,"output"),Jt(this,"_abortSignal"),Jt(this,"rl"),Jt(this,"opts"),Jt(this,"_render"),Jt(this,"_track",!1),Jt(this,"_prevFrame",""),Jt(this,"_subscribers",new Map),Jt(this,"_cursor",0),Jt(this,"state","initial"),Jt(this,"error",""),Jt(this,"value");let{input:n=bi.stdin,output:i=bi.stdout,render:s,signal:o,...a}=r;this.opts=a,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=s.bind(this),this._track=t,this._abortSignal=o,this.input=n,this.output=i}unsubscribe(){this._subscribers.clear()}setSubscriber(r,t){let n=this._subscribers.get(r)??[];n.push(t),this._subscribers.set(r,n)}on(r,t){this.setSubscriber(r,{cb:t})}once(r,t){this.setSubscriber(r,{cb:t,once:!0})}emit(r,...t){let n=this._subscribers.get(r)??[],i=[];for(let s of n)s.cb(...t),s.once&&i.push(()=>n.splice(n.indexOf(s),1));for(let s of i)s()}prompt(){return new Promise((r,t)=>{if(this._abortSignal){if(this._abortSignal.aborted)return this.state="cancel",this.close(),r(Jl);this._abortSignal.addEventListener("abort",()=>{this.state="cancel",this.close()},{once:!0})}let n=new Wd.WriteStream(0);n._write=(i,s,o)=>{this._track&&(this.value=this.rl?.line.replace(/\t/g,""),this._cursor=this.rl?.cursor??0,this.emit("value",this.value)),o()},this.input.pipe(n),this.rl=Hl.default.createInterface({input:this.input,output:n,tabSize:2,prompt:"",escapeCodeTimeout:50}),Hl.default.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Mo(this.input,!0),this.output.on("resize",this.render),this.render(),this.once("submit",()=>{this.output.write(At.cursor.show),this.output.off("resize",this.render),Mo(this.input,!1),r(this.value)}),this.once("cancel",()=>{this.output.write(At.cursor.show),this.output.off("resize",this.render),Mo(this.input,!1),r(Jl)})})}onKeypress(r,t){if(this.state==="error"&&(this.state="active"),t?.name&&(!this._track&&$o.aliases.has(t.name)&&this.emit("cursor",$o.aliases.get(t.name)),$o.actions.has(t.name)&&this.emit("cursor",t.name)),r&&(r.toLowerCase()==="y"||r.toLowerCase()==="n")&&this.emit("confirm",r.toLowerCase()==="y"),r==="	"&&this.opts.placeholder&&(this.value||(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),r&&this.emit("key",r.toLowerCase()),t?.name==="return"){if(this.opts.validate){let n=this.opts.validate(this.value);n&&(this.error=n instanceof Error?n.message:n,this.state="error",this.rl?.write(this.value))}this.state!=="error"&&(this.state="submit")}Ql([r,t?.name,t?.sequence],"cancel")&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Mo(this.input,!1),this.rl?.close(),this.rl=void 0,this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let r=Vd(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(At.cursor.move(-999,r*-1))}render(){let r=Vd(this._render(this)??"",process.stdout.columns,{hard:!0});if(r!==this._prevFrame){if(this.state==="initial")this.output.write(At.cursor.hide);else{let t=Q0(this._prevFrame,r);if(this.restoreCursor(),t&&t?.length===1){let n=t[0];this.output.write(At.cursor.move(0,n)),this.output.write(At.erase.lines(1));let i=r.split(`
`);this.output.write(i[n]),this._prevFrame=r,this.output.write(At.cursor.move(0,i.length-n-1));return}if(t&&t?.length>1){let n=t[0];this.output.write(At.cursor.move(0,n)),this.output.write(At.erase.down());let i=r.split(`
`).slice(n);this.output.write(i.join(`
`)),this._prevFrame=r;return}this.output.write(At.erase.down())}this.output.write(r),this.state==="initial"&&(this.state="active"),this._prevFrame=r}}},Uo=class extends yi{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(r){super(r,!1),this.value=!!r.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",t=>{this.output.write(At.cursor.move(0,-1)),this.value=t,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}};var rE=Object.defineProperty,nE=(e,r,t)=>r in e?rE(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,zd=(e,r,t)=>(nE(e,typeof r!="symbol"?r+"":r,t),t),ef=class extends yi{constructor(e){super(e,!1),zd(this,"options"),zd(this,"cursor",0),this.options=e.options,this.value=[...e.initialValues??[]],this.cursor=Math.max(this.options.findIndex(({value:r})=>r===e.cursorAt),0),this.on("key",r=>{r==="a"&&this.toggleAll()}),this.on("cursor",r=>{switch(r){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break;case"space":this.toggleValue();break}})}get _value(){return this.options[this.cursor].value}toggleAll(){let e=this.value.length===this.options.length;this.value=e?[]:this.options.map(r=>r.value)}toggleValue(){let e=this.value.includes(this._value);this.value=e?this.value.filter(r=>r!==this._value):[...this.value,this._value]}};var iE=Object.defineProperty,sE=(e,r,t)=>r in e?iE(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,qd=(e,r,t)=>(sE(e,typeof r!="symbol"?r+"":r,t),t),jo=class extends yi{constructor(r){super(r,!1),qd(this,"options"),qd(this,"cursor",0),this.options=r.options,this.cursor=this.options.findIndex(({value:t})=>t===r.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",t=>{switch(t){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var Ko=class extends yi{get valueWithCursor(){if(this.state==="submit")return this.value;if(this.cursor>=this.value.length)return`${this.value}\u2588`;let r=this.value.slice(0,this.cursor),[t,...n]=this.value.slice(this.cursor);return`${r}${Gd.default.inverse(t)}${n.join("")}`}get cursor(){return this._cursor}constructor(r){super(r),this.on("finalize",()=>{this.value||(this.value=r.defaultValue)})}};var sr=q(require("process"),1),_=q(et(),1),zo=q(Ro(),1);function oE(){return sr.default.platform!=="win32"?sr.default.env.TERM!=="linux":!!sr.default.env.CI||!!sr.default.env.WT_SESSION||!!sr.default.env.TERMINUS_SUBLIME||sr.default.env.ConEmuTask==="{cmd::Cmder}"||sr.default.env.TERM_PROGRAM==="Terminus-Sublime"||sr.default.env.TERM_PROGRAM==="vscode"||sr.default.env.TERM==="xterm-256color"||sr.default.env.TERM==="alacritty"||sr.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Zl=oE(),it=(e,r)=>Zl?e:r,aE=it("\u25C6","*"),rf=it("\u25A0","x"),nf=it("\u25B2","x"),nu=it("\u25C7","o"),lE=it("\u250C","T"),Ie=it("\u2502","|"),wn=it("\u2514","\u2014"),eu=it("\u25CF",">"),tu=it("\u25CB"," "),uE=it("\u25FB","[\u2022]"),tf=it("\u25FC","[+]"),cE=it("\u25FB","[ ]"),EF=it("\u25AA","\u2022"),CF=it("\u2500","-"),SF=it("\u256E","+"),wF=it("\u251C","+"),AF=it("\u256F","+"),pE=it("\u25CF","\u2022"),dE=it("\u25C6","*"),fE=it("\u25B2","!"),mE=it("\u25A0","x"),qo=e=>{switch(e){case"initial":case"active":return _.default.cyan(aE);case"cancel":return _.default.red(rf);case"error":return _.default.yellow(nf);case"submit":return _.default.green(nu)}},ru=e=>{let{cursor:r,options:t,style:n}=e,i=e.maxItems??Number.POSITIVE_INFINITY,s=Math.max(process.stdout.rows-4,0),o=Math.min(s,Math.max(i,5)),a=0;r>=a+o-3?a=Math.max(Math.min(r-o+3,t.length-o),0):r<a+2&&(a=Math.max(r-2,0));let l=o<t.length&&a>0,u=o<t.length&&a+o<t.length;return t.slice(a,a+o).map((c,p,d)=>{let m=p===0&&l,f=p===d.length-1&&u;return m||f?_.default.dim("..."):n(c,p+a===r)})},xt=e=>new Ko({validate:e.validate,placeholder:e.placeholder,defaultValue:e.defaultValue,initialValue:e.initialValue,render(){let r=`${_.default.gray(Ie)}
${qo(this.state)}  ${e.message}
`,t=e.placeholder?_.default.inverse(e.placeholder[0])+_.default.dim(e.placeholder.slice(1)):_.default.inverse(_.default.hidden("_")),n=this.value?this.valueWithCursor:t;switch(this.state){case"error":return`${r.trim()}
${_.default.yellow(Ie)}  ${n}
${_.default.yellow(wn)}  ${_.default.yellow(this.error)}
`;case"submit":return`${r}${_.default.gray(Ie)}  ${_.default.dim(this.value||e.placeholder)}`;case"cancel":return`${r}${_.default.gray(Ie)}  ${_.default.strikethrough(_.default.dim(this.value??""))}${this.value?.trim()?`
${_.default.gray(Ie)}`:""}`;default:return`${r}${_.default.cyan(Ie)}  ${n}
${_.default.cyan(wn)}
`}}}).prompt();var Rt=e=>{let r=e.active??"Yes",t=e.inactive??"No";return new Uo({active:r,inactive:t,initialValue:e.initialValue??!0,render(){let n=`${_.default.gray(Ie)}
${qo(this.state)}  ${e.message}
`,i=this.value?r:t;switch(this.state){case"submit":return`${n}${_.default.gray(Ie)}  ${_.default.dim(i)}`;case"cancel":return`${n}${_.default.gray(Ie)}  ${_.default.strikethrough(_.default.dim(i))}
${_.default.gray(Ie)}`;default:return`${n}${_.default.cyan(Ie)}  ${this.value?`${_.default.green(eu)} ${r}`:`${_.default.dim(tu)} ${_.default.dim(r)}`} ${_.default.dim("/")} ${this.value?`${_.default.dim(tu)} ${_.default.dim(t)}`:`${_.default.green(eu)} ${t}`}
${_.default.cyan(wn)}
`}}}).prompt()},Wo=e=>{let r=(t,n)=>{let i=t.label??String(t.value);switch(n){case"selected":return`${_.default.dim(i)}`;case"active":return`${_.default.green(eu)} ${i} ${t.hint?_.default.dim(`(${t.hint})`):""}`;case"cancelled":return`${_.default.strikethrough(_.default.dim(i))}`;default:return`${_.default.dim(tu)} ${_.default.dim(i)}`}};return new jo({options:e.options,initialValue:e.initialValue,render(){let t=`${_.default.gray(Ie)}
${qo(this.state)}  ${e.message}
`;switch(this.state){case"submit":return`${t}${_.default.gray(Ie)}  ${r(this.options[this.cursor],"selected")}`;case"cancel":return`${t}${_.default.gray(Ie)}  ${r(this.options[this.cursor],"cancelled")}
${_.default.gray(Ie)}`;default:return`${t}${_.default.cyan(Ie)}  ${ru({cursor:this.cursor,options:this.options,maxItems:e.maxItems,style:(n,i)=>r(n,i?"active":"inactive")}).join(`
${_.default.cyan(Ie)}  `)}
${_.default.cyan(wn)}
`}}}).prompt()};var sf=e=>{let r=(t,n)=>{let i=t.label??String(t.value);return n==="active"?`${_.default.cyan(uE)} ${i} ${t.hint?_.default.dim(`(${t.hint})`):""}`:n==="selected"?`${_.default.green(tf)} ${_.default.dim(i)}`:n==="cancelled"?`${_.default.strikethrough(_.default.dim(i))}`:n==="active-selected"?`${_.default.green(tf)} ${i} ${t.hint?_.default.dim(`(${t.hint})`):""}`:n==="submitted"?`${_.default.dim(i)}`:`${_.default.dim(cE)} ${_.default.dim(i)}`};return new ef({options:e.options,initialValues:e.initialValues,required:e.required??!0,cursorAt:e.cursorAt,validate(t){if(this.required&&t.length===0)return`Please select at least one option.
${_.default.reset(_.default.dim(`Press ${_.default.gray(_.default.bgWhite(_.default.inverse(" space ")))} to select, ${_.default.gray(_.default.bgWhite(_.default.inverse(" enter ")))} to submit`))}`},render(){let t=`${_.default.gray(Ie)}
${qo(this.state)}  ${e.message}
`,n=(i,s)=>{let o=this.value.includes(i.value);return s&&o?r(i,"active-selected"):o?r(i,"selected"):r(i,s?"active":"inactive")};switch(this.state){case"submit":return`${t}${_.default.gray(Ie)}  ${this.options.filter(({value:i})=>this.value.includes(i)).map(i=>r(i,"submitted")).join(_.default.dim(", "))||_.default.dim("none")}`;case"cancel":{let i=this.options.filter(({value:s})=>this.value.includes(s)).map(s=>r(s,"cancelled")).join(_.default.dim(", "));return`${t}${_.default.gray(Ie)}  ${i.trim()?`${i}
${_.default.gray(Ie)}`:""}`}case"error":{let i=this.error.split(`
`).map((s,o)=>o===0?`${_.default.yellow(wn)}  ${_.default.yellow(s)}`:`   ${s}`).join(`
`);return`${t+_.default.yellow(Ie)}  ${ru({options:this.options,cursor:this.cursor,maxItems:e.maxItems,style:n}).join(`
${_.default.yellow(Ie)}  `)}
${i}
`}default:return`${t}${_.default.cyan(Ie)}  ${ru({options:this.options,cursor:this.cursor,maxItems:e.maxItems,style:n}).join(`
${_.default.cyan(Ie)}  `)}
${_.default.cyan(wn)}
`}}}).prompt()};var ge=(e="")=>{process.stdout.write(`${_.default.gray(wn)}  ${_.default.red(e)}

`)},tt=(e="")=>{process.stdout.write(`${_.default.gray(lE)}  ${e}
`)},Et=(e="")=>{process.stdout.write(`${_.default.gray(Ie)}
${_.default.gray(wn)}  ${e}

`)},U={message:(e="",{symbol:r=_.default.gray(Ie)}={})=>{let t=[`${_.default.gray(Ie)}`];if(e){let[n,...i]=e.split(`
`);t.push(`${r}  ${n}`,...i.map(s=>`${_.default.gray(Ie)}  ${s}`))}process.stdout.write(`${t.join(`
`)}
`)},info:e=>{U.message(e,{symbol:_.default.blue(pE)})},success:e=>{U.message(e,{symbol:_.default.green(dE)})},step:e=>{U.message(e,{symbol:_.default.green(nu)})},warn:e=>{U.message(e,{symbol:_.default.yellow(fE)})},warning:e=>{U.warn(e)},error:e=>{U.message(e,{symbol:_.default.red(mE)})}},vF=`${_.default.gray(Ie)}  `;var Di=({indicator:e="dots"}={})=>{let r=Zl?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],t=Zl?80:120,n=process.env.CI==="true",i,s,o=!1,a="",l,u=performance.now(),c=D=>{let E=D>1?"Something went wrong":"Canceled";o&&C(E,D)},p=()=>c(2),d=()=>c(1),m=()=>{process.on("uncaughtExceptionMonitor",p),process.on("unhandledRejection",p),process.on("SIGINT",d),process.on("SIGTERM",d),process.on("exit",c)},f=()=>{process.removeListener("uncaughtExceptionMonitor",p),process.removeListener("unhandledRejection",p),process.removeListener("SIGINT",d),process.removeListener("SIGTERM",d),process.removeListener("exit",c)},h=()=>{if(l===void 0)return;n&&process.stdout.write(`
`);let D=l.split(`
`);process.stdout.write(zo.cursor.move(-999,D.length-1)),process.stdout.write(zo.erase.down(D.length))},g=D=>D.replace(/\.+$/,""),y=D=>{let E=(performance.now()-D)/1e3,S=Math.floor(E/60),v=Math.floor(E%60);return S>0?`[${S}m ${v}s]`:`[${v}s]`},x=(D="")=>{o=!0,i=Zd(),a=g(D),u=performance.now(),process.stdout.write(`${_.default.gray(Ie)}
`);let E=0,S=0;m(),s=setInterval(()=>{if(n&&a===l)return;h(),l=a;let v=_.default.magenta(r[E]);if(n)process.stdout.write(`${v}  ${a}...`);else if(e==="timer")process.stdout.write(`${v}  ${a} ${y(u)}`);else{let O=".".repeat(Math.floor(S)).slice(0,3);process.stdout.write(`${v}  ${a}${O}`)}E=E+1<r.length?E+1:0,S=S<r.length?S+.125:0},t)},C=(D="",E=0)=>{o=!1,clearInterval(s),h();let S=E===0?_.default.green(nu):E===1?_.default.red(rf):_.default.red(nf);a=g(D??a),e==="timer"?process.stdout.write(`${S}  ${a} ${y(u)}
`):process.stdout.write(`${S}  ${a}
`),f(),i()};return{start:x,stop:C,message:(D="")=>{a=g(D??a)}}};var zn=q(et(),1);b();var He=q(require("typescript"),1);var he=q(et(),1);b();b();function Ee(e,r=""){return e.ts.createSourceFile("module.tsx",typeof r=="string"?r:"",e.ts.ScriptTarget.Latest,void 0)}function Go(e,r=""){let t=Ee(e,r?.trim());if(t.statements.length===0)throw new Error(`No statements found in code: ${r}`);return t.statements[0]}function dt(e,r,t){if(r){let n=e.ts.createPrinter({newLine:e.ts.NewLineKind.LineFeed,removeComments:t});return e.ts.isSourceFile(r)?n.printFile(r).trim()+`
`:n.printNode(e.ts.EmitHint.Unspecified,r,e.ts.createSourceFile("module.tsx","",e.ts.ScriptTarget.Latest)).trim()+`
`}return""}b();var uf=q(af(),1);function vt(e){return e.endsWith(".mapper.tsx")||e.endsWith(".mapper.jsx")||e.endsWith(".mapper.ts")||e.endsWith(".mapper.js")||e.endsWith(".mapper.mjs")}function Se(e,r,t){r=hr(r),t=hr(t),r=e.dirname(r);let n=e.basename(t,e.extname(t));t=e.dirname(t);let i;return n==="index"?i=e.relative(r,t):i=e.relative(r,e.join(t,n)),i=hr(e.normalize(i)),i.startsWith(".")||(i="./"+i),i}function hr(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}function Hn(e,r){let t=e.extname(r),n=e.basename(r,t).split(/[\/\\]/),i=n[n.length-1];return lf(i==="index"?e.basename(e.dirname(r)):i)}function lf(e){return Ve(e).replace(/ /g,"")}function or(e,r){let t=e.extname(r),n=hr(e.basename(r,t)).split("/").pop();return Ve(n==="index"?e.basename(e.dirname(r)):n)}function $e(e,r){let t=hr(e.relative(e.getAppRootDir(),r));t=t.split("/").filter(i=>i!=="."&&i!==".."&&i!=="").join("/"),t.endsWith(".tsx")||t.endsWith(".jsx")?t=t.slice(0,-4):(t.endsWith(".ts")||t.endsWith(".js"))&&(t=t.slice(0,-3));let n=e.getFrameworks();return t.startsWith("src/")&&(t=t.slice(4)),n.some(i=>i.name.includes("next"))?"@/"+t:"~/"+t}function Fe(e,r){let t=r,n=[];for(let i=0;i<2;i++){let s=e.basename(t);if(!s||s==="components")break;n.unshift(s),t=e.dirname(t)}return n.join("/")}function Ve(e){for(e=e.replace(/([A-Z])/g," $1").replace(/\./g," ").replace(/_/g," ").replace(/-/g," ").replace(/\s/g," ").trim();e.includes("  ");)e=e.replace(/  /g," ");return e.split(" ").map(r=>r.length>2?r[0].toUpperCase()+r.slice(1):r).join("").trim()}function zt(e){return e.sort((r,t)=>r.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase()))}async function Ue(e,r,t,n){if(typeof t!="string"||t==="")throw new Error(`getComponentId(), exportName must be a non-empty string, received: ${t}, ${r}`);return n&&(r=n),r=e.normalize(r),(await e.hash(r+"#"+t)).substring(0,8)}async function cf(e){return(await e.hash(e.getAppRootDir())).substring(0,8)}function Ds(e){return typeof e=="number"}function xi(e){return typeof e=="boolean"}function Lt(e){return typeof e=="string"}function Ei(e){return typeof e=="string"?/^[A-Z][A-Za-z0-9]*$/.test(e):!1}function Yt(e){return JSON.parse(JSON.stringify(e))}function Ho(e,r,t){for(let n of r)if(e.dirname(t).includes(n))return!0;return!1}function pf(){try{let e=(0,uf.default)();if(e?.name)return e.name}catch{}return"npm"}function gE(){return process.platform.startsWith("win")}function ar(){return gE()?'"@builder.io/dev-tools"':"builder.io"}b();function Xt(e){let r=e.join(e.getAppRootDir(),"tsconfig.json");return e.exists(r)}var yE=["node_modules","dist","build","public"];async function lr(e,r){async function t(i,s){if(s>10)return;let o=await e.readdir(i);for(let a of o){if(yE.includes(a))continue;let l=e.join(i,a),u=await e.stat(l);if(u){if(u.isFile()&&a.startsWith("builder-registry."))return l;if(u.isDirectory()){let c=await t(l,s+1);if(c)return c}}}}let n=await t(e.getAppRootDir(),0);if(!n){let s=`builder-registry.${await Xt(e)?"ts":"js"}`;return e.join(r,s)}return n}async function tn(e,r){let t=e.resolve("/");for(let n=0;n<20;n++){let i=e.join(r,"package.json"),s=await e.readFile(i);if(s)return JSON.parse(s);if(r===t)break;r=e.dirname(r)}return null}async function df(e,r){for(let t=0;t<20;t++){let n=e.dirname(r),i=e.join(n,"node_modules");if(await e.exists(i))return i;if(r===e.getAppRootDir())break;r=e.dirname(r)}return e.join(e.getAppRootDir(),"node_modules")}async function xs(e,r,t){let n=await e.readdir(r);return n.includes(t)?e.join(r,t):(await Promise.all(n.map(async s=>{if(s.startsWith(".")||s==="node_modules")return;let o=e.join(r,s);if((await e.stat(o)).isDirectory()){let l=await xs(e,o,t);if(l)return l}}))).find(s=>typeof s=="string")}async function ut(e,r,t){if(!Array.isArray(r)||r.length===0)throw new Error(`createTsProgram() Invalid filePaths: ${r}`);let n=await df(e,r[0]),i=e.join(n,"typescript","lib"),s=new Map,o={fileExists:a=>{if(a=e.normalize(a),a.includes("node_modules")){let l=Es.get(a);if(!l){try{e.statSync(a).isFile()?l={exists:!0,content:e.readFileSync(a)}:l={exists:!1}}catch{l={exists:!1}}Es.set(a,l)}return l.exists}if(!s.has(a))if(e.existsSync(a)){let u=e.statSync(a);s.set(a,u.isFile())}else s.set(a,!1);return s.get(a)},getCanonicalFileName:a=>e.normalize(a),getCurrentDirectory:()=>e.cwd(),getDefaultLibFileName:()=>e.join(i,"lib.d.ts"),getDefaultLibLocation:()=>i,getNewLine:()=>`
`,getSourceFile:a=>{if(a=e.normalize(a),a.includes("node_modules")){let u=Es.get(a);if(u)return Ee(e,u.content)}let l;try{l=e.readFileSync(a)}catch{console.error(`Could not read: ${a}`),l==null}if(l==null){let u=e.basename(a),c=e.extname(u).toLowerCase();if(a.startsWith(i)&&c===".ts"&&(l=mf.get(u),l==null&&typeof self<"u"&&typeof fetch=="function"))throw new Yo(u)}return a.includes("node_modules")&&(l?Es.set(a,{exists:!0,content:l}):Es.set(a,{exists:!1})),Ee(e,l)},readFile:a=>{let l=e.readFileSync(a);return typeof l=="string"?l:void 0},useCaseSensitiveFileNames:()=>!1,writeFile:()=>{}};for(;;)try{return bE(e,o,r,t)}catch(a){if(a instanceof Yo){await DE(e,a.libName);continue}throw e.Sentry?.captureException(a),new Error(`createTsProgram() Could not create program for: ${r[0]}`,{cause:a})}}function bE(e,r,t,n){let i={rootNames:[...t],host:r,options:{}},s=e.ts.findConfigFile(e.dirname(t[0]),o=>e.existsSync(o));if(s){let o=ff.get(s);if(!o){let a=e.ts.readConfigFile(s,l=>{let u=e.readFileSync(l);return typeof u=="string"?u:void 0});a.error?e.Sentry?.captureException(new Error("Error reading tsconfig for createTsProgram"),{extra:{error:a.error,tsConfigPath:s}}):(o=e.ts.parseJsonConfigFileContent(a.config,e.ts.sys||{useCaseSensitiveFileNames:!1,readDirectory:(u,c)=>e.readdirSync(u),fileExists:u=>e.existsSync(u),readFile:u=>e.readFileSync(u)||void 0},e.dirname(s),void 0,s).options,ff.set(s,o))}o&&(i.options=Yt(o))}return i.options.noEmit=!0,i.options.isolatedModules=!1,i.options.strict=!1,i.options.jsx=e.ts.JsxEmit.Preserve,i.options.allowJs=!0,Object.assign(i.options,n),e.ts.createProgram(i)}async function Ci(e,r,t){t||(t=await ut(e,[r]));let n=t.getSourceFile(r);if(!n)throw new Error(`getTypeChecker() Could not find source file: ${r}`);return{typeChecker:t.getTypeChecker(),sourceFile:n}}var Yo=class{constructor(r){this.libName=r}};async function DE(e,r){let t=`https://cdn.jsdelivr.net/npm/typescript@${e.ts.version}/lib/${r}`;Jo.has(r)||Jo.set(r,fetch(t).then(n=>n.text()).then(n=>{mf.set(r,n)})),await Jo.get(r),Jo.delete(r)}var mf=new Map,Jo=new Map,Es=new Map,ff=new Map;async function hf(e,r){let t=await e.readFile(r.filePath);return t==null?{diagnostics:[{messageText:`Error reading: ${r.filePath}`}],code:null,output:null}:iu(e,{code:t,filePath:r.filePath,compilerOptions:r.compilerOptions})}function iu(e,r){let t={diagnostics:[],code:r.code,output:null};try{let n=e.ts.transpileModule(r.code,{compilerOptions:r.compilerOptions,fileName:r.filePath??"module.tsx",reportDiagnostics:!0});n.diagnostics?.forEach(i=>{t.diagnostics.push({messageText:String(i.messageText)})}),t.output=n.outputText}catch(n){console.error("transpileModule",n),t.diagnostics.push({messageText:String(n)})}return t}b();b();var xE="1.6.16",Re=process.env.OVERRIDE_VERSION??xE;b();b();async function Jn(e){let r=[],t=await tn(e,e.getRepoRootDir());if(t){let n=await yf(t,e);r.push(...n)}return r}async function yf(e,r){let t=[];if(e&&typeof e=="object"){let n=new Set(Object.keys({...e.dependencies,...e.devDependencies}));for(let i of EE)if(n.has(i)&&!t.some(s=>s.name===i)){let s={name:i};gf.has(i)&&(s.version=await gf.get(i)(r)),t.push(s)}}return t}function su(e){let r=parseInt(e);return Number.isNaN(r)?void 0:r}var gf=new Map([["next",async e=>{if(!e.spawnSync)return;let r=pf(),t=r==="npm"?"npx":r,{stdout:n}=e.spawnSync(t,["next","-v"],{encoding:"utf8"});if(!n)return;let i=n.match(/(Next.js v)([\d.]+)/g);if(!i)return;let s=i[0].split("Next.js v")[1],[o,a,l]=s.split(".");return{major:su(o),minor:su(a),patch:su(l)}}]]),EE=["@shopify/remix-oxygen","@shopify/hydrogen","@builder.io/qwik-city","@remix-run/react","@sveltejs/kit","astro","gatsby","next","nuxt","@builder.io/qwik","@angular/core","react","solid-js","svelte","vue"];b();b();async function Pr(e){let r=bf(e),t=await e.readFile(r);return typeof t=="string"?JSON.parse(t):{}}async function Ir(e,r){r=typeof r=="object"&&r!=null?r:{};let t=bf(e);await e.writeFile(t,JSON.stringify(r??{},null,2))}function bf(e){let r=e.getAppRootDir();return e.join(r,"node_modules",".builder","builder-cache.json")}b();b();async function An(e,r,t){let n={envKey:t,envValue:null,file:""};for(let i of r){let s=e.join(e.getAppRootDir(),i),o=await CE(e,s);if(o){let a=o[t];if(typeof a=="string"&&a.length>0&&a!=="YOUR_API_KEY")return n.envValue=a,n.file=s,n}}return n.file=e.join(e.getAppRootDir(),r[r.length-1]),n}async function CE(e,r){let t=await e.readFile(r);return typeof t=="string"?Df(t):null}function Df(e){let r={},t=e.replace(/\r\n?/gm,`
`),n;for(;(n=SE.exec(t))!=null;){let i=n[1],s=n[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),r[i]=s}return r}var SE=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;async function vn(e,r,t,n){let i="# https://www.builder.io/c/docs/using-your-api-key",s=await e.readFile(r);if(s)if(s.includes(t))if(s.includes(n))e.debug(`"${t}" with "${n}" already set in ${r}`);else return e.debug(`Replace "${t}" in ${r}`),s=s.replace(new RegExp(`${t}=.*`),`${t}=${n}`),await e.writeFile(r,s),"update";else return e.debug(`Append "${t}" to ${r}`),s+=`

${i}
${t}=${n}

`,await e.writeFile(r,s),"update";else return e.debug(`Creating new .env file with "${t}" at ${r}`),s=[i,`${t}=${n}`,""].join(`
`),await e.writeFile(r,s),"create";return null}async function Cs(e){return await An(e,[".env.local",".env.development.local",".env.production.local",".env.development",".env.production",".env"],Nr)}async function xf(e,r){let t=await Cs(e),n=await vn(e,t.file,t.envKey,r);return{...t,modifiedType:n}}var Nr="NEXT_PUBLIC_BUILDER_API_KEY";b();b();var re={gen1:"Gen 1",gen2:"Gen 2"},Ss={CMS:"cms",VCP:"vcp",HYBRID:"hybrid"};b();b();b();function Si(e,r,t,n,i=!0){let s=r.properties.filter(a=>e.ts.isPropertyAssignment(a)),o=wE(e,r,t);return o>-1?n==null&&i?e.ts.factory.updateObjectLiteralExpression(r,s.filter((a,l)=>l!==o)):(s[o]=e.ts.factory.updatePropertyAssignment(s[o],s[o].name,ws(e,n)),e.ts.factory.updateObjectLiteralExpression(r,s)):(n!=null&&s.push(e.ts.factory.createPropertyAssignment(t,ws(e,n))),e.ts.factory.updateObjectLiteralExpression(r,s))}function wE(e,r,t){return r.properties.findIndex(n=>ke(e,n)===t)}function As(e,r){switch(r.kind){case e.ts.SyntaxKind.ArrayLiteralExpression:return vE(e,r);case e.ts.SyntaxKind.ObjectLiteralExpression:return AE(e,r);case e.ts.SyntaxKind.StringLiteral:return r.text;case e.ts.SyntaxKind.NumericLiteral:return Number(r.text);case e.ts.SyntaxKind.NoSubstitutionTemplateLiteral:return r.text;case e.ts.SyntaxKind.TrueKeyword:return!0;case e.ts.SyntaxKind.FalseKeyword:return!1;case e.ts.SyntaxKind.Identifier:switch(r.escapedText){case"undefined":return;case"null":return null;case"String":return String;case"Number":return Number;case"Boolean":return Boolean;case"NaN":return NaN}}}function AE(e,r){let t={};if(r&&e.ts.isObjectLiteralExpression(r)){for(let n of r.properties)if(e.ts.isPropertyAssignment(n)){let i=ke(e,n);i&&(t[i]=As(e,n.initializer))}}return t}function vE(e,r){return r&&e.ts.isArrayLiteralExpression(r)?r.elements.map(t=>As(e,t)):[]}function ke(e,r){if(r&&e.ts.isPropertyAssignment(r)){let t=r.name;switch(t.kind){case e.ts.SyntaxKind.Identifier:return t.text;case e.ts.SyntaxKind.StringLiteral:case e.ts.SyntaxKind.NumericLiteral:return t.text;case e.ts.SyntaxKind.ComputedPropertyName:let n=t.expression;if(e.ts.isStringLiteral(n)||e.ts.isNumericLiteral(n))return t.expression.text}}}function ws(e,r){return ou(e,r,new WeakSet)}function ou(e,r,t){return r===void 0?e.ts.factory.createIdentifier("undefined"):r===null?e.ts.factory.createIdentifier("null"):typeof r=="string"?e.ts.factory.createStringLiteral(r):typeof r=="number"?isNaN(r)?e.ts.factory.createIdentifier("NaN"):e.ts.factory.createNumericLiteral(r):r===!0?e.ts.factory.createTrue():r===!1?e.ts.factory.createFalse():r===String?e.ts.factory.createIdentifier("String"):r===Number?e.ts.factory.createIdentifier("Number"):r===Boolean?e.ts.factory.createIdentifier("Boolean"):Array.isArray(r)?TE(e,r,t):typeof r=="object"?PE(e,r,t):e.ts.factory.createIdentifier(r)}function TE(e,r,t){let n=r.map(i=>ou(e,i,t));return e.ts.factory.createArrayLiteralExpression(n,!0)}function PE(e,r,t){if(t.has(r))return e.ts.factory.createIdentifier("undefined");t.add(r);let n=Object.keys(r).map(i=>e.ts.factory.createPropertyAssignment(i,ou(e,r[i],t)));return e.ts.factory.createObjectLiteralExpression(n,!0)}b();function Yn(e,r,t){let n=[];if(!t)return n;let i=null;if(e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t)||e.ts.isFunctionDeclaration(t)){let s=t.parameters;if(s.length>0){let o=s[0],a=r.getTypeAtLocation(o);a.aliasTypeArguments&&a.aliasTypeArguments.length>0&&(a=a.aliasTypeArguments[0]),!!(a.flags&e.ts.TypeFlags.Object)&&(i=a.getProperties())}}else if(e.ts.isIdentifier(t)){let s=r.getTypeAtLocation(t),o=s.symbol?.valueDeclaration;if(o&&e.ts.isClassDeclaration(o)){let l=o.heritageClauses?.find(u=>u.token===e.ts.SyntaxKind.ExtendsKeyword)?.types;if(l){for(let u of l)if(r.getSymbolAtLocation(u.expression)?.name==="Component"){if(e.ts.isExpressionWithTypeArguments(u)){let p=u.typeArguments;if(p){let d=p[0];i=r.getTypeFromTypeNode(d).getProperties()}}break}}}if(!i){let a=s.getCallSignatures();if(a.length>0){let l=a[0].getParameters();l.length>0&&(i=r.getTypeOfSymbolAtLocation(l[0],t).getProperties())}}}else if(e.ts.isExportSpecifier(t)){let s=r.getSymbolAtLocation(t.name);if(s){let a=r.getTypeOfSymbolAtLocation(s,t).getCallSignatures();if(a.length>0){let l=a[0].getParameters();l.length>0&&(i=r.getTypeOfSymbolAtLocation(l[0],t).getProperties())}}}if(i)for(let s of i){let o=IE(e,r,s);o&&n.push(o)}return n=n.filter(Cf),n.length>0?n:NE(e,t)}function IE(e,r,t){let n=t.valueDeclaration,i=t.getName();if(n||(n=t.getDeclarations()?.[0]),n&&e.ts.isPropertySignature(n)){if(i!=="children"&&n.getSourceFile().fileName.includes("node_modules/@types/"))return null;let s="string",o;if(n?.type){let l=r.getTypeFromTypeNode(n.type),u=r.typeToString(l),c=au(u);c.knownType?s=c.builderType:kE(u)||l.flags&e.ts.TypeFlags.StringLike?s="string":l.flags&e.ts.TypeFlags.NumberLike?s="number":l.flags&e.ts.TypeFlags.IndexedAccess?s="list":l.flags&e.ts.TypeFlags.Object||l.isUnion()&&l.types.every(p=>p.flags&e.ts.TypeFlags.Object)||l.isIntersection()&&l.types.some(p=>p.flags&e.ts.TypeFlags.Object)?s="object":s="string",u!==s&&(o=u)}let a={name:i,type:s,isRegistered:!1};if(o&&n.type){let l=LE(e,r,r.getTypeFromTypeNode(n.type));a.meta=a.meta||{},l&&l.length>0&&a.type==="string"&&l.every(OE)?a.enum=l.map(RE):a.meta.ts=o}return n.questionToken||(a.required=!0),a}return null}function NE(e,r){let t=[],n=e.ts.getJSDocCommentsAndTags(r);for(let i of n)if(!(!e.ts.isJSDoc(i)||!i.tags))for(let s of i.tags){if(!e.ts.isJSDocParameterTag(s)||s.tagName.text!=="param")continue;let a=s.typeExpression?.type;if(!a||!e.ts.isJSDocTypeLiteral(a))continue;let l=a.jsDocPropertyTags;if(l)for(let u of l){if(!e.ts.isJSDocPropertyLikeTag(u))continue;let c=u.name;if(!e.ts.isQualifiedName(c))continue;let p=u.typeExpression;if(!p)continue;let d="";switch(p.type.kind){case e.ts.SyntaxKind.StringKeyword:{d="string";break}case e.ts.SyntaxKind.NumberKeyword:{d="number";break}case e.ts.SyntaxKind.BooleanKeyword:{d="boolean";break}default:continue}let f={name:c.right.text,type:d,isRegistered:!1};t.push(f)}}return t.filter(Cf)}var FE=["ClassicComponent","FunctionComponent","IntrinsicElements","JSX","ReactNode","ReactElement","ReactPortal"];function kE(e){return typeof e!="string"?!1:!!FE.some(r=>e.includes(r))}function au(e){return typeof e=="string"&&(e=e.trim(),_E.some(r=>r.value===e))?{builderType:e,knownType:!0}:{builderType:"string",knownType:!1}}var _E=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}];function OE(e){return/^['"].*['"]$/.test(e)}function RE(e){return(e.startsWith('"')||e.startsWith("'"))&&(e.endsWith('"')||e.endsWith("'"))?e.slice(1,-1):e}var LE=(e,r,t)=>{let n=new Set;Ef(e,r,t,n);let i=n.delete("true"),s=n.delete("false");(i||s)&&n.add("boolean");let o=Array.from(n.keys()).sort();if(o.length>1&&(o=o.map(a=>a.indexOf("=>")>=0?`(${a})`:a)),!(o.length>20))return o},BE=(e,r,t)=>{let n=e.ts.TypeFormatFlags.InElementType|e.ts.TypeFormatFlags.NoTruncation;return r.typeToString(t,void 0,n)},Ef=(e,r,t,n)=>{if(t.isUnion())t.types.forEach(i=>{Ef(e,r,i,n)});else if(t.isLiteral()){let i=BE(e,r,t);n.add(i)}};function Cf(e){let r=e?.name;if(typeof r!="string"||r===""||r.startsWith("aria")||r.startsWith("data-"))return!1;if(r.startsWith("on")&&r.length>2){let t=r.charAt(2);if(t.toUpperCase()===t)return!1}return!ME.has(r.toLowerCase())}var ME=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(e=>e.toLowerCase()));function qt(e,r,t){for(let n of t.properties){if(!e.ts.isPropertyAssignment(n))continue;let i=ke(e,n);if(i==="name"&&e.ts.isStringLiteral(n.initializer)){r.name=n.initializer.text;continue}if(i==="description"&&e.ts.isStringLiteral(n.initializer)){r.description=n.initializer.text;continue}if(i==="image"&&e.ts.isStringLiteral(n.initializer)){r.image=n.initializer.text;continue}if(i==="inputs"&&e.ts.isArrayLiteralExpression(n.initializer)){let s=$E(e,n.initializer);Qt(r,s);continue}if(i==="meta"&&e.ts.isObjectLiteralExpression(n.initializer)){let s=As(e,n.initializer);s&&typeof s=="object"&&(r.meta=s);continue}}return r}function $E(e,r){let t=[];for(let n of r.elements)e.ts.isObjectLiteralExpression(n)&&t.push(UE(e,n));return t}function UE(e,r){let t=As(e,r),n=GE(t);return n.isRegistered=!0,n}function ct(e,r,t){let n=KE(t);return r=Si(e,r,"name",n.name,!1),r=Si(e,r,"description",n.description),r=Si(e,r,"image",n.image),r=Si(e,r,"meta",n.meta),r=jE(e,r,n),HE(e,r)}function jE(e,r,t){let n=null,i=r.properties.filter(a=>e.ts.isPropertyAssignment(a)&&e.ts.isIdentifier(a.name)),s=i.findIndex(a=>e.ts.isIdentifier(a.name)&&a.name.text==="inputs"),o=[...t.inputs??[]];if(s>-1){if(o.length===0)return Si(e,r,"inputs",null);let a=i[s];e.ts.isPropertyAssignment(a)&&e.ts.isArrayLiteralExpression(a.initializer)&&(n=a.initializer)}return o.length===0?r:(n=zE(e,n||e.ts.factory.createArrayLiteralExpression(),o),s>-1?i[s]=e.ts.factory.updatePropertyAssignment(i[s],i[s].name,n):i.push(e.ts.factory.createPropertyAssignment("inputs",n)),e.ts.factory.updateObjectLiteralExpression(r,i))}function KE(e){return{name:e.name,description:e.description,image:e.image,inputs:(e.inputs||[]).filter(t=>t.isRegistered).map(VE),...e.meta?{meta:{...e.meta}}:{}}}function VE(e){let r={name:e.name,type:e.type};return(Lt(e.defaultValue)||Ds(e.defaultValue)||xi(e.defaultValue))&&(r.defaultValue=e.defaultValue),Lt(e.friendlyName)&&(r.friendlyName=e.friendlyName),Lt(e.helperText)&&(r.helperText=e.helperText),e.required===!0&&(r.required=!0),Array.isArray(e.enum)&&(r.enum=e.enum),e.hideFromUI===!0&&(r.hideFromUI=!0),typeof e.meta=="object"&&e.meta!=null&&Object.keys(e.meta).length>0&&(r.meta=e.meta),r}function zE(e,r,t){let n=r.elements.filter(i=>{if(!e.ts.isObjectLiteralExpression(i))return!1;let s=i.properties.find(a=>ke(e,a)==="name");if(!s)return!1;let o=s.initializer;return e.ts.isStringLiteral(o)?t.some(a=>a.name===o.text):!1});for(let i of t)n=qE(e,n,i);return n.sort((i,s)=>{let o=i.properties.find(d=>ke(e,d)==="name"),a=s.properties.find(d=>ke(e,d)==="name"),l=o?.initializer,u=a?.initializer,c=l&&e.ts.isStringLiteral(l)?l.text:"zz",p=u&&e.ts.isStringLiteral(u)?u.text:"zz";return c.toLowerCase().localeCompare(p.toLowerCase())}),e.ts.factory.updateArrayLiteralExpression(r,n)}function qE(e,r,t){let n=r.findIndex(i=>i.properties.some(s=>{let o=ke(e,s);return e.ts.isPropertyAssignment(s)&&o==="name"&&e.ts.isStringLiteral(s.initializer)&&s.initializer.text===t.name}));if(n>-1)r[n]=Sf(e,r[n],t);else{let i=Sf(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("name",e.ts.factory.createStringLiteral(t.name))],!0),t);r.push(i)}return r}function Sf(e,r,t){let n=r.properties.filter(s=>e.ts.isPropertyAssignment(s)),i=Object.keys(t).filter(s=>s!=="isRegistered");for(let s of i)n=WE(e,n,t,s);return n=JE(e,n.filter(s=>{let o=ke(e,s);return i.includes(o)})),e.ts.factory.updateObjectLiteralExpression(r,n)}function WE(e,r,t,n){let i=r.findIndex(s=>e.ts.isIdentifier(s.name)&&s.name.text===n);return i>-1?r[i]=e.ts.factory.updatePropertyAssignment(r[i],r[i].name,ws(e,t[n])):r.push(e.ts.factory.createPropertyAssignment(n,ws(e,t[n]))),r}function Qt(e,r){for(let t of r){let n=e.inputs.findIndex(i=>i.name===t.name);n>-1?(t.isRegistered||!e.inputs[n].isRegistered)&&(e.inputs[n]=t):e.inputs.push(t)}e.acceptsChildren=lu(e)}function GE(e){let r=au(e.type),t={name:e.name.trim(),type:r.builderType};return Lt(e.friendlyName)&&e.friendlyName.trim()!==e.name.trim()&&(t.friendlyName=e.friendlyName),(Lt(e.defaultValue)||Ds(e.defaultValue)||xi(e.defaultValue))&&(t.defaultValue=e.defaultValue),Lt(e.helperText)&&(t.helperText=e.helperText),xi(e.required)&&(t.required=e.required),typeof e.meta=="object"&&e.meta!=null&&Object.keys(e.meta).length>0&&(t.meta=e.meta),Array.isArray(e.enum)&&e.enum.length>0&&(t.enum=e.enum),e.hideFromUI===!0&&(t.hideFromUI=!0),uu(t)}function lu(e){let r=e.inputs.some(n=>n.name==="children"),t=e.inputs.some(n=>n.meta?.ts==="ReactNode");return!!(r||t||e.acceptsChildren===!0)}function uu(e){if(e.name==="children"&&(e.hideFromUI=!0,delete e.required),e.type==="object"&&e.defaultValue==null&&(e.hideFromUI=!0),e.type==="list"&&e.defaultValue==null&&(e.hideFromUI=!0),e.meta){let r=e.meta.ts;typeof r=="string"&&(r=r.trim(),r.endsWith("ReactNode")&&(r="ReactNode"),e.meta.ts=r,r==="ReactNode"&&(e.hideFromUI=!0))}return e}function HE(e,r){let t=[...r.properties].sort((n,i)=>{let s=ke(e,n)||"zz",o=ke(e,i)||"zz";if(s==="inputs")return 1;let a=wf.indexOf(s),l=wf.indexOf(o);return a>-1?l>-1&&a>l?1:-1:l>-1?a>-1&&l<a?-1:1:s.localeCompare(o)});return e.ts.factory.updateObjectLiteralExpression(r,t)}var wf=["component","name","description"];function JE(e,r){return[...r].sort((n,i)=>{let s=ke(e,n)||"zz",o=ke(e,i)||"zz",a=Af.indexOf(s),l=Af.indexOf(o);return a>-1?l>-1&&a>l?1:-1:l>-1?a>-1&&l<a?-1:1:s.localeCompare(o)})}var Af=["name","type"];function wi(e,r){for(let t of r.properties){if(!e.ts.isPropertyAssignment(t)||!e.ts.isIdentifier(t.name))continue;if(ke(e,t)==="canHaveChildren"){let{initializer:i}=t;return i.kind===e.ts.SyntaxKind.TrueKeyword}}return!1}function vf(e,r){let t=`Builder.registerComponent(
`;if(e.appDir)r.acceptsChildren?t+=`  withChildren(${r.importName}),
`:t+=`  ${r.importName},
`;else{let i=r.externalImportPath?r.externalImportPath:Se(e,e.registryPath,r.filePath);r.exportName==="default"?r.acceptsChildren?t+=`  withChildren(dynamic(() => import(${JSON.stringify(i)}))),
`:t+=`  dynamic(() => import(${JSON.stringify(i)})),
`:r.acceptsChildren?t+=`  withChildren(dynamic(async () => (await import(${JSON.stringify(i)})).${r.exportName})),
`:t+=`  dynamic(async () => (await import(${JSON.stringify(i)})).${r.exportName}),
`}t+=`  {
    name: "${r.name}",
  }
`,t+=");";let n=Go(e,t);return cu(e,n,r)}function cu(e,r,t){if(!e.ts.isExpressionStatement(r))return r;let n=r.expression;if(!e.ts.isCallExpression(n))return r;let i=[...n.arguments];if(i.length<2)return r;t.acceptsChildren?e.ts.isCallExpression(i[0])&&e.ts.isIdentifier(i[0].expression)&&i[0].expression.text==="withChildren"||(i[0]=e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("withChildren"),void 0,[i[0]])):e.ts.isCallExpression(i[0])&&e.ts.isIdentifier(i[0].expression)&&i[0].expression.text==="withChildren"&&(i[0]=i[0].arguments[0]);let s=i[1];return e.ts.isObjectLiteralExpression(s)?(i[1]=ct(e,s,t),e.ts.factory.updateExpressionStatement(r,e.ts.factory.updateCallExpression(n,n.expression,n.typeArguments,i))):r}b();function Ce(e,r,t,n="esm"){return Array.isArray(t.namedImports)&&t.namedImports.forEach(i=>{r=YE(e,r,i,t.importPath,!!t.isTypeOnly,n)}),typeof t.defaultImport=="string"&&(r=XE(e,r,t.defaultImport,t.importPath,n)),r}function YE(e,r,t,n,i,s){return s==="cjs"?Pf(e,r,null,t,n):Tf(e,r,null,t,n,i)}function XE(e,r,t,n,i){return i==="cjs"?Pf(e,r,t,null,n):Tf(e,r,t,null,n,!1)}function Tf(e,r,t,n,i,s){let o=[...r.statements],a=0,l=!1,u=!1;for(let m=0;m<o.length;m++){let f=o[m];if(!e.ts.isImportDeclaration(f)||(a=m,!f.moduleSpecifier||!e.ts.isStringLiteral(f.moduleSpecifier))||f.moduleSpecifier.text!==i||!!f.importClause?.isTypeOnly!==s)continue;let h=[],g=f.importClause?.namedBindings;if(g&&e.ts.isNamedImports(g)&&g.elements&&h.push(...g.elements),typeof n=="string"){if(h.some(x=>x.name.text===n))return r;h.push(e.ts.factory.createImportSpecifier(!1,void 0,e.ts.factory.createIdentifier(n))),h.sort((x,C)=>x.name.text.localeCompare(C.name.text)),l=!0}let y=f.importClause?f.importClause.name:void 0;if(typeof t=="string"){if(y&&y.text===t)return r;y=e.ts.factory.createIdentifier(t),u=!0}if(l||u)return o[m]=e.ts.factory.updateImportDeclaration(f,void 0,e.ts.factory.createImportClause(s,y,e.ts.factory.createNamedImports(h)),f.moduleSpecifier,void 0),e.ts.factory.updateSourceFile(r,o)}let c,p;typeof t=="string"&&(c=e.ts.factory.createIdentifier(t)),typeof n=="string"&&(p=e.ts.factory.createNamedImports([e.ts.factory.createImportSpecifier(!1,void 0,e.ts.factory.createIdentifier(n))]));let d=e.ts.factory.createImportDeclaration(void 0,e.ts.factory.createImportClause(s,c,p),e.ts.factory.createStringLiteral(i));return o.splice(a,0,d),e.ts.factory.updateSourceFile(r,o)}function Pf(e,r,t,n,i){let s=[...r.statements],o=0;for(let a=0;a<s.length;a++){let l=s[a];if(e.ts.isVariableStatement(l))for(let u=0;u<l.declarationList.declarations.length;u++){let c=[...l.declarationList.declarations],p=c[u],d=p.initializer;if(!d||!e.ts.isCallExpression(d))continue;let m=d.expression;if(!e.ts.isIdentifier(m)||m.text!=="require"||d.arguments.length!==1)continue;let f=d.arguments[0];if(e.ts.isStringLiteral(f)&&(o=a,f.text===i)){if(e.ts.isIdentifier(p.name)&&typeof t=="string")return p.name.text===t?r:(c[u]=e.ts.factory.updateVariableDeclaration(p,e.ts.factory.createIdentifier(t),p.exclamationToken,p.type,p.initializer),s[a]=e.ts.factory.updateVariableStatement(l,l.modifiers,e.ts.factory.updateVariableDeclarationList(l.declarationList,c)),e.ts.factory.updateSourceFile(r,s));if(e.ts.isObjectBindingPattern(p.name)&&typeof n=="string"){let h=[...p.name.elements];return h.some(y=>!e.ts.isBindingElement(y)||!e.ts.isIdentifier(y.name)?!1:y.name.text===n)?r:(h.push(e.ts.factory.createBindingElement(void 0,void 0,n)),h.sort((y,x)=>!e.ts.isBindingElement(y)||!e.ts.isIdentifier(y.name)||!e.ts.isBindingElement(x)||!e.ts.isIdentifier(x.name)?0:y.name.text.localeCompare(x.name.text)),c[u]=e.ts.factory.updateVariableDeclaration(p,e.ts.factory.createObjectBindingPattern(h),p.exclamationToken,p.type,p.initializer),s[a]=e.ts.factory.updateVariableStatement(l,l.modifiers,e.ts.factory.updateVariableDeclarationList(l.declarationList,c)),e.ts.factory.updateSourceFile(r,s))}}}}if(typeof t=="string"){let a=e.ts.factory.createVariableStatement(void 0,e.ts.factory.createVariableDeclarationList([e.ts.factory.createVariableDeclaration(t,void 0,void 0,e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("require"),void 0,[e.ts.factory.createStringLiteral(i)]))],e.ts.NodeFlags.Const));return s.splice(o,0,a),e.ts.factory.updateSourceFile(r,s)}if(typeof n=="string"){let a=e.ts.factory.createVariableStatement(void 0,e.ts.factory.createVariableDeclarationList([e.ts.factory.createVariableDeclaration(e.ts.factory.createObjectBindingPattern([e.ts.factory.createBindingElement(void 0,void 0,n)]),void 0,void 0,e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("require"),void 0,[e.ts.factory.createStringLiteral(i)]))],e.ts.NodeFlags.Const));return s.splice(o,0,a),e.ts.factory.updateSourceFile(r,s)}return r}b();b();b();function Xn(e,r,t="esm"){return t==="cjs"?ZE(e,r):QE(e,r)}function QE(e,r){let t=[];for(let n of r.statements){if(e.ts.isExportDeclaration(n)){if(n.exportClause&&e.ts.isNamedExports(n.exportClause)){for(let i of n.exportClause.elements)if(n.moduleSpecifier&&t.push({isDefaultExport:!1,statement:n,node:i}),e.ts.isIdentifier(i.name)){let s=i.name.text;for(let o of r.statements)if(e.ts.isVariableStatement(o))for(let a of o.declarationList.declarations)e.ts.isIdentifier(a.name)&&a.name.text===s&&t.push({isDefaultExport:!1,statement:o,node:o});else e.ts.isFunctionDeclaration(o)&&o.name&&o.name.text===s&&t.push({isDefaultExport:!1,statement:o,node:o})}}else!n.exportClause&&n.moduleSpecifier&&t.push({isDefaultExport:!1,statement:n,node:n});continue}if(e.ts.isExportAssignment(n)){let i=n.flags===e.ts.NodeFlags.None,s=n.expression;if(e.ts.isIdentifier(s)){let o=s.text;for(let a of r.statements){if(e.ts.isVariableStatement(a))for(let l of a.declarationList.declarations)e.ts.isIdentifier(l.name)&&l.name.text===o&&t.push({isDefaultExport:i,statement:a,node:a});e.ts.isFunctionDeclaration(a)&&a.name?.text===o&&t.push({isDefaultExport:i,statement:a,node:a})}}else(e.ts.isArrowFunction(s)||e.ts.isCallExpression(s)||e.ts.isFunctionDeclaration(s)||e.ts.isObjectLiteralExpression(s))&&t.push({isDefaultExport:i,statement:n,node:s});continue}if((e.ts.isVariableStatement(n)||e.ts.isFunctionDeclaration(n))&&n.modifiers&&n.modifiers.some(i=>i.kind===e.ts.SyntaxKind.ExportKeyword)){t.push({isDefaultExport:n.modifiers.some(i=>i.kind===e.ts.SyntaxKind.DefaultKeyword),statement:n,node:n});continue}}return t}function ZE(e,r){let t=[];for(let n of r.statements)if(e.ts.isExpressionStatement(n)&&e.ts.isBinaryExpression(n.expression)&&e.ts.isPropertyAccessExpression(n.expression.left)){let i=n.expression.left,s=n.expression.right;if(!e.ts.isIdentifier(i.expression))continue;if(i.expression.text==="module"&&i.name.text==="exports"){if(e.ts.isIdentifier(s)){let o=s.text;for(let a of r.statements)if(e.ts.isVariableStatement(a))for(let l of a.declarationList.declarations)e.ts.isIdentifier(l.name)&&l.name.text===o&&t.push({isDefaultExport:!0,statement:a,node:a});else e.ts.isFunctionDeclaration(a)&&a.name&&a.name.text===o&&t.push({isDefaultExport:!0,statement:a,node:a})}else t.push({isDefaultExport:!0,statement:n,node:s});continue}}return t}b();function eC(e,r,t){for(let n of r.statements)if(e.ts.isImportDeclaration(n)&&n.importClause){if(n.importClause.namedBindings&&e.ts.isNamedImports(n.importClause.namedBindings)){for(let i of n.importClause.namedBindings.elements)if(e.ts.isIdentifier(i.name)&&i.name.text===t&&e.ts.isStringLiteral(n.moduleSpecifier))return{importPath:n.moduleSpecifier.text,exportType:"named"}}if(n.importClause.name&&n.importClause.name.text===t&&e.ts.isStringLiteral(n.moduleSpecifier))return{importPath:n.moduleSpecifier.text,exportType:"default"}}return null}async function Fr(e,r,t,n){let i=eC(e,t,n);if(i){let s=await vs(e,e.normalize(e.resolve(e.dirname(r),i.importPath))),o=e.relative(e.getAppRootDir(),s);return{displayFilePath:Fe(e,s),filePath:s,relFilePath:o,importPath:i.importPath,exportType:i.exportType}}return null}function Ai(e,r,t){for(let n=0;n<r.statements.length;n++){let i=r.statements[n];if(e.ts.isVariableStatement(i)){for(let s of i.declarationList.declarations)if(e.ts.isIdentifier(s.name)&&s.name.text===t)return{statement:i,statementIndex:n}}}return null}function at(e,r,t){let n=Ai(e,r,t);if(n&&n.statement.declarationList.declarations.length>0){let i=n.statement.declarationList.declarations[0];if(i.initializer&&e.ts.isArrayLiteralExpression(i.initializer))return{statement:n.statement,statementIndex:n.statementIndex,variableDeclaration:i,arrayLiteralExp:i.initializer}}return null}function Xo(e,r){if(r){if(tC(e,r))return!0;let t=!1;if(r.forEachChild(n=>{Xo(e,n)&&(t=!0)}),t)return!0}return!1}function tC(e,r){return e.ts.isJsxElement(r)||e.ts.isJsxOpeningElement(r)||e.ts.isJsxOpeningFragment(r)||e.ts.isJsxSelfClosingElement(r)||e.ts.isJsxFragment(r)||e.ts.isJsxChild(r)}async function vs(e,r){let t=e.extname(r).toLowerCase();if(t===""||!pu.includes(t)){for(let n of pu){let i=r+n;if(await e.exists(i))return i}for(let n of pu){let i=e.join(r,"index"+n);if(await e.exists(i))return i}}return r}var pu=[".tsx",".jsx",".ts",".js"];b();function vi(e,r,t){if(!t||!r)return;let n=r.getSymbolAtLocation(t);if(!n)return;let i=n.valueDeclaration;if(!i)return;let s=i.getSourceFile().fileName,o=rC(e,s);return o?[{name:o}]:void 0}function rC(e,r){if(typeof r=="string"){r=e.normalize(hr(r));let t=r.split("/"),n=t.lastIndexOf("node_modules");if(n>-1){let i=t.slice(n+1),s=i[0];if(s)return s.startsWith("@")&&i[1]&&(s+="/"+i[1]),s}}}function kr(e){let r=[];for(let t of e)if(t.dependencies)for(let n of t.dependencies)r.some(i=>i.name===n.name)||r.push({...n});return r.sort((t,n)=>t.name.localeCompare(n.name))}b();function If(e,r,t="esm"){return t==="cjs"?sC(e,r):iC(e,r)}var nC=/^(@\w|\w)/;function iC(e,r){let t=[];for(let n of r.statements)if(e.ts.isImportDeclaration(n)&&e.ts.isLiteralExpression(n.moduleSpecifier)){if(!nC.test(n.moduleSpecifier.text)||n.importClause?.isTypeOnly)continue;if(n.importClause&&n.importClause.namedBindings&&e.ts.isNamedImports(n.importClause.namedBindings))for(let i of n.importClause.namedBindings.elements)i.isTypeOnly||t.push({isDefaultExport:!1,statement:n,node:i.name});n.importClause&&n.importClause.name&&t.push({isDefaultExport:!0,statement:n,node:n.importClause.name})}return t}function sC(e,r){return[]}async function Ti(e,r){if(!r.some(o=>!o.isRegistered))return r;let n=await ut(e,r.map(o=>o.filePath)),i=n.getTypeChecker();return await Promise.all(r.map(async o=>{let a=n.getSourceFile(o.filePath);if(a){let u=(await Tn(e,i,o.filePath,a,!1)).find(c=>c.cmpInfo.id===o.id);u&&(o.inputs=Yn(e,i,u.node.fnNode))}return o}))}async function Pi(e,r,t,n){if(r.node.fnNode){let{sourceFile:i,typeChecker:s}=await Ci(e,r.cmpInfo.filePath,t),a=(await Tn(e,s,r.cmpInfo.filePath,i,n)).find(l=>l.cmpInfo.id===r.cmpInfo.id);if(!a)throw new Error(`createComponentInputs() Could not find component ${r.cmpInfo.name} in ${r.cmpInfo.filePath}`);return Yn(e,s,a.node.fnNode)}return[]}async function Ff(e,r,t){let n=e.extname(r).toLowerCase();if(n===".tsx"||n===".jsx"||n===".ts"||n===".js"){let i=await e.readFile(r);if(i)return oC(e,r,i,t)}return null}function oC(e,r,t,n=!1){let i=Ee(e,t);return Tn(e,null,r,i,n)}async function Tn(e,r,t,n,i){let s=[];for(let a of n.statements)if(e.ts.isExpressionStatement(a)&&e.ts.isStringLiteral(a.expression)&&a.expression.text==="use server")return s;let o=Xn(e,n);return i&&o.push(...If(e,n)),t=e.normalize(t),await Promise.all(o.map(async a=>{let l=await aC(e,r,t,a);s.push(...l)})),s}async function aC(e,r,t,n){let i=[],s=e.relative(e.getAppRootDir(),t),o=$e(e,t);if(e.ts.isVariableStatement(n.node)){for(let a of n.node.declarationList.declarations){if(!e.ts.isIdentifier(a.name)||!Ei(a.name.text))continue;let l=rn(e,r,a.initializer);if(l){let u=l.name||a.name.text,c=n.isDefaultExport?"default":u,p=n.isDefaultExport?"default":"named";i.push({cmpInfo:{id:await Ue(e,t,c),displayFilePath:Fe(e,t),name:Ve(u),inputs:[],exportName:c,exportType:p,importName:u,filePath:t,relFilePath:s,importPath:o,dependencies:l.deps,framework:"react"},node:l})}}return i}if(e.ts.isArrowFunction(n.node)){let a=rn(e,r,n.node);if(a){let l=or(e,t),u=n.isDefaultExport?"default":l,c=n.isDefaultExport?"default":"named";i.push({cmpInfo:{id:await Ue(e,t,u),displayFilePath:Fe(e,t),name:l,inputs:[],exportName:u,exportType:c,importName:Hn(e,t),filePath:t,relFilePath:s,importPath:o,dependencies:a.deps,framework:"react"},node:a})}return i}if(e.ts.isFunctionExpression(n.node)||e.ts.isFunctionDeclaration(n.node)){let a=n.node.name?.text;if(a&&!Ei(a))return i;let l=rn(e,r,n.node);if(l){let u=l.name||or(e,t),c=n.isDefaultExport||!l.name?"default":l.name,p=n.isDefaultExport?"default":"named";i.push({cmpInfo:{id:await Ue(e,t,c),displayFilePath:Fe(e,t),name:u,inputs:[],exportName:c,exportType:p,importName:l.name||Hn(e,t),filePath:t,relFilePath:s,importPath:o,dependencies:l.deps,framework:"react"},node:l})}return i}if((e.ts.isExportSpecifier(n.node)||e.ts.isIdentifier(n.node))&&Ei(n.node.getText())){let a,l=rn(e,r,n.node);if(l){let u=l.name||or(e,t),c=n.isDefaultExport||!l.name?"default":l.name,p=n.isDefaultExport?"default":"named",d=lC(e,n.node)?.moduleSpecifier??uC(e,n.node)?.moduleSpecifier;if(d&&e.ts.isStringLiteral(d)){let m=r?.getSymbolAtLocation(d);if(m&&m.declarations&&m.declarations.length>0){let f=m.declarations[0];(!e.ts.isSourceFile(f)||e.ts.isSourceFile(f)&&f.fileName.includes("node_modules"))&&(a=d.text)}}i.push({cmpInfo:{id:await Ue(e,t,c,a),displayFilePath:Fe(e,t),name:u,inputs:[],exportName:c,exportType:p,importName:l.name||Hn(e,t),filePath:t,relFilePath:s,importPath:a||o,externalImportPath:a,dependencies:l.deps,framework:"react"},node:l})}return i}if(e.ts.isExportDeclaration(n.node)&&n.node.exportClause===void 0){let a=n.node.moduleSpecifier;if(a&&e.ts.isStringLiteral(a)){let l=await pC(e,r,t,a);i.push(...l)}return i}return i}function lC(e,r){for(;r;){if(e.ts.isExportDeclaration(r))return r;r=r.parent}return null}function uC(e,r){for(;r;){if(e.ts.isImportDeclaration(r))return r;r=r.parent}return null}function rn(e,r,t){if(!t)return null;if(e.ts.isArrowFunction(t))return Xo(e,t.body)?{name:"",fnNode:t,deps:vi(e,r,t)}:null;if(e.ts.isFunctionExpression(t)||e.ts.isFunctionDeclaration(t))return Xo(e,t.body)?{name:t.name?.text||"",fnNode:t,deps:vi(e,r,t)}:null;if(e.ts.isCallExpression(t)){let n=t.expression;if(e.ts.isPropertyAccessExpression(n)){let i=t.arguments;if(i.length===0)return null;let s=n.expression;if(!e.ts.isIdentifier(s)||s.text!=="React")return null;let o=n.name;return!e.ts.isIdentifier(o)||o.text!=="forwardRef"?null:rn(e,r,i[0])}else if(e.ts.isIdentifier(n)&&n.text==="observer"){let i=t.arguments;return i.length===0?null:rn(e,r,i[0])}return null}if(!r)return null;if(e.ts.isPropertyAccessExpression(t)){let n=t.expression,i=t.name;if(!e.ts.isIdentifier(n)||!e.ts.isIdentifier(i)||!Ei(i.text))return null;let o=r.getTypeAtLocation(i).getCallSignatures();if(o.length>0&&o[0].getParameters().length>0)return{name:"",fnNode:i,deps:vi(e,r,i)}}if(e.ts.isExportSpecifier(t)){let n=t.name;return{name:n.text||"",fnNode:n,deps:vi(e,r,n)}}if(e.ts.isIdentifier(t))return{name:t.text||"",fnNode:t,deps:vi(e,r,t)};if(e.ts.isExpressionStatement(t)){let n=t.expression;if(e.ts.isAsExpression(n)&&e.ts.isIdentifier(n.type)&&n.type.text==="default")return rn(e,r,n.expression)}if(e.ts.isVariableStatement(t)){for(let n of t.declarationList.declarations)if(n.initializer&&e.ts.isAsExpression(n.initializer)){let i=n.initializer;if(e.ts.isIdentifier(i.type)&&i.type.text==="default"){let s=rn(e,r,i.expression);if(s&&e.ts.isIdentifier(n.name))return{name:n.name.text,fnNode:s.fnNode,deps:s.deps}}}}return null}async function kf(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker();return await Promise.all(n.map(async s=>{let o=e.normalize(s.fileName);if(Ho(e,cC,s.fileName)||o===e.reactConfigPath||o===e.builderComponentPath)return;let a=await Tn(e,i,o,s,o===e.registryPath);t.push(...a)})),t.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var cC=new Set(["node_modules","dist"]);async function pC(e,r,t,n){let i=[],s=n.text;if(!r)return i;try{let o=r.getSymbolAtLocation(n);if(!o)return i;let a=r.getExportsOfModule(o);for(let l of a){let u=l.valueDeclaration||l.declarations?.[0];if(!u)continue;let c=l.name;if(!Ei(c)&&c!=="default"||!_f(e,r,u))continue;let p=rn(e,r,u);if(p){let d=l.name,m=d==="default"?"default":"named",f=Ve(d),h=d==="default"?Hn(e,t):d;i.push({cmpInfo:{id:await Ue(e,t,d,s),displayFilePath:Fe(e,t),name:f,inputs:[],exportName:d,exportType:m,importName:h,filePath:t,relFilePath:e.relative(e.getAppRootDir(),t),importPath:s,externalImportPath:s,dependencies:p.deps,framework:"react"},node:p})}}}catch(o){e.Sentry?.captureException(new Error(`Error processing module ${s}:`,{cause:o}),{extra:{modulePath:s,filePath:t}})}return i}function _f(e,r,t){if(e.ts.isInterfaceDeclaration(t)||e.ts.isTypeAliasDeclaration(t))return!1;if(e.ts.isExportSpecifier(t)){let n=r.getSymbolAtLocation(t.name);if(n){let s=r.getAliasedSymbol(n).declarations?.[0];if(s)return _f(e,r,s)}return!1}if(e.ts.isFunctionDeclaration(t)||e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t)){let n=r.getSignatureFromDeclaration(t);if(n){let i=r.getReturnTypeOfSignature(n);return Nf(i,r)}}return e.ts.isClassDeclaration(t)?t.heritageClauses?.some(i=>i.types.some(s=>s.expression.getText()==="React.Component"||s.expression.getText()==="Component"))??!1:e.ts.isVariableDeclaration(t)?r.getTypeAtLocation(t).getCallSignatures().some(s=>Nf(r.getReturnTypeOfSignature(s),r)):!1}function Nf(e,r){let t=r.typeToString(e);return t==="JSX.Element"||t==="Element"||t.includes("ReactElement")||t.includes("React.ReactElement")||t.includes("ReactNode")}async function Of(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker();return await Promise.all(n.map(async s=>{let o=e.basename(s.fileName);if(e.appDir&&dC.has(o)||e.dirname(s.fileName).includes("node_modules"))return;let a=e.normalize(s.fileName);if(a===e.nextConfigPath||a===e.builderComponentPath)return;let l=await Tn(e,i,a,s,a===e.registryPath||vt(a));t.push(...l)})),t.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var dC=new Set(["default.tsx","default.ts","default.jsx","default.js","error.tsx","error.ts","error.jsx","error.js","layout.tsx","layout.ts","layout.jsx","layout.js","loading.tsx","loading.ts","loading.jsx","loading.js","not-found.tsx","not-found.ts","not-found.jsx","not-found.js","page.tsx","page.ts","page.jsx","page.js","route.tsx","route.ts","route.jsx","route.js","template.tsx","template.ts","template.jsx","template.js"]);b();function _r(e,r){let t=[],n=[],i=[],s=[];for(let o of r.statements){if(e.ts.isImportDeclaration(o)){if(e.ts.isStringLiteral(o.moduleSpecifier)){let l=o.moduleSpecifier.text;if(!l.startsWith(".")&&!l.startsWith("/")){t.push(o);continue}}let a=o.importClause;if(a){if(a.namedBindings){n.push(o);continue}if(a.name){n.push(o);continue}}i.push(o);continue}s.push(o)}return e.ts.factory.updateSourceFile(r,[...du(e,t),...du(e,n),...du(e,i),...s])}function gr(e){let r=e.split(`
`).map(n=>n.trimEnd());e="";let t=!1;for(let n=r.length-1;n>=0;n--){let i=r[n];!t&&i.startsWith("import ")&&(t=!0,i=i+`
`),/^builder.init(.*)$/.test(i)&&(i=i+`
`),r[n-1]&&!r[n-1].includes("*/")&&(i.trim().startsWith("Builder.registerComponent")&&(i=`
`+i),i.trim().startsWith("/**")&&(i=`
`+i),i.trim().startsWith("module.exports")&&(i=`
`+i),i.trim().startsWith("export ")&&(i=`
`+i)),e=i+`
`+e}return e.trim()+`
`}function du(e,r){return r.sort((t,n)=>{let i=Rf(e,t),s=Rf(e,n);return i.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())})}function Rf(e,r){let t=r.importClause;if(t){let n=t.namedBindings;if(n&&e.ts.isNamedImports(n)&&n.elements.length>0)return n.elements[0].name.text;if(t.name)return t.name.text}return r.moduleSpecifier&&e.ts.isStringLiteral(r.moduleSpecifier)?r.moduleSpecifier.text:""}function Bf(e){return typeof e=="string"&&!e.includes("'use client'")&&!e.includes(`"use client"'`)&&(e=`"use client"
${e}`),e}function Mf(e,r){let t=r.statements.filter(n=>!(e.ts.isExpressionStatement(n)&&e.ts.isStringLiteral(n.expression)&&e.ts.isStringLiteral(n.expression)&&n.expression.text==="use client"));return e.ts.factory.updateSourceFile(r,t)}function Or(e,r){return r.sort((t,n)=>{if(e.ts.isObjectLiteralExpression(t)&&e.ts.isObjectLiteralExpression(n)){let i=Lf(e,t),s=Lf(e,n);return i.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())}return 1})}function Lf(e,r){let t=r.properties.find(n=>ke(e,n)==="name");return t&&e.ts.isPropertyAssignment(t)&&e.ts.isStringLiteral(t.initializer)?t.initializer.text:"zzzz"}b();async function $f(e){let r=await e.readFile(e.registryPath);return r?fC(e,r):{components:[],sourceFile:Ee(e,"")}}async function fC(e,r){let t=Ee(e,r);return e.sdkVersion===re.gen2?hC(e,t):mC(e,t)}async function mC(e,r){let t=[];for(let n=0;n<r.statements.length;n++){let i=r.statements[n];if(!e.ts.isExpressionStatement(i))continue;let s=i.expression;if(!e.ts.isCallExpression(s))continue;let o=s.expression;if(!e.ts.isPropertyAccessExpression(o))continue;let a=o.expression;if(!e.ts.isIdentifier(a)||a.text!=="Builder"||o.name.text!=="registerComponent")continue;let u=s.arguments;if(u.length<2)continue;let c=u[1];if(!e.ts.isObjectLiteralExpression(c))continue;let p=u[0];if(e.ts.isCallExpression(p)){let d=e.ts.isIdentifier(p.expression)&&p.expression.text;if(d==="withChildren"){let f=hu(e,p.arguments[0]);if(e.ts.isCallExpression(f)){let h=await fu(e,n,f,c,!0);h&&t.push(h)}else{let h=f;if(e.ts.isIdentifier(h)){let g=await mu(e,r,n,h,c,!0);g&&t.push(g)}}continue}if(d==="dynamic"){let f=await fu(e,n,p,c,!1);f&&t.push(f);continue}let m=hu(e,p.arguments[0]);if(e.ts.isCallExpression(m)&&e.ts.isIdentifier(m.expression)&&m.expression.text==="dynamic"){let f=await fu(e,n,m,c,!1);f&&t.push(f);continue}if(e.ts.isIdentifier(m)){let f=await mu(e,r,n,m,c,!1);f&&t.push(f);continue}continue}if(e.ts.isIdentifier(p)){let d=await mu(e,r,n,p,c,!1);d&&t.push(d);continue}}return{sourceFile:r,components:zt(t)}}function hu(e,r){return e.ts.isCallExpression(r)?(e.ts.isIdentifier(r.expression)&&r.expression.text)==="dynamic"?r:hu(e,r.arguments[0]):r}async function fu(e,r,t,n,i){let s={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:r,acceptsChildren:i,framework:"react"},o=t.arguments;if(o.length===0)return null;let a=o[0];if(!e.ts.isArrowFunction(a))return null;let l=a.body;if(e.ts.isCallExpression(l)){if(l.expression.kind!==e.ts.SyntaxKind.ImportKeyword||l.arguments.length!==1)return null;let c=l.arguments[0];if(!e.ts.isStringLiteral(c))return null;let p=c.text,d=await Ii(e,p);s.filePath=d,s.relFilePath=e.relative(e.getAppRootDir(),s.filePath),await e.exists(d)?s.importPath=$e(e,s.filePath):(s.externalImportPath=p,s.importPath=s.externalImportPath),s.name=or(e,s.filePath),s.importName="default",s.exportName="default",s.exportType="default"}else if(e.ts.isPropertyAccessExpression(l)){let u=l.expression;if(!e.ts.isParenthesizedExpression(u))return null;let c=u.expression;if(!e.ts.isAwaitExpression(c))return null;let p=c.expression;if(!e.ts.isCallExpression(p)||p.expression.kind!==e.ts.SyntaxKind.ImportKeyword||p.arguments.length!==1)return null;let m=p.arguments[0];if(!e.ts.isStringLiteral(m)||!e.ts.isIdentifier(l.name))return null;let f=m.text,h=await Ii(e,f);s.filePath=h,s.relFilePath=e.relative(e.getAppRootDir(),s.filePath),await e.exists(h)?s.importPath=$e(e,s.filePath):(s.externalImportPath=f,s.importPath=s.externalImportPath),s.name=Ve(l.name.text),s.importName=l.name.text,s.exportName=l.name.text,s.exportType="named"}else return null;return s=qt(e,s,n),s.displayFilePath=Fe(e,s.filePath),s.filePath&&s.exportName&&(s.id=await Ue(e,s.filePath,s.exportName,s.externalImportPath)),s}async function mu(e,r,t,n,i,s){let o={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:t,acceptsChildren:s,framework:"react"},a=r.statements.filter(u=>e.ts.isImportDeclaration(u)),l=a.find(u=>u.importClause&&u.importClause.name?.text===n.text);if(l){let u=l.moduleSpecifier;if(!e.ts.isStringLiteral(u))return null;let c=await Ii(e,u.text);o.filePath=c,o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),await e.exists(c)?o.importPath=$e(e,o.filePath):(o.externalImportPath=u.text,o.importPath=o.externalImportPath),o.name=or(e,o.filePath),o.importName=n.text,o.exportName="default",o.exportType="default"}else{let u=a.find(d=>!d.importClause||!d.importClause.namedBindings||!e.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(m=>m.name.text===n.text));if(!u)return null;let c=u.moduleSpecifier;if(!e.ts.isStringLiteral(c))return null;let p=await Ii(e,c.text);o.filePath=p,o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),await e.exists(p)?o.importPath=$e(e,o.filePath):(o.externalImportPath=c.text,o.importPath=o.externalImportPath),o.name=Ve(n.text),o.importName=n.text,o.exportName=n.text,o.exportType="named"}return o=qt(e,o,i),o.displayFilePath=Fe(e,o.filePath),o.filePath&&o.exportName&&(o.id=await Ue(e,o.filePath,o.exportName,o.externalImportPath)),o}function Ii(e,r){return vs(e,e.normalize(e.resolve(e.dirname(e.registryPath),r)))}function Uf(e,r,t){let n=!1,i=0,s=[...r.statements];for(let u=0;u<s.length;u++){let c=s[u];if(e.ts.isImportDeclaration(c)){i=u;continue}if(!e.ts.isExpressionStatement(c))continue;let p=c.expression;if(!e.ts.isCallExpression(p))continue;let d=p.expression;if(!e.ts.isPropertyAccessExpression(d))continue;let m=d.expression;if(!e.ts.isIdentifier(m)||m.text!=="builder")continue;if(d.name.text=="init"){n=!0;break}else continue}if(n)return r;let o=e.ts.factory.createPropertyAccessExpression(e.ts.factory.createPropertyAccessExpression(e.ts.factory.createIdentifier("process"),e.ts.factory.createIdentifier("env")),e.ts.factory.createIdentifier(Nr)),a=t?e.ts.factory.createNonNullExpression(o):o,l=e.ts.factory.createExpressionStatement(e.ts.factory.createCallExpression(e.ts.factory.createPropertyAccessExpression(e.ts.factory.createIdentifier("builder"),e.ts.factory.createIdentifier("init")),void 0,[a]));return s.splice(i+1,0,l),e.ts.factory.updateSourceFile(r,s)}async function hC(e,r){let t=[],n=at(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await gu(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:zt(t)}}async function gu(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1,framework:"react"};wi(e,t)&&(n.acceptsChildren=!0);for(let s of t.properties){if(!e.ts.isPropertyAssignment(s)||!e.ts.isIdentifier(s.name))continue;if(ke(e,s)==="component"){let a,{initializer:l}=s;if(e.ts.isCallExpression(l)&&(e.ts.isIdentifier(l.expression)&&l.expression.text)==="dynamic"){let m=l.arguments;if(m.length===0)return null;let f=m[0];if(!e.ts.isArrowFunction(f))return null;let h=f.body;if(e.ts.isCallExpression(h)){if(h.expression.kind!==e.ts.SyntaxKind.ImportKeyword||h.arguments.length!==1)return null;let y=h.arguments[0];if(!e.ts.isStringLiteral(y))return null;let x=y.text,C=await Ii(e,x);n.filePath=C,n.relFilePath=e.relative(e.getAppRootDir(),n.filePath),await e.exists(C)?n.importPath=$e(e,n.filePath):(n.externalImportPath=x,n.importPath=n.externalImportPath),n.name=or(e,n.filePath),n.importName="default",n.exportName="default",n.exportType="default"}else if(e.ts.isPropertyAccessExpression(h)){let g=h.expression;if(!e.ts.isParenthesizedExpression(g))return null;let y=g.expression;if(!e.ts.isAwaitExpression(y))return null;let x=y.expression;if(!e.ts.isCallExpression(x)||x.expression.kind!==e.ts.SyntaxKind.ImportKeyword||x.arguments.length!==1)return null;let D=x.arguments[0];if(!e.ts.isStringLiteral(D)||!e.ts.isIdentifier(h.name))return null;let E=D.text,S=await Ii(e,E);n.filePath=S,n.relFilePath=e.relative(e.getAppRootDir(),n.filePath),await e.exists(S)?n.importPath=$e(e,n.filePath):(n.externalImportPath=E,n.importPath=n.externalImportPath),n.name=Ve(h.name.text),n.importName=h.name.text,n.exportName=h.name.text,n.exportType="named"}else return null;return n=qt(e,n,t),n.displayFilePath=Fe(e,n.filePath),n.filePath&&n.exportName&&(n.id=await Ue(e,n.filePath,n.exportName,n.externalImportPath)),n}if(e.ts.isIdentifier(l)&&(a=l.text),!a)continue;n.name===""&&(n.name=Ve(a)),n.importName=a;let u=await Fr(e,e.registryPath,r,a);if(!u)continue;n.filePath=u.filePath,n.relFilePath=u.relFilePath,await e.exists(u.filePath)?n.importPath=$e(e,u.filePath):(n.externalImportPath=u.importPath,n.importPath=n.externalImportPath),n.importPath=$e(e,u.filePath),n.displayFilePath=u.displayFilePath,n.exportType=u.exportType;let c=r.statements.filter(d=>e.ts.isImportDeclaration(d)),p=c.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!e.ts.isStringLiteral(d))return null;n.exportName="default"}else{let d=c.find(f=>!f.importClause||!f.importClause.namedBindings||!e.ts.isNamedImports(f.importClause.namedBindings)?!1:f.importClause.namedBindings.elements.some(h=>h.name.text===a));if(!d)return null;let m=d.moduleSpecifier;if(!e.ts.isStringLiteral(m))return null;n.exportName=a}continue}}return n=qt(e,n,t),n.filePath&&n.exportName&&(n.id=await Ue(e,n.filePath,n.exportName,n.externalImportPath)),n}b();function Rr(e,r){let t=[...r.statements],n=!1;for(let i=r.statements.length-1;i>=0;i--){let s=r.statements[i];if(e.ts.isImportDeclaration(s)&&s.importClause){let o=!1,a=s.importClause.namedBindings;if(a&&e.ts.isNamedImports(a)&&a.elements){let l=[...a.elements];for(let u=l.length-1;u>=0;u--){let c=l[u];if(e.ts.isImportSpecifier(c)){let p=c.name;if(p&&e.ts.isIdentifier(p)){let d=p.text;jf(e,r,d)||l.splice(u,1)}}}if(l.length===0)o=!0;else if(a.elements.length!==l.length){let u=e.ts.factory.updateImportClause(s.importClause,!1,s.importClause.name,e.ts.factory.createNamedImports(l)),c=e.ts.factory.updateImportDeclaration(s,void 0,u,s.moduleSpecifier,void 0);t[i]=c,n=!0}}else if(s.importClause.name&&e.ts.isIdentifier(s.importClause.name)){let l=s.importClause.name.text;jf(e,r,l)||(o=!0)}o&&(t.splice(i,1),n=!0)}}return n?e.ts.factory.updateSourceFile(r,t):r}function jf(e,r,t){let n=!1;function i(s){if(!e.ts.isImportDeclaration(s)){if(e.ts.isIdentifier(s)&&s.text===t){n=!0;return}e.ts.forEachChild(s,i)}}return e.ts.forEachChild(r,i),n}b();function Lr(e,r,t,n,i,s,o){let a=null,l=null,u=null,c=-1;r=Yt(r),t=Yt(t);let p=r.find(m=>m.id===e),d=t.find(m=>m.id===e);if(n)d||(a={...Yt(p),inputs:Yt(p.inputs).map(m=>(m.isRegistered=!0,m))},c=t.length,t.push(a));else if(typeof d?.nodeIndex=="number"&&d.nodeIndex>-1){if(i)c=d.nodeIndex,l=Yt(d),t=t.filter(m=>m.id!==e);else if(s!=null)gC(d,s),c=d.nodeIndex,u=d;else if(o!=null){let m=d.inputs.find(f=>f.name===o.name);m&&(o.registerInput===!1?m.isRegistered=!1:(yC(m,o),m.isRegistered=!0),u=d,c=d.nodeIndex)}}return{addCmpToRegistry:a,removeCmpFromRegistry:l,updateRegisteredCmp:u,nodeIndex:c,components:yr(r,t)}}function yr(e,r){let t=zt([...r.map(n=>(n.isRegistered=!0,n)),...e.filter(n=>!r.some(i=>i.id===n.id)).map(n=>(n.isRegistered=!1,n))]);return t.forEach(n=>{n.inputs=n.inputs.map(uu),n.inputs.sort((o,a)=>o.name.toLowerCase().localeCompare(a.name.toLowerCase()));let i=r.find(o=>o.id===n.id);i&&(i.acceptsChildren=lu(n));let s=e.find(o=>o.id===n.id&&o.externalImportPath);s&&(n.filePath=s.filePath,n.relFilePath=s.relFilePath)}),t}function gC(e,r){Lt(r.name)?e.name=r.name:r.name===null&&(e.name=e.importName),Lt(r.description)?e.description=r.description:r.description===null&&delete e.description,Lt(r.image)?e.image=r.image:r.image===null&&delete e.image}function yC(e,r){Lt(r.type)&&(e.type=r.type),Lt(r.friendlyName)?e.friendlyName=r.friendlyName:r.friendlyName===null&&delete e.friendlyName,Lt(r.defaultValue)||Ds(r.defaultValue)||xi(r.defaultValue)?e.defaultValue=r.defaultValue:r.defaultValue===null&&delete e.defaultValue,Lt(r.helperText)?e.helperText=r.helperText:r.helperText===null&&delete e.helperText,r.required===!0?e.required=r.required:(r.required===null||r.required===!1)&&delete e.required}b();async function Pn(e){let r=new Set,t=async i=>{let s=await e.readdir(i);await Promise.all(s.map(async o=>{if(o.startsWith(".")||o==="node_modules")return;let a=e.join(i,o),l=e.extname(o).toLowerCase();if(l===".tsx"||l===".jsx"||l===".ts"||l===".js"){r.add(a);return}(await e.stat(a)).isDirectory()&&await t(a)}))};return await t(e.getAppRootDir()),await ut(e,[...r])}b();function Br(e,r,t){return Ai(e,r,t.variableName)?r:bC(e,r,t)}function bC(e,r,t){let n=typeof t.arrayType=="string"?e.ts.factory.createArrayTypeNode(e.ts.factory.createTypeReferenceNode(t.arrayType,void 0)):void 0,i=e.ts.factory.createArrayLiteralExpression([]),s=e.ts.factory.createVariableDeclaration(t.variableName,void 0,n,i),o=e.ts.factory.createVariableDeclarationList([s],e.ts.NodeFlags.Const),a=e.ts.factory.createModifier(e.ts.SyntaxKind.ExportKeyword),l=e.ts.factory.createVariableStatement([a],o),u=[...r.statements,l];return e.ts.factory.updateSourceFile(r,u)}async function Mr(e,r,t,n,i,s,o,a){let l=await Pn(e),[u,c,p,d]=await Promise.all([Of(e,l),$f(e),Xt(e),Cs(e)]),m=u.map(C=>C.cmpInfo),f=c.components,h={components:yr(m,f),registryPath:e.registryPath,registryDisplayPath:Fe(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:kr(m),publicApiKey:d.envValue??void 0,devToolsVersion:e.version};if(a)return h.components=await Ti(e,h.components),h;let g=!1,y=c.sourceFile,x=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(x.length>0){let C=x.map(S=>{let v=u.find(O=>O.cmpInfo.id===S);if(!v)throw new Error(`Component ${S} not found`);return v}),D=Array.from(new Set(C.map(S=>S.cmpInfo.filePath))),E=await ut(e,D);for(let S of C){let v=h.components.find(V=>V.id===S.cmpInfo.id),O=await Pi(e,S,E,e.registryPath===S.cmpInfo.filePath||vt(S.cmpInfo.filePath));Qt(v,O);let B=m.findIndex(V=>V.id===S.cmpInfo.id);m[B].inputs=O;let k=Lr(S.cmpInfo.id,m,f,t,n,i,s);if(e.sdkVersion===re.gen2){let{elements:V,elmIndex:ne,statementIndex:se,statement:H,variableDeclaration:j}=await EC(e,y,S);if(k.addCmpToRegistry)V.push(xC(e,k.addCmpToRegistry)),g=!0;else if(k.removeCmpFromRegistry)V.splice(ne,1),g=!0;else if(k.updateRegisteredCmp){let ie=ct(e,V[ne],k.updateRegisteredCmp);V[ne]=e.ts.factory.updateObjectLiteralExpression(ie,[Vf(e,k.updateRegisteredCmp),...ie.properties.slice(1)]),g=!0}if(g&&o){let ie=[...y.statements];ie[se]=e.ts.factory.updateVariableStatement(H,H.modifiers,e.ts.factory.updateVariableDeclarationList(H.declarationList,[e.ts.factory.updateVariableDeclaration(j,j.name,j.exclamationToken,j.type,e.ts.factory.createArrayLiteralExpression(Or(e,V)))])),y=e.ts.factory.updateSourceFile(y,ie),y=Kf(e,k,y),y=Ce(e,y,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-react",isTypeOnly:!0}),y=Br(e,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),h.components=k.components,f=k.components.filter(I=>I.isRegistered)}}else{let V=[...y.statements];k.addCmpToRegistry?(V.push(vf(e,k.addCmpToRegistry)),g=!0):k.removeCmpFromRegistry?(V.splice(k.nodeIndex,1),g=!0):k.updateRegisteredCmp&&(V[k.nodeIndex]=cu(e,V[k.nodeIndex],k.updateRegisteredCmp),g=!0),g&&o&&(y=e.ts.factory.updateSourceFile(y,V),y=Ce(e,y,{namedImports:["Builder","builder"],importPath:"@builder.io/react"}),y=Uf(e,y,p),y=Kf(e,k,y),v?.acceptsChildren&&(y=Ce(e,y,{namedImports:["withChildren"],importPath:"@builder.io/react"})),h.components=k.components,f=k.components.filter(ne=>ne.isRegistered))}}}if(g&&o){y=Rr(e,y),y=_r(e,y),e.appDir&&(y=Mf(e,y));let C=dt(e,y);C=gr(C),e.appDir&&(C=Bf(C)),C=await e.formatCode(e.registryPath,C),await e.writeFile(e.registryPath,C)}return h}function Vf(e,r){let t=e.ts.factory.createIdentifier(r.importName);return e.appDir?e.ts.factory.createPropertyAssignment("component",t):e.ts.factory.createPropertyAssignment("component",CC(e,r))}function DC(e){return e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())}function xC(e,r){return ct(e,e.ts.factory.createObjectLiteralExpression([Vf(e,r),...r.acceptsChildren?[DC(e)]:[]],!0),r)}async function EC(e,r,t){let n=at(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await gu(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}function Kf(e,r,t){if(e.appDir){let n=r.addCmpToRegistry||r.updateRegisteredCmp;if(n){let i=n.externalImportPath?n.externalImportPath:Se(e,e.registryPath,n.filePath);n.exportType==="default"?t=Ce(e,t,{defaultImport:n.importName,importPath:i}):n.exportType==="named"&&(t=Ce(e,t,{namedImports:[n.importName],importPath:i}))}}else t=Ce(e,t,{defaultImport:"dynamic",importPath:"next/dynamic"});return t}function CC(e,r){let t=r.externalImportPath?r.externalImportPath:Se(e,e.registryPath,r.filePath),n=r.exportName!=="default",i;n?i=e.ts.factory.createPropertyAccessExpression(e.ts.factory.createAwaitExpression(e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("import"),void 0,[e.ts.factory.createStringLiteral(t)])),e.ts.factory.createIdentifier(r.exportName)):i=e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("import"),void 0,[e.ts.factory.createStringLiteral(t)]);let s=e.ts.factory.createArrowFunction(n?[e.ts.factory.createModifier(e.ts.SyntaxKind.AsyncKeyword)]:void 0,void 0,[],void 0,e.ts.factory.createToken(e.ts.SyntaxKind.EqualsGreaterThanToken),i);return e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("dynamic"),void 0,[s])}b();async function qf(e){let r=[],t=await TC(e,r);return await Yf(e,r,t),e.appDir?(e.debug(`ensure builder setup for next.js app ${e.appDir}`),await wC(e,e.appDir,r)):e.pagesDir&&(e.debug(`ensure builder setup for next.js pages ${e.pagesDir}`),await AC(e,e.pagesDir,r)),r}async function Wf(e){let r=[];return await Yf(e,r),e.appDir?(e.debug(`ensure figma-imports setup for next.js app ${e.appDir}`),await SC(e,e.appDir,r)):e.pagesDir&&(e.debug(`ensure figma-imports setup for next.js pages ${e.pagesDir}`),await vC(e,e.pagesDir,r)),r}async function SC(e,r,t){let n=`page.${e.typescriptEnabled?"tsx":"jsx"}`,i=e.join(r,"figma-imports",n);if(!await e.exists(i)){let s=await e.formatCode(i,Hf({sys:e,routePath:i,modelName:"figma-imports"}));await e.writeFile(i,s),t.push({filePath:i,modifiedType:"create"})}if(!await e.exists(e.builderComponentPath)){let s=await e.formatCode(e.builderComponentPath,Gf(e));await e.writeFile(e.builderComponentPath,s),t.push({filePath:e.builderComponentPath,modifiedType:"create"})}}async function wC(e,r,t){let n=`page.${e.typescriptEnabled?"tsx":"jsx"}`,i=e.join(r,"[...page]",n);if(!await e.exists(i)){let s=await e.formatCode(i,Hf({sys:e,routePath:i,modelName:"page"}));await e.writeFile(i,s),t.push({filePath:i,modifiedType:"create"})}if(!await e.exists(e.builderComponentPath)){let s=await e.formatCode(e.builderComponentPath,Gf(e));await e.writeFile(e.builderComponentPath,s),t.push({filePath:e.builderComponentPath,modifiedType:"create"})}}function Gf(e){let r=e.typescriptEnabled;return e.sdkVersion===re.gen2?`
  "use client";
  import { ${r?"BuilderContent, ":""} isPreviewing, Content } from "@builder.io/sdk-react";
  import DefaultErrorPage from "next/error";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(Se(e,e.builderComponentPath,e.registryPath))};
  ${r?`
interface BuilderPageProps {
      content: BuilderContent | null;
      model: string;
      }`:""}

  // Builder Public API Key set in .env file
  const builderApiKey = process.env.${Nr}${r?"!":""};

  export function RenderBuilderContent({ content, model }${r?": BuilderPageProps":""}) {
    // Call the isPreviewing hook to determine if
    // the page is being previewed in Builder
    // If "content" has a value or the page is being previewed in Builder,
    // render the BuilderComponent with the specified content and model props.
    if (content || isPreviewing()) {
      return <Content
        content={content}
        apiKey={builderApiKey}
        model={model}
        customComponents={CUSTOM_COMPONENTS}
      />;
    }
    // If the "content" is falsy and the page is
    // not being previewed in Builder, render the
    // DefaultErrorPage with a 404.
    return <DefaultErrorPage statusCode={404} />;
  }
  `.trimStart():`
"use client";
${r?'import { ComponentProps } from "react";':""}
import { BuilderComponent, useIsPreviewing } from "@builder.io/react";
import { ${r?"BuilderContent, ":""}builder } from '@builder.io/sdk';
import DefaultErrorPage from "next/error";
import ${JSON.stringify(Se(e,e.builderComponentPath,e.registryPath))};
${r?`
type BuilderPageProps = ComponentProps<typeof BuilderComponent>;`:""}

// Builder Public API Key set in .env file
builder.init(process.env.${Nr}${r?"!":""});

export function RenderBuilderContent({ content, model }${r?": BuilderPageProps":""}) {
  // Call the useIsPreviewing hook to determine if
  // the page is being previewed in Builder
  const isPreviewing = useIsPreviewing();
  // If "content" has a value or the page is being previewed in Builder,
  // render the BuilderComponent with the specified content and model props.
  if (content || isPreviewing) {
    return <BuilderComponent content={content} model={model} />;
  }
  // If the "content" is falsy and the page is
  // not being previewed in Builder, render the
  // DefaultErrorPage with a 404.
  return <DefaultErrorPage statusCode={404} />;
}
`.trimStart()}function zf(e){return e.features.asyncParams?`
interface PageProps {
      params: Promise<{
        page: string[];
      }>;
    }`:`
interface PageProps {
      params: {
        page: string[];
      };
    }`}function Hf({sys:e,routePath:r,modelName:t}){let n=e.typescriptEnabled,i=Se(e,r,e.builderComponentPath);return e.sdkVersion===re.gen2?`
import { fetchOneEntry } from "@builder.io/sdk-react";
import { RenderBuilderContent } from ${JSON.stringify(i)};

// Builder Public API Key set in .env file
const PUBLIC_API_KEY = process.env.${Nr}${n?"!":""};

${n?zf(e):""}

export default async function Page(props${n?": PageProps":""}) {
  const builderModelName = "${t}";

  // Use the page path specified in the URL to fetch the content
  const urlPath = "/" + (${e.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || "");

  const content = await fetchOneEntry({
   // Get the page content from Builder with the specified options
    apiKey: PUBLIC_API_KEY,
    model: builderModelName,
    userAttributes: { urlPath },
  });

  return (
    <>
      {/* Render the Builder page */}
      <RenderBuilderContent content={content} model={builderModelName} />
    </>
  );
}
`.trimStart():`
import { builder } from "@builder.io/sdk";
import { RenderBuilderContent } from ${JSON.stringify(i)};

// Builder Public API Key set in .env file
builder.init(process.env.${Nr}${n?"!":""});
${n?zf(e):""}

export default async function Page(props${n?": PageProps":""}) {
  const builderModelName = "${t}";

  const content = await builder
    // Get the page content from Builder with the specified options
    .get(builderModelName, {
      userAttributes: {
        // Use the page path specified in the URL to fetch the content
        urlPath: "/" + (${e.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || ""),
      },
    })
    // Convert the result to a promise
    .toPromise();

  return (
    <>
      {/* Render the Builder page */}
      <RenderBuilderContent content={content} model={builderModelName} />
    </>
  );
}
`.trimStart()}async function AC(e,r,t){let n=`[...page].${e.typescriptEnabled?"tsx":"jsx"}`,i=e.join(r,n);if(!await e.exists(i)){let s=await e.formatCode(i,Jf({sys:e,routePath:i,modelName:"page"}));await e.writeFile(i,s),t.push({filePath:i,modifiedType:"create"})}}async function vC(e,r,t){let n=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`,i=e.join(r,n);if(!await e.exists(i)){let s=await e.formatCode(i,Jf({sys:e,routePath:i,modelName:"figma-imports"}));await e.writeFile(i,s),t.push({filePath:i,modifiedType:"create"})}}function Jf({sys:e,routePath:r,modelName:t}){let n=e.typescriptEnabled;return e.sdkVersion===re.gen2?`
import React from "react";
import { useRouter } from "next/router";
${n?'import type { BuilderContent } from "@builder.io/sdk-react";':""}
import {
  Content,
  fetchEntries,
  fetchOneEntry,
  isPreviewing,
} from "@builder.io/sdk-react";
import DefaultErrorPage from "next/error";
import Head from "next/head";
${n?'import { GetStaticProps } from "next";':""}
import { CUSTOM_COMPONENTS } from ${JSON.stringify(Se(e,e.builderComponentPath,e.registryPath))};

const BUILDER_API_KEY = process.env.${Nr}${n?"!":""};

// Define a function that fetches the Builder
// content for a given page
export const getStaticProps${n?": GetStaticProps":""} = async ({ params }) => {
  ${e.features.asyncParams?"await params;":""}
  const urlPath =
    "/" +
    (Array.isArray(params?.page) ? params.page.join("/") : params?.page || "");

  // Fetch the builder content for the given page
  const page = await fetchOneEntry({
    apiKey: BUILDER_API_KEY,
    model: "${t}",
    userAttributes: { urlPath },
  });

  return {
    // Return the page content as props
    props: { page },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${t==="page"?`
// Define a function that generates the
// static paths for all pages in Builder
export async function getStaticPaths() {
  // Get a list of all pages in Builder
  const pages = await fetchEntries({
    apiKey: BUILDER_API_KEY,
    model: "page",
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });
  // Generate the static paths for all pages in Builder
  return {
    paths: pages.map((page) => \`\${page.data?.url}\`),
    fallback: "blocking",
  };
}
`:""}

// Define the Page component
export default function Page(props${n?": { page: BuilderContent | null }":""}) {
  const router = useRouter();
  const canShowContent = props.page || isPreviewing(router.asPath);

  // If the page content is not available
  // and not in preview/editing mode, show a 404 error page
  if (!canShowContent) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the BuilderComponent with the page content
  return (
    <>
      <Head>
        <title>{props.page?.data?.title}</title>
      </Head>
      {/* Render the Builder page */}
      <Content
        model="${t}"
        content={props.page}
        apiKey={BUILDER_API_KEY}
        customComponents={CUSTOM_COMPONENTS}
      />
    </>
  );
}

    `:`
import React from "react";
import { useRouter } from "next/router";
import { BuilderComponent, builder, useIsPreviewing } from "@builder.io/react";
import DefaultErrorPage from "next/error";
import Head from "next/head";${n?`
import { BuilderContent } from "@builder.io/sdk";`:""}${n?`
import { GetStaticProps } from "next";`:""}
import ${JSON.stringify(Se(e,r,e.registryPath))};

builder.init(process.env.${Nr}${n?"!":""});

// Define a function that fetches the Builder
// content for a given page
export const getStaticProps${n?": GetStaticProps":""} = async ({ params }) => {
  ${e.features.asyncParams?"await params;":""}
  // Fetch the builder content for the given page
  const page = await builder
    .get("${t}", {
      userAttributes: {
        urlPath: "/" + ((params?.page${n?" as string[]":""})?.join("/") || ""),
      },
    })
    .toPromise();

  // Return the page content as props
  return {
    props: {
      page: page || null,
    },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${t==="page"?`// Define a function that generates the
// static paths for all pages in Builder
export async function getStaticPaths() {
  // Get a list of all pages in Builder
  const pages = await builder.getAll("page", {
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });

  // Generate the static paths for all pages in Builder
  return {
    paths: pages.map((page) => String(page.data?.url)).filter(url => url !== '/'),
    fallback: 'blocking',
  };
}`:""}

// Define the Page component
export default function Page({ page }${n?": { page: BuilderContent | null }":""}) {
  const router = useRouter();
  const isPreviewing = useIsPreviewing();

  // If the page content is not available
  // and not in preview mode, show a 404 error page
  if (!page && !isPreviewing) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the BuilderComponent with the page content
  return (
    <>
      <Head>
        <title>{page?.data?.title}</title>
      </Head>
      {/* Render the Builder page */}
      <BuilderComponent model="${t}" content={page || undefined} />
    </>
  );
}
`.trimStart()}async function TC(e,r){let n=e.typescriptEnabled?"tsx":"jsx",i=e.join(e.componentsDir,"Counter"),s=e.join(i,`Counter.${n}`),o=e.join(i,"styles.module.css"),{component:a,styles:l}=PC(e);if(!await e.exists(s)){let u=await e.formatCode(s,a);await e.writeFile(s,u),r.push({filePath:s,modifiedType:"create"})}return await e.exists(o)||(await e.writeFile(o,l),r.push({filePath:o,modifiedType:"create"})),s}function PC(e){let r=e.typescriptEnabled,t=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${r?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${r?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:t,styles:n}}async function Yf(e,r,t){if(!await e.exists(e.registryPath)){if(e.sdkVersion===re.gen2){let s=IC(e);await e.writeFile(e.registryPath,s)}else await e.writeFile(e.registryPath,"");r.push({filePath:e.registryPath,modifiedType:"create"})}if(!t)return;let i=(await Mr(e,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===t);i&&await Mr(e,i.id,!0,!1,null,null,!0,!1)}function IC(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@builder.io/sdk-react";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}b();async function Ni(e){let r=await tn(e,e.getRepoRootDir());if(r&&typeof r=="object"){let t=new Set(Object.keys({...r.dependencies,...r.devDependencies}));if(t.has("@builder.io/sdk-react"))return re.gen2;if(t.has("@builder.io/react"))return re.gen1}return null}async function Xf(e){let r=await NC(e);return{builderPageOptions:async()=>({templateContentId:"3de2f13211234071a4b19a17b4fbc5a7",pathname:"/builder-demo",title:"Builder + Next.js Demo Page"}),ensureBuilderSetup:()=>qf(r),ensureFigmaImportPage:()=>Wf(r),getRegistryPath:()=>r.registryPath,getRegistry:n=>Mr(r,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{r.addExternalPackage(n)},loadComponent:async n=>{let i=await Mr(r,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Mr(r,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Mr(r,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Mr(r,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Mr(r,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Cs(r),setPublicApiKey:n=>xf(r,n.publicApiKey),getDependencies:n=>n.sdkVersion===re.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-react"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/react"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Pr(r),setCache:n=>Ir(r,n)}}async function NC(e){let r=e.getAppRootDir(),t=e.join(r,"src"),n=await FC(e),i=await Xt(e),s=e.getFrameworks().find(u=>u.name==="next"),o={asyncParams:s?.version?.major!==void 0&&s.version.major>=15},a={},l={...e,addExternalPackage:u=>{a[e.join(r,u,"index.ts")]=`export * from "${u}";`},readFileSync:u=>a[u]??e.readFileSync(u),existsSync:u=>!!a[u]||e.existsSync(u),readdirSync:u=>{let c=e.readdirSync(u);return u===r?[...c,...Object.keys(a).map(p=>p.slice(r.length+1))]:c},readdir:async u=>{let c=await e.readdir(u);return u===r?[...c,...Object.keys(a).map(p=>p.slice(r.length+1))]:c},appDir:null,pagesDir:null,srcDir:null,builderComponentPath:"",componentsDir:"",registryPath:"",nextConfigPath:n,typescriptEnabled:i,features:o};if(e.sdkVersion?l.sdkVersion=e.sdkVersion:l.sdkVersion=await Ni(l),await e.exists(t)){l.srcDir=t,l.componentsDir=e.join(t,"components");let u=e.join(t,"app");await e.exists(u)&&(l.appDir=u);let c=e.join(t,"pages");await e.exists(c)&&(l.pagesDir=c),l.registryPath=await lr(e,t)}else l.componentsDir=e.join(r,"components"),l.registryPath=await lr(e,r);if(l.builderComponentPath=e.join(l.componentsDir,`builder.${i?"tsx":"jsx"}`),!l.appDir){let u=e.join(r,"app");await e.exists(u)&&(l.appDir=u)}if(!l.pagesDir){let u=e.join(r,"pages");await e.exists(u)&&(l.pagesDir=u)}if(!l.appDir&&!l.pagesDir&&!e.ignoreMissingConfig)throw new Error(`Could not find Next.js "app" or "pages" directory. Searched in "${r}".`);return l}async function FC(e){let r=e.join(e.getAppRootDir(),"next.config.ts");if(await e.exists(r))return r;let t=e.join(e.getAppRootDir(),"next.config.mjs");if(await e.exists(t))return t;let n=e.join(e.getAppRootDir(),"next.config.js");if(await e.exists(n))return n;throw new Error(`Could not find Next.js config file. Searched for "next.config.ts", "next.config.mjs" and "next.config.js" in "${e.getAppRootDir()}".`)}b();b();async function Ts(e){return await An(e,[".env"],Zf)}async function Qf(e,r){kC(r);let t=await Ts(e),n=await vn(e,t.file,t.envKey,r);return{...t,modifiedType:n}}function kC(e){typeof process<"u"&&(process.env[Zf]=e)}var Zf="PUBLIC_BUILDER_API_KEY";b();b();function em(e,r,t){if(t.length===0)return e;let n=e.split(`
`),i=n.findIndex(a=>a.includes(t));if(i===-1||n.some(a=>a.includes(r[0])))return e;let o=["/**",...r.map(a=>` * ${a.trim()}`)," */"];return n.splice(i,0,...o),n.join(`
`)}b();async function rm(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker();return await Promise.all(n.map(async s=>{let o=e.basename(s.fileName);if(o.startsWith(".")||RC.has(o))return;let a=e.normalize(s.fileName);if(a===e.registryPath)return;let l=await Qo(e,i,a,s);t.push(...l)})),t}async function nm(e,r){if(e.extname(r).toLowerCase()===".tsx"){let n=await e.readFile(r);if(n)return _C(e,r,n)}return null}function _C(e,r,t){let n=Ee(e,t);return Qo(e,null,r,n)}async function Qo(e,r,t,n){t=e.normalize(t);let i=[],s=Xn(e,n);return await Promise.all(s.map(async o=>{let a=await OC(e,r,t,o);a&&i.push(a)})),i}async function OC(e,r,t,n){let i=e.relative(e.getAppRootDir(),t),s=$e(e,t);if(e.ts.isVariableStatement(n.node))for(let o of n.node.declarationList.declarations){let a=tm(e,o.initializer);if(a&&e.ts.isIdentifier(o.name)){let l=o.name.text;return{cmpInfo:{id:await Ue(e,t,l),displayFilePath:Fe(e,t),name:Ve(l),inputs:[],exportName:n.isDefaultExport?"default":l,exportType:n.isDefaultExport?"default":"named",importName:l,filePath:t,relFilePath:i,importPath:s,framework:"qwik"},node:a}}}else if(e.ts.isCallExpression(n.node)){let o=tm(e,n.node);if(o)return{cmpInfo:{id:await Ue(e,t,"default"),displayFilePath:Fe(e,t),name:or(e,t),inputs:[],exportName:"default",exportType:"default",importName:Hn(e,t),filePath:t,relFilePath:i,importPath:s,framework:"qwik"},node:o}}return null}function tm(e,r){if(r&&e.ts.isCallExpression(r)&&e.ts.isIdentifier(r.expression)&&r.expression.text==="component$"&&r.arguments.length>0){let t=r.arguments[0];if(e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t))return{callExpression:r,fnNode:t}}return null}var RC=new Set(["node_modules","layout.tsx","404.tsx","router-head.tsx"]);b();async function im(e,r){let t=r.node.fnNode;if((e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t))&&t.parameters.length>0){let{sourceFile:i,typeChecker:s}=await Ci(e,r.cmpInfo.filePath,null);if(!(await Qo(e,s,r.cmpInfo.filePath,i)).find(l=>l.cmpInfo.id===r.cmpInfo.id))throw new Error(`createComponentInputs() Could not find component ${r.cmpInfo.name} in ${r.cmpInfo.filePath}`);return Yn(e,s,t)}return[]}b();b();async function sm(e){return yu(e)}async function yu(e){let r=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,LC),r.push({filePath:e.registryPath,modifiedType:"create"})),r}var LC=`import type { RegisteredComponent } from "@builder.io/sdk-qwik";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];
`;async function om(e){await yu(e);let r=await e.readFile(e.registryPath);return r?BC(e,r):{components:[],sourceFile:Ee(e,"")}}async function BC(e,r){let t=Ee(e,r);return MC(e,t)}async function MC(e,r){let t=[],n=at(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await bu(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:zt(t)}}async function bu(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],framework:"qwik"};for(let i of t.properties){if(!e.ts.isPropertyAssignment(i)||!e.ts.isIdentifier(i.name))continue;if(ke(e,i)==="component"&&e.ts.isIdentifier(i.initializer)){let o=i.initializer.text;n.name===""&&(n.name=Ve(o)),n.importName=o;let a=await Fr(e,e.registryPath,r,o);if(!a)continue;n.filePath=a.filePath,n.relFilePath=a.relFilePath,n.importPath=$e(e,a.filePath),n.displayFilePath=a.displayFilePath,n.exportType=a.exportType;let l=await nm(e,a.filePath);if(l&&l.length>0)if(l.length===1)n.exportName=l[0].cmpInfo.exportName;else{let u=l.find(c=>c.cmpInfo.exportName===o);u&&(n.exportName=u.cmpInfo.exportName)}continue}}return n=qt(e,n,t),n.filePath&&n.exportName&&(n.id=await Ue(e,n.filePath,n.exportName)),n}b();async function am(e){let r=new Set,t=async i=>{let s=await e.readdir(i);await Promise.all(s.map(async o=>{if(o.startsWith(".")||o==="node_modules")return;let a=e.join(i,o),l=e.extname(o).toLowerCase();if(l===".tsx"||l===".ts"){r.add(a);return}(await e.stat(a)).isDirectory()&&await t(a)}))};return await t(e.getAppRootDir()),await ut(e,[...r])}async function Qn(e,r,t,n,i,s,o,a){let l=await am(e),[u,c,p]=await Promise.all([rm(e,l),om(e),Ts(e)]),d=u.map(h=>h.cmpInfo),m=c.components,f={components:yr(d,m),registryPath:e.registryPath,registryDisplayPath:Fe(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:kr(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return f;if(r!=null){let h=u.find(k=>k.cmpInfo.id===r);if(!h)throw new Error(`Component ${r} not found`);let g=c.sourceFile,y=f.components.find(k=>k.id===r),x=await im(e,h);console.log("sourceInputs",x),Qt(y,x),r=Array.isArray(r)?r[0]:r;let C=Lr(r,d,m,t,n,i,s),{elements:D,elmIndex:E,statementIndex:S,statement:v,variableDeclaration:O}=await UC(e,g,h),B=!1;if(C.addCmpToRegistry?(D.push($C(e,C.addCmpToRegistry)),B=!0):C.removeCmpFromRegistry?(D.splice(E,1),B=!0):C.updateRegisteredCmp&&(D[E]=ct(e,D[E],C.updateRegisteredCmp),B=!0),B&&o){let k=[...g.statements];k[S]=e.ts.factory.updateVariableStatement(v,v.modifiers,e.ts.factory.updateVariableDeclarationList(v.declarationList,[e.ts.factory.updateVariableDeclaration(O,O.name,O.exclamationToken,O.type,e.ts.factory.createArrayLiteralExpression(Or(e,D)))])),g=e.ts.factory.updateSourceFile(g,k),y.exportType==="named"?g=Ce(e,g,{namedImports:[y.importName],importPath:Se(e,e.registryPath,y.filePath)}):g=Ce(e,g,{defaultImport:y.importName,importPath:Se(e,e.registryPath,y.filePath)}),g=Ce(e,g,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-qwik",isTypeOnly:!0}),g=Br(e,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),g=Rr(e,g),g=_r(e,g);let V=dt(e,g);V=gr(V),V=em(V,jC,"CUSTOM_COMPONENTS"),V=await e.formatCode(e.registryPath,V),await e.writeFile(e.registryPath,V)}f.components=C.components}return f}function $C(e,r){return ct(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("component",e.ts.factory.createIdentifier(r.importName))],!0),r)}async function UC(e,r,t){let n=at(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await bu(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}var jC=["This array is used to integrate custom components within Builder.","https://www.builder.io/c/docs/custom-components-intro","",'These components will be found the "Custom Components"',"section of Builder's visual editor.",'You can also turn on "components only mode" to limit',"editing to only these components.","https://www.builder.io/c/docs/guides/components-only-mode"];async function lm(e){let r=await KC(e);return{builderPageOptions:async()=>({templateContentId:"dc70f1d979ad416d8fd357137eb9ddfb",pathname:"/",title:"Builder + Qwik Demo Page"}),ensureBuilderSetup:()=>sm(r),ensureFigmaImportPage:async()=>[],getRegistryPath:()=>r.registryPath,getRegistry:n=>Qn(r,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:async n=>{},loadComponent:async n=>{let i=await Qn(r,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Qn(r,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Qn(r,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Qn(r,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Qn(r,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Ts(r),setPublicApiKey:n=>Qf(r,n.publicApiKey),getDependencies:n=>[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-qwik"}],getDevRunCommand:()=>"dev",getCache:()=>Pr(r),setCache:n=>Ir(r,n)}}async function KC(e){let r=await xs(e,e.getAppRootDir(),"components");if(!r)throw new Error(`Could not find components directory within project: ${e.getAppRootDir()}`);let t=await lr(e,r),n=e.join(e.getAppRootDir(),".env");return{...e,componentsDir:r,registryPath:t,envPath:n}}b();b();async function Ps(e){return await An(e,[".env"],Is)}async function um(e,r){let t=await Ps(e),n=await vn(e,t.file,t.envKey,r);return{...t,modifiedType:n}}var Is="PUBLIC_BUILDER_KEY";b();b();b();var VC=new Set(["dist","node_modules"]);async function cm(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker(),s=e.join(e.getAppRootDir(),"build");return await Promise.all(n.map(async o=>{let a=e.basename(o.fileName);if(a.startsWith(".")||a==="node_modules"||Ho(e,VC,o.fileName)||zC.has(a)||a.includes("$."))return;let l=e.normalize(o.fileName);if(l===e.remixConfigPath||l===s)return;let u=await Tn(e,i,l,o,l===e.registryPath);t.push(...u)})),t}var zC=new Set(["root.tsx","root.ts","root.jsx","root.js","_index.tsx","_index.jsx","_index.ts","_index.js"]);b();async function pm(e){await Zo(e);let r=await e.readFile(e.registryPath);return r?qC(e,r):{components:[],sourceFile:Ee(e,"")}}async function qC(e,r){let t=Ee(e,r);return WC(e,t)}async function WC(e,r){let t=[],n=at(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await Du(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:zt(t)}}async function Du(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1,framework:"react"};e.sdkVersion===re.gen2&&wi(e,t)&&(n.acceptsChildren=!0);for(let i of t.properties){if(!e.ts.isPropertyAssignment(i)||!e.ts.isIdentifier(i.name))continue;if(ke(e,i)==="component"){let o,{initializer:a}=i;if(e.ts.isIdentifier(a))o=a.text;else if(e.ts.isCallExpression(a)){(e.ts.isIdentifier(a.expression)&&a.expression.text)==="withChildren"&&(n.acceptsChildren=!0);let c=a.arguments[0];e.ts.isIdentifier(c)&&(o=c.text)}if(!o)continue;n.name===""&&(n.name=Ve(o)),n.importName=o;let l=await Fr(e,e.registryPath,r,o);if(!l)continue;if(n.filePath=l.filePath,n.relFilePath=l.relFilePath,await e.exists(l.filePath)?n.importPath=$e(e,l.filePath):(n.externalImportPath=l.importPath,n.importPath=n.externalImportPath),n.displayFilePath=l.displayFilePath,n.exportType=l.exportType,n.externalImportPath)n.exportName=o;else{let u=await Ff(e,l.filePath,e.registryPath===l.filePath||vt(l.filePath));if(u&&u.length>0)if(u.length===1)n.exportName=u[0].cmpInfo.exportName;else{let c=u.find(p=>p.cmpInfo.exportName===o);c&&(n.exportName=c.cmpInfo.exportName)}}continue}}return n=qt(e,n,t),n.filePath&&n.exportName&&(n.id=await Ue(e,n.filePath,n.exportName,n.externalImportPath)),n}async function $r(e,r,t,n,i,s,o,a){let l=await Pn(e),[u,c,p]=await Promise.all([cm(e,l),pm(e),Ps(e)]),d=u.map(x=>x.cmpInfo),m=c.components,f={components:yr(d,m),registryPath:e.registryPath,registryDisplayPath:Fe(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:kr(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return f.components=await Ti(e,f.components),f;let h=!1,g=c.sourceFile,y=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(y.length>0){let x=y.map(E=>{let S=u.find(v=>v.cmpInfo.id===E);if(!S)throw new Error(`Component ${E} not found`);return S}),C=Array.from(new Set(x.map(E=>E.cmpInfo.filePath))),D=await ut(e,C);for(let E of x){let S=f.components.find(j=>j.id===E.cmpInfo.id),v=await Pi(e,E,D,e.registryPath===E.cmpInfo.filePath||vt(E.cmpInfo.filePath));Qt(S,v);let O=d.findIndex(j=>j.id===E.cmpInfo.id);d[O].inputs=v;let B=Lr(E.cmpInfo.id,d,m,t,n,i,s),{elements:k,elmIndex:V,statementIndex:ne,statement:se,variableDeclaration:H}=await HC(e,g,E);if(B.addCmpToRegistry)k.push(GC(e,B.addCmpToRegistry)),h=!0;else if(B.removeCmpFromRegistry)k.splice(V,1),h=!0;else if(B.updateRegisteredCmp){let j=ct(e,k[V],B.updateRegisteredCmp);k[V]=e.ts.factory.updateObjectLiteralExpression(j,[dm(e,B.updateRegisteredCmp),...j.properties.slice(1)]),h=!0}if(h&&o){let j=[...g.statements];j[ne]=e.ts.factory.updateVariableStatement(se,se.modifiers,e.ts.factory.updateVariableDeclarationList(se.declarationList,[e.ts.factory.updateVariableDeclaration(H,H.name,H.exclamationToken,H.type,e.ts.factory.createArrayLiteralExpression(Or(e,k)))])),g=e.ts.factory.updateSourceFile(g,j),S.exportType==="named"?g=Ce(e,g,{namedImports:[S.importName],importPath:S.externalImportPath?S.externalImportPath:Se(e,e.registryPath,S.filePath)}):g=Ce(e,g,{defaultImport:S.importName,importPath:S.externalImportPath?S.externalImportPath:Se(e,e.registryPath,S.filePath)});let ie=e.sdkVersion===re.gen2?"@builder.io/sdk-react":"@builder.io/react";g=Ce(e,g,{namedImports:["RegisteredComponent"],importPath:ie,isTypeOnly:!0}),S.acceptsChildren&&e.sdkVersion!==re.gen2&&(g=Ce(e,g,{namedImports:["withChildren"],importPath:"@builder.io/react"})),g=Br(e,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),f.components=B.components,m=B.components.filter(I=>I.isRegistered)}}}if(h&&o){g=Rr(e,g),g=_r(e,g);let x=dt(e,g);x=gr(x),x=await e.formatCode(e.registryPath,x),await e.writeFile(e.registryPath,x)}return f}function dm(e,r){if(e.sdkVersion===re.gen2)return e.ts.factory.createPropertyAssignment("component",e.ts.factory.createIdentifier(r.importName));let t=e.ts.factory.createIdentifier(r.importName),n=r.acceptsChildren?e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("withChildren"),void 0,[t]):t;return e.ts.factory.createPropertyAssignment("component",n)}function GC(e,r){return ct(e,e.ts.factory.createObjectLiteralExpression([dm(e,r),...r.acceptsChildren&&e.sdkVersion===re.gen2?[e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())]:[]],!0),r)}async function HC(e,r,t){let n=at(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await Du(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}async function fm(e){let r=[],t=await XC(e,r);return r.push(...await Zo(e)),await ZC(e,t),await YC(e,r),r}async function mm(e){let r=[];return r.push(...await Zo(e)),await JC(e,r),r}async function JC(e,r){let t=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`;e.hasLocaleParam&&(e.debug("remixEnsureFigmaImportRoute, hasLocaleParam"),t=`($locale).${t}`);let n=e.join(e.routesDir,t),i=await e.exists(n);e.debug(`remixEnsureFigmaImportRoute, hasRoute: ${i}`);let s=await e.formatCode(n,hm({sys:e,routePath:n,modelName:"figma-imports"}));await e.writeFile(n,s),r.push({filePath:n,modifiedType:i?"update":"create"})}async function YC(e,r){let t=`$.${e.typescriptEnabled?"tsx":"jsx"}`;e.hasLocaleParam&&(e.debug("remixEnsureAppRoute, hasLocaleParam"),t=`($locale).${t}`),e.sdkVersion===re.gen2&&(t=`($slug)._index.${e.typescriptEnabled?"tsx":"jsx"}`);let n=e.join(e.routesDir,t),i=await e.exists(n);e.debug(`remixEnsureAppRoute, hasRoute: ${i}`);let s=await e.formatCode(n,hm({sys:e,routePath:n,modelName:"page"}));await e.writeFile(n,s),r.push({filePath:n,modifiedType:i?"update":"create"})}function hm({sys:e,routePath:r,modelName:t}){let n=e.typescriptEnabled,i=Se(e,r,e.registryPath),s="",o="";n&&(s="import type { LoaderArgs } from '@remix-run/server-runtime';",o=": LoaderArgs");let a=`process.env.${Is}`,l="";return e.getFrameworks().some(u=>u.name==="@shopify/remix-oxygen")&&(a=`context.env.${Is}`,l=", context"),n&&(a+="!"),e.sdkVersion===re.gen2?`

import {
  Content,
  fetchOneEntry,
  getBuilderSearchParams,
  isPreviewing,
} from "@builder.io/sdk-react";
${n?'import type { LoaderFunctionArgs } from "@remix-run/node";':""}
import { useLoaderData } from "@remix-run/react";
import { fetch as webFetch } from "@remix-run/web-fetch";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(i)};

export const loader = async ({ params, request${l} }${n?": LoaderFunctionArgs":""}) => {
  const builderApiKey = ${a};
  const url = new URL(request.url);
  const urlPath = \`/\${params["slug"] || ""}\`;

  const page = await fetchOneEntry({
    model: "${t}",
    apiKey: builderApiKey,
    options: getBuilderSearchParams(url.searchParams),
    userAttributes: { urlPath },
    fetch: webFetch,
  });

  if (!page && !isPreviewing(url.search)) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText: "Page not found in Builder.io",
    });
  }

  return { page, builderApiKey };
};

// Define and render the page.
export default function Page() {
  const { page, builderApiKey } = useLoaderData${n?"<typeof loader>":""}();
  // Render the page content from Builder.io
  return (
    <Content
      model="${t}"
      apiKey={builderApiKey}
      content={page}
      customComponents={CUSTOM_COMPONENTS}
    />
  );
}
    `:`
import { BuilderComponent, builder } from "@builder.io/react";
import { useLoaderData } from "@remix-run/react";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(i)};
${s}

// Fetch contents of the page
export const loader = async ({ params, request, context }${o}) => {
  // Initialize the Builder client and pass in your Public API Key
  const builderApiKey = ${a};
  builder.init(builderApiKey);

  // Fetch data content from Builder.io based on the URL path
  const page = await builder
    .get("${t}", {
      userAttributes: {
        urlPath: "/" + params["*"],
      },
      locale: params.locale,
    })
    .toPromise();

  // Verify the user is previewing or editing in Builder
  const isPreviewing = new URL(request.url).searchParams.has("builder.preview");

  // If the page is not found and the user is not previewing, throw a 404.
  // The CatchBoundary component will catch the error
  if (!page && !isPreviewing) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText:
        "We couldn't find this page, please check your url path and if the page is published on Builder.io.",
    });
  }

  return { page, builderApiKey };
};

// Define and render the page.
export default function Page() {
  // Use the useLoaderData hook to get the Page data from "loader" above.
  const { page, builderApiKey } = useLoaderData${n?"<typeof loader>":""}();

  // Render the page content from Builder.io
  return (
    <BuilderComponent
      customComponents={CUSTOM_COMPONENTS}
      apiKey={builderApiKey}
      model="${t}"
      content={page}
    />
  );
}

${n?`
declare global {
  interface Env {
    ${Is}: string;
  }
}
`:""}
`}async function XC(e,r){let n=e.typescriptEnabled?"tsx":"jsx",i=e.join(e.componentsDir,"Counter"),s=e.join(i,`Counter.${n}`),o=e.join(i,"styles.module.css"),{component:a,styles:l}=QC(e),u=await e.exists(s);if(e.debug(`remixEnsureCounterComponent, hasCounterCmp: ${u}`),!u){let p=await e.formatCode(s,a);await e.writeFile(s,p),r.push({filePath:s,modifiedType:"create"})}let c=await e.exists(o);return e.debug(`remixEnsureCounterComponent, hasCounterStyles: ${c}`),c||(await e.writeFile(o,l),r.push({filePath:o,modifiedType:"create"})),s}function QC(e){let r=e.typescriptEnabled,t=`
import { useState } from "react";
import styles from "./styles.module.css";
${r?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${r?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
  color: #1c6bd1;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:t,styles:n}}async function ZC(e,r){let n=(await $r(e,null,!1,!1,null,null,!1,!1)).components.find(i=>i.filePath===r);n&&await $r(e,n.id,!0,!1,null,null,!0,!1)}async function Zo(e){let r=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,eS(e)),r.push({filePath:e.registryPath,modifiedType:"create"})),r}function eS(e){let r=e.sdkVersion===re.gen2;return e.typescriptEnabled?`import type { RegisteredComponent } from ${r?'"@builder.io/sdk-react"':'"@builder.io/react"'};

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function gm(e){let r=await tS(e);return{builderPageOptions:async()=>{let n="/builder-demo",i=r.hasLocaleParam?`/en-us${n}`:void 0;return{templateContentId:"a5c9eef7909d4fc99554264a17de22c9",pathname:n,localePathname:i,title:"Builder + Remix Demo Page"}},ensureBuilderSetup:()=>fm(r),ensureFigmaImportPage:()=>mm(r),getRegistryPath:()=>r.registryPath,getRegistry:n=>$r(r,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{r.addExternalPackage(n)},loadComponent:async n=>{let i=await $r(r,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>$r(r,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>$r(r,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>$r(r,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>$r(r,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Ps(r),setPublicApiKey:n=>um(r,n.publicApiKey),getDependencies:n=>n.sdkVersion===re.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-react"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/react"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Pr(r),setCache:n=>Ir(r,n)}}async function tS(e){let r=await nS(e),t=e.getAppRootDir(),n=await iS(e),i=e.dirname(n),s=e.join(i,"components"),o=await Xt(e),a=await lr(e,i),l={},u={...e,registryPath:a,remixConfigPath:r,typescriptEnabled:o,appDir:i,componentsDir:s,routesDir:n,hasLocaleParam:await rS(e,n),addExternalPackage:c=>{l[e.join(t,c,"index.ts")]=`export * from "${c}";`},readFileSync:c=>l[c]??e.readFileSync(c),existsSync:c=>!!l[c]||e.existsSync(c),readdirSync:c=>{let p=e.readdirSync(c);return c===t?[...p,...Object.keys(l).map(d=>d.slice(t.length+1))]:p},readdir:async c=>{let p=await e.readdir(c);return c===t?[...p,...Object.keys(l).map(d=>d.slice(t.length+1))]:p}};return e.sdkVersion?u.sdkVersion=e.sdkVersion:u.sdkVersion=await Ni(u),u}async function rS(e,r){return(await e.readdir(r)).some(n=>n.startsWith("($locale)."))}async function nS(e){let r=["remix.config.ts","remix.config.js","vite.config.ts","vite.config.js"];for(let t of r){let n=e.join(e.getAppRootDir(),t);if(await e.exists(n))return n}if(e.ignoreMissingConfig)return"";throw new Error(`Could not find Remix config file. Searched for ${r.join(", ")} in "${e.getAppRootDir()}".`)}async function iS(e){let r=await xs(e,e.getAppRootDir(),"routes");if(r)return r;throw new Error(`Could not find Remix "routes" directory in "${e.getAppRootDir()}". Please ensure this command is ran from within your Remix project's directory.`)}b();b();async function Ns(e){let r=[".env"],t=e.configType==="vite"?Fs:ea;return await An(e,r,t)}async function ym(e,r){let t=await Ns(e),n=await vn(e,t.file,t.envKey,r);return{...t,modifiedType:n}}var Fs="VITE_PUBLIC_BUILDER_KEY",ea="YOUR_PUBLIC_BUILDER_KEY";b();b();function bm(e,r){let t=`Builder.registerComponent(
`;t+=`  ${r.importName},
`,t+=`  {
    name: "${r.name}",
  }
`,t+=");";let n=Go(e,t);return xu(e,n,r)}function xu(e,r,t){if(!e.ts.isExpressionStatement(r))return r;let n=r.expression;if(!e.ts.isCallExpression(n))return r;let i=[...n.arguments];if(i.length<2)return r;let s=i[1];return e.ts.isObjectLiteralExpression(s)?(i[1]=ct(e,s,t),e.ts.factory.updateExpressionStatement(r,e.ts.factory.updateCallExpression(n,n.expression,n.typeArguments,i))):r}b();async function Dm(e){let r=await e.readFile(e.registryPath);return r?sS(e,r):{components:[],sourceFile:Ee(e,"")}}async function sS(e,r){let t=Ee(e,r);return e.sdkVersion===re.gen2?lS(e,t):oS(e,t)}async function oS(e,r){let t=[];for(let n=0;n<r.statements.length;n++){let i=r.statements[n];if(!e.ts.isExpressionStatement(i))continue;let s=i.expression;if(!e.ts.isCallExpression(s))continue;let o=s.expression;if(!e.ts.isPropertyAccessExpression(o))continue;let a=o.expression;if(!e.ts.isIdentifier(a)||a.text!=="Builder"||o.name.text!=="registerComponent")continue;let u=s.arguments;if(u.length<2)continue;let c=u[1];if(!e.ts.isObjectLiteralExpression(c))continue;let p=u[0];if(e.ts.isIdentifier(p)){let d=await aS(e,r,n,p,c,!1);d&&t.push(d);continue}}return{sourceFile:r,components:zt(t)}}async function aS(e,r,t,n,i,s){let o={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:t,acceptsChildren:s,framework:"react"},a=r.statements.filter(u=>e.ts.isImportDeclaration(u)),l=a.find(u=>u.importClause&&u.importClause.name?.text===n.text);if(l){let u=l.moduleSpecifier;if(!e.ts.isStringLiteral(u))return null;o.filePath=await Eu(e,u.text),o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),o.importPath=$e(e,o.filePath),o.name=or(e,o.filePath),o.importName=n.text,o.exportName="default",o.exportType="default"}else{let u=a.find(d=>!d.importClause||!d.importClause.namedBindings||!e.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(m=>m.name.text===n.text));if(!u)return null;let c=u.moduleSpecifier;if(!e.ts.isStringLiteral(c))return null;let p=await Eu(e,c.text);o.filePath=await Eu(e,c.text),o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),await e.exists(p)?o.importPath=$e(e,o.filePath):(o.externalImportPath=c.text,o.importPath=o.externalImportPath),o.name=Ve(n.text),o.importName=n.text,o.exportName=n.text,o.exportType="named"}return o=qt(e,o,i),o.displayFilePath=Fe(e,o.filePath),o.filePath&&o.exportName&&(o.id=await Ue(e,o.filePath,o.exportName,o.externalImportPath)),o}function Eu(e,r){return vs(e,e.normalize(e.resolve(e.dirname(e.registryPath),r)))}async function lS(e,r){let t=[],n=at(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await Cu(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:zt(t)}}async function Cu(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1,framework:"react"};wi(e,t)&&(n.acceptsChildren=!0);for(let s of t.properties){if(!e.ts.isPropertyAssignment(s)||!e.ts.isIdentifier(s.name))continue;if(ke(e,s)==="component"){let a,{initializer:l}=s;if(e.ts.isIdentifier(l)&&(a=l.text),!a)continue;n.name===""&&(n.name=Ve(a)),n.importName=a;let u=await Fr(e,e.registryPath,r,a);if(!u)continue;n.filePath=u.filePath,n.relFilePath=u.relFilePath,await e.exists(u.filePath)?n.importPath=$e(e,u.filePath):(n.externalImportPath=u.importPath,n.importPath=n.externalImportPath),n.displayFilePath=u.displayFilePath,n.exportType=u.exportType;let c=r.statements.filter(d=>e.ts.isImportDeclaration(d)),p=c.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!e.ts.isStringLiteral(d))return null;n.exportName="default"}else{let d=c.find(f=>!f.importClause||!f.importClause.namedBindings||!e.ts.isNamedImports(f.importClause.namedBindings)?!1:f.importClause.namedBindings.elements.some(h=>h.name.text===a));if(!d)return null;let m=d.moduleSpecifier;if(!e.ts.isStringLiteral(m))return null;n.exportName=a}continue}}return n=qt(e,n,t),n.filePath&&n.exportName&&(n.id=await Ue(e,n.filePath,n.exportName,n.externalImportPath)),n}async function Ur(e,r,t,n,i,s,o,a){let l=await Pn(e),[u,c,p,d]=await Promise.all([kf(e,l),Dm(e),Xt(e),Ns(e)]),m=u.map(C=>C.cmpInfo),f=c.components,h={components:yr(m,f),registryPath:e.registryPath,registryDisplayPath:Fe(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:kr(m),publicApiKey:d.envValue??void 0,devToolsVersion:e.version};if(a)return h.components=await Ti(e,h.components),h;let g=!1,y=c.sourceFile,x=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(x.length>0){let C=x.map(S=>{let v=u.find(O=>O.cmpInfo.id===S);if(!v)throw new Error(`Component ${S} not found`);return v}),D=Array.from(new Set(C.map(S=>S.cmpInfo.filePath))),E=await ut(e,D);for(let S of C){let v=h.components.find(V=>V.id===S.cmpInfo.id),O=await Pi(e,S,E,e.registryPath===S.cmpInfo.filePath||vt(S.cmpInfo.filePath));Qt(v,O);let B=m.findIndex(V=>V.id===S.cmpInfo.id);m[B].inputs=O;let k=Lr(S.cmpInfo.id,m,f,t,n,i,s);if(e.sdkVersion===re.gen2){let{elements:V,elmIndex:ne,statementIndex:se,statement:H,variableDeclaration:j}=await uS(e,y,S);if(k.addCmpToRegistry)V.push(cS(e,k.addCmpToRegistry)),g=!0;else if(k.removeCmpFromRegistry)V.splice(ne,1),g=!0;else if(k.updateRegisteredCmp){let ie=ct(e,V[ne],k.updateRegisteredCmp),I=e.ts.factory.createIdentifier(k.updateRegisteredCmp.importName);V[ne]=e.ts.factory.updateObjectLiteralExpression(ie,[e.ts.factory.createPropertyAssignment("component",I),...ie.properties.slice(1)]),g=!0}if(g&&o){let ie=[...y.statements];ie[se]=e.ts.factory.updateVariableStatement(H,H.modifiers,e.ts.factory.updateVariableDeclarationList(H.declarationList,[e.ts.factory.updateVariableDeclaration(j,j.name,j.exclamationToken,j.type,e.ts.factory.createArrayLiteralExpression(Or(e,V)))])),y=e.ts.factory.updateSourceFile(y,ie),y=xm(e,k,y),y=Ce(e,y,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-react",isTypeOnly:!0}),y=Br(e,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),h.components=k.components,f=k.components.filter(I=>I.isRegistered)}}else{let V=[...y.statements];k.addCmpToRegistry?(V.push(bm(e,k.addCmpToRegistry)),g=!0):k.removeCmpFromRegistry?(V.splice(k.nodeIndex,1),g=!0):k.updateRegisteredCmp&&(V[k.nodeIndex]=xu(e,V[k.nodeIndex],k.updateRegisteredCmp),g=!0),g&&o&&(y=e.ts.factory.updateSourceFile(y,V),y=Ce(e,y,{namedImports:["Builder","builder"],importPath:"@builder.io/react"}),y=xm(e,k,y),v?.acceptsChildren&&(y=Ce(e,y,{namedImports:["withChildren"],importPath:"@builder.io/react"})),h.components=k.components,f=k.components.filter(ne=>ne.isRegistered))}}}if(g&&o){y=Rr(e,y),y=_r(e,y);let C=dt(e,y);C=gr(C),C=await e.formatCode(e.registryPath,C),await e.writeFile(e.registryPath,C)}return h}async function uS(e,r,t){let n=at(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await Cu(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}function cS(e,r){let t=e.ts.factory.createIdentifier(r.importName);return ct(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("component",t),...r.acceptsChildren?[e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())]:[]],!0),r)}function xm(e,r,t){let n=r.addCmpToRegistry||r.updateRegisteredCmp;if(n){let i=n.externalImportPath?n.externalImportPath:Se(e,e.registryPath,n.filePath);n.exportType==="default"?t=Ce(e,t,{defaultImport:n.importName,importPath:i}):n.exportType==="named"&&(t=Ce(e,t,{namedImports:[n.importName],importPath:i}))}return t}b();async function Em(e){let r=[],t=await pS(e,r);if(await wm(e,r,t),!await e.exists(e.builderComponentPath)){let n=await e.formatCode(e.builderComponentPath,Sm(e,e.builderComponentPath));await e.writeFile(e.builderComponentPath,n),r.push({filePath:e.builderComponentPath,modifiedType:"create"})}return r}async function Cm(e){let r=[];await wm(e,r);let t=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`,n=e.join(e.componentsDir,t);if(!await e.exists(n)){let i=await e.formatCode(n,Sm(e,n,"figma-imports"));await e.writeFile(n,i),r.push({filePath:n,modifiedType:"create"})}return r}function Sm(e,r,t="page"){let n=e.typescriptEnabled;return e.sdkVersion===re.gen2?`
  import React from "react";
  import {
      Content,
      fetchOneEntry,
      getBuilderSearchParams,
      isPreviewing,
    ${n?"type BuilderContent,":""}
    } from "@builder.io/sdk-react";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(Se(e,r,e.registryPath))};

  // Builder Public API Key set in .env file
  const BUILDER_API_KEY = ${e.configType==="vite"?`import.meta.env.${Fs};`:`${ea};`}
  const MODEL_NAME = "${t}";

  export default function BuilderPage() {
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState${n?"<BuilderContent | null>":""}(null);

  // get the page content from Builder
  React.useEffect(() => {
    fetchOneEntry({
      model: MODEL_NAME,
      apiKey: BUILDER_API_KEY,
      userAttributes: {
        urlPath: window.location.pathname,
      },
      options: getBuilderSearchParams(new URL(location.href).searchParams),
    })
      .then((content) => {
        if (content) {
          setContent(content);
        }
        setNotFound(!content);
      })
      .catch((err) => {
        console.log("Oops: ", err);
      });
  }, []);

  // If no page is found, return
  // a 404 page from your code.
  if (notFound && !isPreviewing()) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
  <>
    {/* Render the Builder page */}
    <Content
      content={content}
      model={MODEL_NAME}
      apiKey={BUILDER_API_KEY}
      customComponents={CUSTOM_COMPONENTS}
    />
  </>
  );
}
    `:`
import React from "react";
import { BuilderComponent, builder, useIsPreviewing } from "@builder.io/react"; 
import ${JSON.stringify(Se(e,r,e.registryPath))};

// Builder Public API Key set in .env file
${e.configType==="vite"?`builder.init(import.meta.env.${Fs}${n?"!":""})`:`builder.init("${ea}")`}

export default function BuilderPage() {
  const isPreviewingInBuilder = useIsPreviewing();
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState(null);

  // get the page content from Builder
  React.useEffect(() => {
    async function fetchContent() {
      const content = await builder
        .get("${t}", {
          url: window.location.pathname,
        })
        .promise();

      setContent(content);
      setNotFound(!content);

      // if the page title is found, 
      // set the document title
      if (content?.data.title) {
        document.title = content.data.title;
      }
    }
    fetchContent();
  }, []);
  
  if (content === null) {
    return;
  }
  // If no page is found, return 
  // a 404 page from your code.
  if (notFound && !isPreviewingInBuilder) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
    <>
      {/* Render the Builder page */}
      <BuilderComponent model="${t}" content={content} />
    </>
  );
}
`.trimStart()}async function wm(e,r,t){if(!await e.exists(e.registryPath)){if(e.sdkVersion===re.gen2){let s=fS(e);await e.writeFile(e.registryPath,s)}else await e.writeFile(e.registryPath,"");r.push({filePath:e.registryPath,modifiedType:"create"})}if(!t)return;let i=(await Ur(e,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===t);i&&await Ur(e,i.id,!0,!1,null,null,!0,!1)}async function pS(e,r){let n=e.typescriptEnabled?"tsx":"jsx",i=e.join(e.componentsDir,"Counter"),s=e.join(i,`Counter.${n}`),o=e.join(i,"styles.module.css"),{component:a,styles:l}=dS(e);if(!await e.exists(s)){let u=await e.formatCode(s,a);await e.writeFile(s,u),r.push({filePath:s,modifiedType:"create"})}return await e.exists(o)||(await e.writeFile(o,l),r.push({filePath:o,modifiedType:"create"})),s}function dS(e){let r=e.typescriptEnabled,t=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${r?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${r?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:t,styles:n}}function fS(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@builder.io/sdk-react";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function Am(e){let r=await mS(e);return{builderPageOptions:async()=>({templateContentId:"2e36438034894a8abf279ea9e6d3596f",pathname:"/builder-demo",title:"Builder + React Demo Page"}),ensureBuilderSetup:()=>Em(r),ensureFigmaImportPage:()=>Cm(r),getRegistryPath:()=>r.registryPath,getRegistry:n=>Ur(r,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{r.addExternalPackage(n)},loadComponent:async n=>{let i=await Ur(r,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Ur(r,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Ur(r,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Ur(r,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Ur(r,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Ns(r),setPublicApiKey:n=>ym(r,n.publicApiKey),getDependencies:n=>n.sdkVersion===re.gen2?[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-react"}]:[{name:"@builder.io/dev-tools"},{name:"@builder.io/react"},{name:"@builder.io/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Pr(r),setCache:n=>Ir(r,n)}}async function mS(e){let r=await hS(e),t=e.getAppRootDir(),n=e.join(t,"src"),i=await Xt(e),s={},o={...e,srcDir:null,builderComponentPath:"",componentsDir:"",registryPath:"",reactConfigPath:r,typescriptEnabled:i,configType:"",addExternalPackage:a=>{s[e.join(t,a,"index.ts")]=`export * from "${a}";`},readFileSync:a=>s[a]??e.readFileSync(a),existsSync:a=>!!s[a]||e.existsSync(a),readdirSync:a=>{let l=e.readdirSync(a);return a===t?[...l,...Object.keys(s).map(u=>u.slice(t.length+1))]:l},readdir:async a=>{let l=await e.readdir(a);return a===t?[...l,...Object.keys(s).map(u=>u.slice(t.length+1))]:l}};return e.sdkVersion?o.sdkVersion=e.sdkVersion:o.sdkVersion=await Ni(o),r.includes("webpack.config")&&(o.configType="webpack"),r.includes("vite.config")&&(o.configType="vite"),await e.exists(n)?(o.srcDir=n,o.componentsDir=e.join(n,"components"),o.registryPath=await lr(e,n),o.builderComponentPath=e.join(o.srcDir,`builder-page.${i?"tsx":"jsx"}`)):(o.componentsDir=e.join(t,"components"),o.registryPath=await lr(e,t),o.builderComponentPath=e.join(t,`builder-page.${i?"tsx":"jsx"}`)),o}async function hS(e){let r=["vite.config.ts","vite.config.js","webpack.config.js","webpack.config.ts"];for(let t of r){let n=e.join(e.getAppRootDir(),t);if(await e.exists(n))return n}if(e.ignoreMissingConfig)return"";throw new Error(`Could not find React config file. Searched for ${r.join(", ")} in "${e.getAppRootDir()}".`)}b();b();async function ks(e){return await gS(e,["environment.ts"],ta)}async function vm(e,r){let t=await ks(e),n=await xS(e,t.file,t.envKey,r);return{...t,modifiedType:n}}async function gS(e,r,t){let n={envKey:t,envValue:null,file:""};for(let i of r){let s=e.join(e.getAppRootDir(),"src","environments",i),o=await yS(e,s);if(typeof o=="string"&&o.length>0&&o!=="YOUR_API_KEY")return n.envValue=o,n.file=s,n}return n.file=e.join(e.getAppRootDir(),"src","environments",r[r.length-1]),n}async function yS(e,r){let t=await e.readFile(r);return t?bS(e,t):""}function bS(e,r){let t=Ee(e,r),n="",s=Ai(e,t,"environment");if(s&&s.statement.declarationList.declarations.length>0){let a=s.statement.declarationList.declarations[0].initializer;a&&e.ts.isObjectLiteralExpression(a)&&a.properties.forEach(l=>{e.ts.isPropertyAssignment(l)&&e.ts.isIdentifier(l.name)&&l.name.text===ta&&e.ts.isStringLiteral(l.initializer)&&(n=l.initializer.text)})}return n}async function DS(e,r,t,n){let i=Ee(e,r),o=Ai(e,i,"environment");if(o&&o.statement.declarationList.declarations.length>0){let a=o.statement.declarationList,l=a.declarations[0],u=l.initializer;if(u&&e.ts.isObjectLiteralExpression(u)){let c=e.ts.factory.createPropertyAssignment(e.ts.factory.createIdentifier(t),e.ts.factory.createStringLiteral(n)),p=e.ts.factory.createNodeArray([...u.properties,c]),d=e.ts.factory.updateObjectLiteralExpression(u,p),m=e.ts.factory.updateVariableDeclaration(l,l.name,l.exclamationToken,l.type,d),f=e.ts.factory.updateVariableDeclarationList(a,[m]);return e.ts.factory.updateVariableStatement(o.statement,o.statement.modifiers,f)}return null}return null}async function xS(e,r,t,n){let i=await e.readFile(r);if(i)if(i.includes(t))e.debug(`"${t}" already set in ${r}`);else{e.debug(`Add "${t}" to ${r}`);let s=await DS(e,i,t,n);if(s){let o=dt(e,s),a=await e.formatCode(r,o);await e.writeFile(r,a)}return"update"}else{e.debug(`Creating new env file with "${t}" at ${r}`);let s=`
    // https://www.builder.io/c/docs/using-your-api-key
    export const environment = {
      production: false,
      builderApiKey: "${n}",
    };
    `.trimStart(),o=await e.formatCode(r,s);return await e.writeFile(r,o),"create"}return null}var ta="builderApiKey";b();b();async function Pm(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker();return await Promise.all(n.map(async s=>{let o=e.basename(s.fileName);if(SS(e,s.fileName)||o.startsWith(".")||o==="node_modules"||ES.has(o))return;let a=e.normalize(s.fileName);if(a===e.registryPath)return;let l=await ra(e,i,a,s);t.push(...l)})),t.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var ES=new Set([]),CS=new Set(["node_modules"]);function SS(e,r){for(let t of CS)if(e.dirname(r).includes(t))return!0;return!1}async function Im(e,r){let t=e.extname(r).toLowerCase();if(t===".tsx"||t===".jsx"||t===".ts"||t===".js"){let n=await e.readFile(r);if(n)return wS(e,r,n)}return null}function wS(e,r,t){let n=Ee(e,t);return ra(e,null,r,n)}async function ra(e,r,t,n){let i=[],s={};t=e.normalize(t);let o=n.statements.filter(c=>e.ts.isClassDeclaration(c)&&IS(e,c)),a=n.statements.find(c=>e.ts.isImportDeclaration(c)&&e.ts.isStringLiteral(c.moduleSpecifier)&&c.moduleSpecifier.text==="@angular/core");if(a&&e.ts.isImportDeclaration(a)){let c=a.importClause?.namedBindings;if(c&&e.ts.isNamedImports(c)){let p=c.elements.find(d=>(d.propertyName??d.name).text==="input");p&&(s.inputSignalImportName=p.name.text)}}let l=await vS(e,r,t,n),u=NS(e,n);return await Promise.all(o.map(async c=>{let p=await AS(e,r,t,c,u,s);i.push(...p)})),i.push(...l),i}async function Su(e,r,t){if(r.node.fnNode){let{sourceFile:n,typeChecker:i}=await Ci(e,r.cmpInfo.filePath,t),o=(await ra(e,i,r.cmpInfo.filePath,n)).find(a=>a.cmpInfo.id===r.cmpInfo.id);if(!o)throw new Error(`Could not find component ${r.cmpInfo.name} in ${r.cmpInfo.filePath}`);return o.cmpInfo.inputs}return[]}async function Nm(e,r,t){let n=await ut(e,t.map(o=>o.filePath)),i=n.getTypeChecker();return await Promise.all(t.filter(o=>!(o.name.endsWith("Page")||o.name.endsWith("Module")||o.name==="AppComponent")).map(async o=>{if(!o.isRegistered){let a=n.getSourceFile(o.filePath);if(a){let u=(await ra(e,i,o.filePath,a)).find(c=>c.cmpInfo.id===o.id);if(u){o.inputs=Yn(e,i,u.node.fnNode);let c=r.find(p=>p.cmpInfo.id===o.id);if(c){let p=await Su(e,c,n);Qt(o,p)}}}}return o}))}async function AS(e,r,t,n,i,s){let o=[],a=e.relative(e.getAppRootDir(),t),l=$e(e,t),u=n.name?.text;if(!u)return o;let c=!1;n.modifiers&&(c=n.modifiers.some(f=>f.kind===e.ts.SyntaxKind.DefaultKeyword));let p=c?"default":u,d=c?"default":"named",m=[];return n.members.forEach(f=>{if(e.ts.isPropertyDeclaration(f)||e.ts.isGetAccessor(f)||e.ts.isSetAccessor(f)){let y=(e.ts.getDecorators(f)??[]).find(C=>TS(e,C))!==void 0&&e.ts.isIdentifier(f.name),x=s?.inputSignalImportName!==void 0&&e.ts.isIdentifier(f.name)&&PS(e,f,s.inputSignalImportName);if(y||x){let C="any";if(e.ts.isSetAccessor(f))C=Tm(e,f.parameters[0].type);else if(f.type&&r){let E=r.getTypeAtLocation(f.type);C=r.typeToString(E)}else C=Tm(e,f.type);let D={name:f.name.text,type:i[C]?"string":C};i[C]&&(D.enum=i[C]),m.push(D)}}}),o.push({cmpInfo:{id:await Ue(e,t,u),displayFilePath:Fe(e,t),name:Ve(u),inputs:m,exportName:p,exportType:d,importName:u,filePath:t,relFilePath:a,importPath:l,meta:{...kS(e,n)},framework:"angular"},node:{name:u,fnNode:n,deps:void 0}}),o}async function vS(e,r,t,n){let i=[],s=e.relative(e.getAppRootDir(),t),o=$e(e,t);for(let a of n.statements)if(e.ts.isExportDeclaration(a)&&a.exportClause&&e.ts.isNamedExports(a.exportClause))for(let l of a.exportClause.elements){let u=l.name?.text;if(!u)continue;let c=u,p="named",d=[];if(r){let h=r.getSymbolAtLocation(l.name);if(h){let g=r.getDeclaredTypeOfSymbol(h);r.getPropertiesOfType(g).forEach(x=>{let C=x.getDeclarations();C&&C.forEach(D=>{if(e.ts.isPropertyDeclaration(D)){let E=r.getTypeAtLocation(D),S={name:x.getName(),type:FS(e,r,E)};d.push(S)}})})}}let m=e.ts.isExportSpecifier(l)&&l.parent?l.parent.parent:void 0,f;if(m){let h=m.moduleSpecifier;if(h&&e.ts.isStringLiteral(h)){let g=r?.getSymbolAtLocation(h);if(g&&g.declarations&&g.declarations.length>0){let y=g.declarations[0];(!e.ts.isSourceFile(y)||e.ts.isSourceFile(y)&&y.fileName.includes("node_modules"))&&(f=h.text)}}}i.push({cmpInfo:{id:await Ue(e,t,u,f),displayFilePath:Fe(e,t),name:Ve(u),inputs:d,exportName:c,exportType:p,importName:u,filePath:t,relFilePath:s,importPath:f||o,externalImportPath:f,framework:"angular"},node:{name:u,fnNode:l,deps:void 0}})}return i}function TS(e,r){return Fm(e,r,"Input")}function PS(e,r,t){return e.ts.isPropertyDeclaration(r)&&r.initializer!==void 0&&e.ts.isCallExpression(r.initializer)&&e.ts.isIdentifier(r.initializer.expression)&&r.initializer.expression.text===t}function Fm(e,r,t){if(e.ts.isCallExpression(r.expression)){let n=r.expression;if(e.ts.isIdentifier(n.expression))return n.expression?.text===t}return!1}function IS(e,r){return!!e.ts.getDecorators(r)?.some(i=>e.ts.isCallExpression(i.expression)&&e.ts.isIdentifier(i.expression.expression)&&i.expression.expression.text==="Component")}function Tm(e,r){if(!r)return"any";let t="any";switch(r.kind){case e.ts.SyntaxKind.StringKeyword:t="string";break;case e.ts.SyntaxKind.NumberKeyword:t="number";break;case e.ts.SyntaxKind.BooleanKeyword:t="boolean";break;case e.ts.SyntaxKind.TypeReference:e.ts.isTypeReferenceNode(r)&&e.ts.isIdentifier(r.typeName)&&(t=r.typeName.text);break}return t.includes("|")?"string":t}function NS(e,r){let t={};return e.ts.forEachChild(r,n=>{e.ts.isTypeAliasDeclaration(n)&&e.ts.isUnionTypeNode(n.type)&&n.type.types.every(i=>e.ts.isLiteralTypeNode(i)&&e.ts.isStringLiteral(i.literal))&&(t[n.name.text]=n.type.types.map(i=>i.literal.text))}),t}function FS(e,r,t){let n=r.typeToString(t);if(n==="any"){let i=t.getSymbol();if(i){let s=i.getDeclarations();if(s&&s.length>0){let o=s[0];if(e.ts.isVariableDeclaration(o)){let a=o.type;a&&(n=r.typeToString(r.getTypeAtLocation(a)))}}}}return n}function kS(e,r){let{getDecorators:t,isCallExpression:n,isIdentifier:i,isObjectLiteralExpression:s,isPropertyAssignment:o,isStringLiteral:a,SyntaxKind:l}=e.ts,u,c;return t(r)?.forEach(d=>{if(Fm(e,d,"Component")){let{expression:m}=d;if(n(m)){let[f]=m.arguments;s(f)&&f.properties.forEach(h=>{o(h)&&i(h.name)&&(h.name.escapedText==="selector"&&a(h.initializer)&&(u=h.initializer.text),h.name.escapedText==="standalone"&&(c=h.initializer.kind===l.TrueKeyword))})}}}),{selector:u,standalone:c}}b();b();b();async function na(e,r,t){let n=e.typescriptEnabled?".ts":".js",i=`app.module${n}`,s=e.join(e.appDir,i),o=await e.readFile(s);if(!o){e.Sentry?.captureException(new Error(`Unable to read app.module.${n} at ${s}`),{extra:{appModuleCode:o,appModulePath:s}});return}let a=await _S(e,s,r,t,o);if(!a){e.Sentry?.captureException(new Error(`Unable to update app.module.${n} at ${s}`),{extra:{appModuleCode:o,appModulePath:s}});return}return await e.writeFile(s,a),s}async function _S(e,r,t,n,i){let s=i,o=Ee(e,i),a=Se(e,r,n);o=Ce(e,o,{namedImports:[t],importPath:a}),o=Ce(e,o,{namedImports:["Content"],importPath:"@builder.io/sdk-angular"});let l=[];for(let u of o.statements)if(e.ts.isClassDeclaration(u)&&u.name?.text==="AppModule"){let c=OS(e,t,u);l.push(c)}else l.push(u);return o=e.ts.factory.updateSourceFile(o,l),s=dt(e,o),s}function OS(e,r,t){let n=e.ts.getDecorators(t);if(n){for(let i of n)if(e.ts.isCallExpression(i.expression)&&e.ts.isIdentifier(i.expression.expression)&&i.expression.expression.text==="NgModule"){let s=i.expression.arguments;if(s.length===1&&e.ts.isObjectLiteralExpression(s[0])){let o=km(e,s[0],"declarations",r);if(o){let a=km(e,o,"imports","Content");if(a&&(o=a),o){let l=e.ts.factory.updateDecorator(i,e.ts.factory.updateCallExpression(i.expression,i.expression.expression,i.expression.typeArguments,[o])),c=[...n.map(p=>p===i?l:p),...e.ts.getModifiers(t)||[]];return e.ts.factory.updateClassDeclaration(t,c,t.name,t.typeParameters,t.heritageClauses,t.members)}}}}}return t}function km(e,r,t,n){let i=[...r.properties],s=i.findIndex(a=>ke(e,a)===t);if(s>-1){let a=i[s];if(e.ts.isPropertyAssignment(a)&&a.initializer&&e.ts.isArrayLiteralExpression(a.initializer)){let l=_m(e,a.initializer,n);return l?(i[s]=e.ts.factory.updatePropertyAssignment(a,a.name,l),e.ts.factory.updateObjectLiteralExpression(r,i)):null}return null}let o=_m(e,e.ts.factory.createArrayLiteralExpression([],!0),n);return o?e.ts.factory.updateObjectLiteralExpression(r,[...i,e.ts.factory.createPropertyAssignment(t,o)]):null}function _m(e,r,t){return r.elements.some(i=>e.ts.isIdentifier(i)?i.text===t:!1)?null:e.ts.factory.updateArrayLiteralExpression(r,[...r.elements,e.ts.factory.createIdentifier(t)])}b();async function wu(e,r,t,n){let s=`app.routes${e.typescriptEnabled?".ts":".js"}`,o=e.join(e.appDir,s);try{if(e.magicast){let a=await e.magicast.loadFile(o);Object.keys(a.exports).length===0&&(a.exports.routes=[]);let u=Object.keys(a.exports)[0],c=a.exports[u];if(c.find(d=>d.path===r))return;let p=e.magicast.builders.raw("{}");if(p.path=r,p.component=e.magicast.builders.raw(t),c.push(p),a.imports.$items.find(d=>d.imported===t))return;a.imports.$append({imported:t,from:n}),await e.magicast.writeFile(a,o)}}catch(a){let l=null;try{l=e.readFileSync(o)}catch(u){e.Sentry?.captureException(u,{level:"warning"})}e.Sentry?.captureException(a,{extra:{content:l,appRoutesPath:o,componentName:t,componentPath:n}})}}b();var qm=q(zm(),1);async function Wm(e){let r=e.ts.findConfigFile(e.getAppRootDir(),e.existsSync);if(r){let t=await e.readFile(r);if(!t)return;let n=qm.default.parse(t);if(!n||typeof n!="object"||Array.isArray(n))return;let i=n.compilerOptions;if(!i||typeof i!="object"||Array.isArray(i))return;let s=i.paths;(!s||typeof s!="object"||Array.isArray(s))&&(i.paths={},s=i.paths),Object.assign(i.paths,{"~/*":["./src/*"]}),await e.writeFile(r,JSON.stringify(n,null,2))}}async function Gm(e){let r=[],t=await qS(e,r);r.push(...await la(e)),await VS(e,t);let n="BuilderPage";if(!await e.exists(e.builderPageComponentPath)){let i=await e.formatCode(e.builderPageComponentPath,Jm(e,n,e.builderPageComponentPath,"builder-page","page",!0));await e.writeFile(e.builderPageComponentPath,i),r.push({filePath:e.builderPageComponentPath,modifiedType:"create"})}if(e.hasAppModule){await na(e,"Counter",t);let i=await na(e,n,e.builderPageComponentPath);i&&r.push({filePath:i,modifiedType:"update"})}return await wu(e,"**",n,"./components/builder-page.component"),r}async function Hm(e){let r=[];r.push(...await la(e));let t="FigmaImportsPage",n="figma-imports.component",i=e.join(e.componentsDir,`${n}.${e.typescriptEnabled?"ts":"js"}`);if(!await e.exists(i)){let s=await e.formatCode(i,Jm(e,t,i,"figma-imports","figma-imports",!1));await e.writeFile(i,s),r.push({filePath:i,modifiedType:"create"})}if(e.hasAppModule){let s=await na(e,t,i);s&&r.push({filePath:s,modifiedType:"update"})}return await wu(e,"figma-imports",t,`./components/${n}`),await Wm(e),r}async function la(e){let r=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,zS(e)),r.push({filePath:e.registryPath,modifiedType:"create"})),r}async function VS(e,r){let n=(await jr(e,null,!1,!1,null,null,!1,!1)).components.find(i=>i.filePath===r);n&&await jr(e,n.id,!0,!1,null,null,!0,!1)}function Jm(e,r,t,n,i,s){let o=!e.hasAppModule,a=Se(e,t,e.registryPath),l=e.join(e.getAppRootDir(),"src","environments","environment.ts"),u=Se(e,t,l),c=s?`    <ng-container *ngIf="content || isPreviewing; else notFound">
      <builder-content
        [model]="model"
        [content]="content"
        [apiKey]="apiKey"
        [customComponents]="customComponents"
      ></builder-content>
    </ng-container>

    <ng-template #notFound>
      <div>404 - Content not found</div>
    </ng-template>`:`    <builder-content
      [model]="model"
      [content]="content"
      [apiKey]="apiKey"
      [customComponents]="customComponents"
    ></builder-content>`;return`
import { Component, Input } from '@angular/core';
import { fetchOneEntry, type BuilderContent${s?", isPreviewing":""} } from '@builder.io/sdk-angular';
${o?"import { Content } from '@builder.io/sdk-angular';":""}
${o?"import { CommonModule } from '@angular/common';":""}
import { environment } from ${JSON.stringify(u)};
import { CUSTOM_COMPONENTS } from ${JSON.stringify(a)};

@Component({
  selector: 'app-${n}',
  ${o?"standalone: true,":""}
  ${o?"imports: [Content, CommonModule],":""}
  template: \`
${c}
  \`,
})
export class ${r} {
  
  ${s?`isPreviewing = isPreviewing();
`:""}
  @Input() model = '${i}';

  apiKey = environment.${ta};
  ${e.typescriptEnabled?`
  content: BuilderContent | null = null;
`:`
  content = null;
`}

  customComponents = CUSTOM_COMPONENTS;

  async ngOnInit() {
    const urlPath = window.location.pathname || '/';

    const builderContent = await fetchOneEntry({
      model: this.model,
      apiKey: this.apiKey,
      userAttributes: {
        urlPath,
      },
    });

    if (!builderContent) {
      return;
    }

    this.content = builderContent;
  }
}

  `.trimStart()}function zS(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@builder.io/sdk-angular";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function qS(e,r){let n=e.typescriptEnabled?"ts":"js",i=e.join(e.componentsDir,`counter.component.${n}`),s=await e.exists(i);e.debug(`angularEnsureCounterComponent, hasCounterCmp: ${s}`);let o=WS(e);if(!s){let a=await e.formatCode(i,o);await e.writeFile(i,a),r.push({filePath:i,modifiedType:"create"})}return i}function WS(e){return`
import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-counter',
  ${e.hasAppModule?"":"standalone: true,"}
  template: \`
    <div class="counter">
      <button class="btn" (click)="decrement()">-</button>
      <span class="count">{{ count }}</span>
      <button class="btn" (click)="increment()">+</button>
    </div>
  \`,
  styles: [
    \`
      .counter {
        margin: 32px auto;
        display: flex;
        width: 100%;
        max-width: 190px;
      }

      .btn {
        width: 42px;
        font-size: 32px;
        font-weight: bold;
        background-color: #1c6bd1;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        line-height: 1.4;
      }

      .btn:hover {
        opacity: 0.8;
      }

      .count {
        flex: 1;
        font-size: 42px;
        text-align: center;
        margin: 0 8px;
      }
    \`,
  ],
})
export class Counter {
  @Input() initialCount: number = 99;
  count: number;

  constructor() {
    this.count = this.initialCount;
  }

  ngOnInit(): void {
    this.count = this.initialCount;
  }

  increment(): void {
    this.count += 1;
  }

  decrement(): void {
    this.count -= 1;
  }
}

`.trimStart()}async function Ym(e){await la(e);let r=await e.readFile(e.registryPath);return r?GS(e,r):{components:[],sourceFile:Ee(e,"")}}async function GS(e,r){let t=Ee(e,r);return HS(e,t)}async function HS(e,r){let t=[],n=at(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await _u(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:zt(t)}}async function _u(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],framework:"angular"};for(let i of t.properties){if(!e.ts.isPropertyAssignment(i)||!e.ts.isIdentifier(i.name))continue;if(ke(e,i)==="component"){let o,{initializer:a}=i;if(e.ts.isIdentifier(a))o=a.text;else if(e.ts.isCallExpression(a)){let u=a.arguments[0];e.ts.isIdentifier(u)&&(o=u.text)}if(!o)continue;n.name===""&&(n.name=Ve(o)),n.importName=o;let l=await Fr(e,e.registryPath,r,o);if(!l)continue;if(n.filePath=l.filePath,n.relFilePath=l.relFilePath,await e.exists(l.filePath)?n.importPath=$e(e,l.filePath):(n.externalImportPath=l.importPath,n.importPath=n.externalImportPath),n.displayFilePath=l.displayFilePath,n.exportType=l.exportType,n.externalImportPath)n.exportName=o;else{let u=await Im(e,l.filePath);if(u&&u.length>0)if(u.length===1)n.exportName=u[0].cmpInfo.exportName;else{let c=u.find(p=>p.cmpInfo.exportName===o);c&&(n.exportName=c.cmpInfo.exportName)}}continue}}return n=qt(e,n,t),n.filePath&&n.exportName&&(n.id=await Ue(e,n.filePath,n.exportName,n.externalImportPath)),n}async function jr(e,r,t,n,i,s,o,a){let l=await Pn(e),[u,c,p]=await Promise.all([Pm(e,l),Ym(e),ks(e)]),d=u.map(x=>x.cmpInfo),m=c.components,f={components:yr(d,m),registryPath:e.registryPath,registryDisplayPath:Fe(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:kr(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return f.components=await Nm(e,u,f.components),f;let h=!1,g=c.sourceFile,y=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(y.length>0){let x=y.map(E=>{let S=u.find(v=>v.cmpInfo.id===E);if(!S)throw new Error(`Component ${E} not found`);return S}),C=Array.from(new Set(x.map(E=>E.cmpInfo.filePath))),D=await ut(e,C);for(let E of x){let S=f.components.find(j=>j.id===E.cmpInfo.id),v=await Su(e,E,D);Qt(S,v);let O=d.findIndex(j=>j.id===E.cmpInfo.id);d[O].inputs=v;let B=Lr(E.cmpInfo.id,d,m,t,n,i,s),{elements:k,elmIndex:V,statementIndex:ne,statement:se,variableDeclaration:H}=await YS(e,g,E);if(B.addCmpToRegistry)k.push(JS(e,B.addCmpToRegistry)),h=!0;else if(B.removeCmpFromRegistry)k.splice(V,1),h=!0;else if(B.updateRegisteredCmp){let j=ct(e,k[V],B.updateRegisteredCmp);k[V]=e.ts.factory.updateObjectLiteralExpression(j,[Xm(e,B.updateRegisteredCmp),...j.properties.slice(1)]),h=!0}if(h&&o){let j=[...g.statements];j[ne]=e.ts.factory.updateVariableStatement(se,se.modifiers,e.ts.factory.updateVariableDeclarationList(se.declarationList,[e.ts.factory.updateVariableDeclaration(H,H.name,H.exclamationToken,H.type,e.ts.factory.createArrayLiteralExpression(Or(e,k)))])),g=e.ts.factory.updateSourceFile(g,j),S.exportType==="named"?g=Ce(e,g,{namedImports:[S.importName],importPath:S.externalImportPath?S.externalImportPath:Se(e,e.registryPath,S.filePath)}):g=Ce(e,g,{defaultImport:S.importName,importPath:S.externalImportPath?S.externalImportPath:Se(e,e.registryPath,S.filePath)}),g=Ce(e,g,{namedImports:["RegisteredComponent"],importPath:"@builder.io/sdk-angular",isTypeOnly:!0}),g=Br(e,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),f.components=B.components,m=B.components.filter(ie=>ie.isRegistered)}}}if(h&&o){g=Rr(e,g),g=_r(e,g);let x=dt(e,g);x=gr(x),x=await e.formatCode(e.registryPath,x),await e.writeFile(e.registryPath,x)}return f}function Xm(e,r){let t=e.ts.factory.createIdentifier(r.importName);return e.ts.factory.createPropertyAssignment("component",t)}function JS(e,r){return ct(e,e.ts.factory.createObjectLiteralExpression([Xm(e,r)],!0),r)}async function YS(e,r,t){let n=at(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Builder registry must be "CUSTOM_COMPONENTS". Please update your Builder registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await _u(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}async function Qm(e){let r=await XS(e),t={};return{builderPageOptions:async()=>({templateContentId:"f0b8016ac92e474699293211a268ebaa",pathname:"/builder-demo",title:"Builder + Angular Demo Page"}),ensureBuilderSetup:()=>Gm(r),ensureFigmaImportPage:()=>Hm(r),getRegistryPath:()=>r.registryPath,getRegistry:i=>jr(r,null,!1,!1,null,null,!1,!!i?.readAllInputTypes),addExternalPackage:async i=>{t[i]||(t[i]=`export * from "${i}";`)},loadComponent:async i=>{let s=await jr(r,i.cmpId,!1,!1,null,null,!1,!1);return{...s,component:s.components.find(o=>o.id===i.cmpId)}},registerComponent:i=>jr(r,i.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:i=>jr(r,i.cmpId,!1,!1,i,null,!0,!1),setRegisteredComponentInput:i=>jr(r,i.cmpId,!1,!1,null,i,!0,!1),unregisterComponent:i=>jr(r,i.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>ks(r),setPublicApiKey:i=>vm(r,i.publicApiKey),getDependencies:i=>[{name:"@builder.io/dev-tools"},{name:"@builder.io/sdk-angular"},{name:"concurrently"}],getDevRunCommand:()=>"builder-dev",getCache:()=>Pr(r),setCache:i=>Ir(r,i)}}async function XS(e){let r=await QS(e),t=e.getAppRootDir(),n=e.join(t,"src"),i=await Xt(e),s=e.join(n,"app"),o=await lr(e,s),a={...e,srcDir:"",appDir:"",componentsDir:"",registryPath:o,angularConfigPath:r,typescriptEnabled:i,builderPageComponentPath:"",hasAppModule:!1};if(!await e.exists(n))throw new Error(`Could not find src directory. Searched for src in "${e.getAppRootDir()}".`);a.srcDir=n,a.appDir=s,a.componentsDir=e.join(a.appDir,"components"),a.builderPageComponentPath=e.join(a.componentsDir,`builder-page.component.${i?"ts":"js"}`);let l=`app.module.${i?"ts":"js"}`,u=e.join(a.appDir,l);return await e.exists(u)&&(a.hasAppModule=!0),a}async function QS(e){let r=e.join(e.getAppRootDir(),"angular.json");if(await e.exists(r))return r;let t=e.join(e.getAppRootDir(),"project.json");if(await e.exists(t))return t;if(e.ignoreMissingConfig)return"";throw new Error(`Could not find Angular config file. Searched for angular.json & project.json in "${e.getAppRootDir()}".`)}b();var da=q(ph(),1);async function dh(e,r){let n={components:(await r.getRegistry()).components.filter(s=>s.isRegistered).map(s=>{let o={filePath:hr(e.relative(e.getAppRootDir(),s.filePath)),name:s.name,image:s.image,description:s.description,exportName:s.exportName,inputs:Yt(s.inputs)};return Yt(o)}),version:1};e.debug("exporting registry components:",n.components.length);let i=(0,da.compress)(n);return btoa(JSON.stringify(i))}async function fh(e,r,t){if(typeof t!="string")throw new Error("Invalid registry to import");let n=await r.getRegistry(),i=JSON.parse(atob(t)),s=(0,da.decompress)(i),o=Yt(n);e.debug("importing registry components:",s.components.length);for(let a of s.components){let l=hr(e.normalize(a.filePath)),u=n.components.find(p=>hr(p.filePath).endsWith(l)&&p.exportName===a.exportName);if(!u){console.error(`Could not find component to register: ${a.filePath}, ${a.exportName}`);continue}e.debug(`register (${u.id})`,u.filePath),await r.registerComponent({cmpId:u.id});for(let p of a.inputs)e.debug(`set input (${u.id})`),await r.setRegisteredComponentInput({cmpId:u.id,name:p.name,type:p.type,required:p.required,defaultValue:p.defaultValue,friendlyName:p.friendlyName,helperText:p.helperText});e.debug(`set input (${u.id}) info`);let c=await r.setRegisteredComponentInfo({cmpId:u.id,name:a.name,image:a.image,description:a.description});o=Yt(c)}return o}b();var Dr={react:"react",remix:"remix",angular:"angular",next:"next",qwik:"qwik"},RB={[Dr.react]:[{version:re.gen1,recommended:!0},{version:re.gen2,recommended:!1}],[Dr.remix]:[{version:re.gen1,recommended:!1},{version:re.gen2,recommended:!0}],[Dr.angular]:[{version:re.gen2,recommended:!0}],[Dr.next]:[{version:re.gen1,recommended:!0},{version:re.gen2,recommended:!1}],[Dr.qwik]:[{version:re.gen2,recommended:!0}]};b();async function mh(e,r){let t=[],n=new Set;async function i(s){let o=e.join(s,"package.json");try{if(!await e.exists(o))return null;let l=await e.readFile(o);if(l===null)throw new Error(`Failed to read package.json at ${o}`);let u=JSON.parse(l);if(n.has(u.name))return null;n.add(u.name);let c={name:u.name,subPackages:[]},p=await e.readdir(s);for(let d of p)d!=="node_modules"&&(await e.stat(e.join(s,d))).isDirectory()&&c.subPackages.push(d);return t.push(c),c}catch(a){return e.Sentry?.captureException(a,{level:"warning"}),null}}try{let s=e.join(r,"package.json");if(await e.exists(s)){let a=await e.readFile(s);if(a!==null){let l=JSON.parse(a),u={...l.dependencies,...l.devDependencies};for(let c of Object.keys(u)){let p=e.join(r,"node_modules",c);await i(p)}if(l.workspaces)for(let c of l.workspaces){let p=await e.readdir(e.join(r,c));for(let d of p){let m=e.join(r,c,d);await i(m)}}}}}catch(s){e.Sentry?.captureException(s,{level:"warning"})}return t}var Cw={"@builder.io/qwik-city":lm,next:Xf,"@remix-run/react":gm,react:Am,"@angular/core":Qm},Sw={"@builder.io/qwik-city":Dr.qwik,next:Dr.next,"@remix-run/react":Dr.remix,react:Dr.react,"@angular/core":Dr.angular};async function kn(e){if(!e.ts)throw new Error("createDevTools() requires a TypeScript instance passed to the 'ts' option");if((!e.frameworks||e.frameworks.length===0)&&(e.frameworks=await Jn(e)),e.frameworks.length===0)throw new Error("Supported Devtools framework for not found");for(let r of e.frameworks){let t=Cw[r.name];if(t)try{let n=await t(e);return{...n,exportRegistry:()=>dh(e,n),importRegistry:s=>fh(e,n,s),framework:Sw[r.name],findAllDependencies:async()=>await mh(e,e.getRepoRootDir())}}catch(n){e.Sentry?.captureException(n,{level:"warning"})}}throw new Error(`Devtools framework not found for ${e.getAppRootDir()}, ${JSON.stringify(e.frameworks,null,2)}`)}b();b();b();b();b();b();b();b();var jM=`
/** @type {import('next').NextConfig} */
const nextConfig = {
}
 
module.exports = nextConfig
`.trimStart();b();b();b();b();b();function ww(e){let r=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+n+"|"+r.optional(i)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:r.optional(i)+e.IDENT_RE,relevance:0},m=r.optional(i)+e.IDENT_RE+"\\s*\\(",f=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],h=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],g=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],D={type:h,keyword:f,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:g},E={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:r.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,r.lookahead(/(<[^<>]+>|)\s*\(/))},S=[E,p,a,t,e.C_BLOCK_COMMENT_MODE,c,u],v={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:D,contains:S.concat([{begin:/\(/,end:/\)/,keywords:D,contains:S.concat(["self"]),relevance:0}]),relevance:0},O={className:"function",begin:"("+o+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:D,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:D,relevance:0},{begin:m,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,c]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:D,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,u,c,a,{begin:/\(/,end:/\)/,keywords:D,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,u,c,a]}]},a,t,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:D,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(v,O,E,S,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:D,contains:["self",a]},{begin:e.IDENT_RE+"::",keywords:D},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function hh(e){let r={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},t=ww(e),n=t.keywords;return n.type=[...n.type,...r.type],n.literal=[...n.literal,...r.literal],n.built_in=[...n.built_in,...r.built_in],n._hints=r._hints,t.name="Arduino",t.aliases=["ino"],t.supersetOf="cpp",t}b();function gh(e){let r=e.regex,t={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[t]}]};Object.assign(t,{className:"variable",variants:[{begin:r.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});let i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t,i]};i.contains.push(o);let a={match:/\\"/},l={className:"string",begin:/'/,end:/'/},u={match:/\\'/},c={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,t]},p=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],d=e.SHEBANG({binary:`(${p.join("|")})`,relevance:10}),m={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},f=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],h=["true","false"],g={match:/(\/[a-z._-]+)+/},y=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],x=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],C=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],D=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:f,literal:h,built_in:[...y,...x,"set","shopt",...C,...D]},contains:[d,e.SHEBANG(),m,c,e.HASH_COMMENT_MODE,s,g,o,a,l,u,t]}}b();function yh(e){let r=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+n+"|"+r.optional(i)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:r.optional(i)+e.IDENT_RE,relevance:0},m=r.optional(i)+e.IDENT_RE+"\\s*\\(",g={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[p,a,t,e.C_BLOCK_COMMENT_MODE,c,u],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:g,contains:y.concat([{begin:/\(/,end:/\)/,keywords:g,contains:y.concat(["self"]),relevance:0}]),relevance:0},C={begin:"("+o+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:g,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:g,relevance:0},{begin:m,returnBegin:!0,contains:[e.inherit(d,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:g,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,u,c,a,{begin:/\(/,end:/\)/,keywords:g,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,u,c,a]}]},a,t,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C",aliases:["h"],keywords:g,disableAutodetect:!0,illegal:"</",contains:[].concat(x,C,y,[p,{begin:e.IDENT_RE+"::",keywords:g},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:p,strings:u,keywords:g}}}b();function bh(e){let r=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+n+"|"+r.optional(i)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:r.optional(i)+e.IDENT_RE,relevance:0},m=r.optional(i)+e.IDENT_RE+"\\s*\\(",f=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],h=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],g=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],D={type:h,keyword:f,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:g},E={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:r.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,r.lookahead(/(<[^<>]+>|)\s*\(/))},S=[E,p,a,t,e.C_BLOCK_COMMENT_MODE,c,u],v={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:D,contains:S.concat([{begin:/\(/,end:/\)/,keywords:D,contains:S.concat(["self"]),relevance:0}]),relevance:0},O={className:"function",begin:"("+o+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:D,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:D,relevance:0},{begin:m,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,c]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:D,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,u,c,a,{begin:/\(/,end:/\)/,keywords:D,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,u,c,a]}]},a,t,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:D,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(v,O,E,S,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:D,contains:["self",a]},{begin:e.IDENT_RE+"::",keywords:D},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}b();function Dh(e){let r=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],t=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],n=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:r,literal:n},a=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},c=e.inherit(u,{illegal:/\n/}),p={className:"subst",begin:/\{/,end:/\}/,keywords:o},d=e.inherit(p,{illegal:/\n/}),m={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,d]},f={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]},h=e.inherit(f,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},d]});p.contains=[f,m,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],d.contains=[h,m,c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let g={variants:[f,m,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},y={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},x=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",C={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},g,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,y,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,y,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+x+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:t.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,y],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[g,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},C]}}b();var Aw=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),vw=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Tw=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Pw=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Iw=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Nw=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function xh(e){let r=e.regex,t=Aw(e),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[t.BLOCK_COMMENT,n,t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Pw.join("|")+")"},{begin:":(:)?("+Iw.join("|")+")"}]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Nw.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[t.BLOCK_COMMENT,t.HEXCOLOR,t.IMPORTANT,t.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},t.FUNCTION_DISPATCH]},{begin:r.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Tw.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+vw.join("|")+")\\b"}]}}b();function Eh(e){let r=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:r.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:r.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}b();function Ch(e){let s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}b();function Sh(e){let r=e.regex,t=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:r.concat(t,r.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}b();function wh(e){let r=e.regex,t={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},n=e.COMMENT();n.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];let i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[n,s,i,o,t,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,c=/'[^']*'/,p=r.either(l,u,c),d=r.concat(p,"(\\s*\\.\\s*",p,")*",r.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[n,{className:"section",begin:/\[+/,end:/\]+/},{begin:d,className:"attr",starts:{end:/$/,contains:[n,a,s,i,o,t]}}]}}b();var _i="[0-9](_*[0-9])*",fa=`\\.(${_i})`,ma="[0-9a-fA-F](_*[0-9a-fA-F])*",Ah={className:"number",variants:[{begin:`(\\b(${_i})((${fa})|\\.)?|(${fa}))[eE][+-]?(${_i})[fFdD]?\\b`},{begin:`\\b(${_i})((${fa})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${fa})[fFdD]?\\b`},{begin:`\\b(${_i})[fFdD]\\b`},{begin:`\\b0[xX]((${ma})\\.?|(${ma})?\\.(${ma}))[pP][+-]?(${_i})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${ma})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function vh(e,r,t){return t===-1?"":e.replace(r,n=>vh(e,r,t-1))}function Th(e){let r=e.regex,t="[\xC0-\u02B8a-zA-Z_$][\xC0-\u02B8a-zA-Z_$0-9]*",n=t+vh("(?:<"+t+"~~~(?:\\s*,\\s*"+t+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+t,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},c={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,t],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[r.concat(/(?!else)/,t),/\s+/,t,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,t],className:{1:"keyword",3:"title.class"},contains:[c,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+n+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Ah,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Ah,u]}}b();var Ph="[A-Za-z$_][0-9A-Za-z$_]*",Fw=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],kw=["true","false","null","undefined","NaN","Infinity"],Ih=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Nh=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Fh=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],_w=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Ow=[].concat(Fh,Ih,Nh);function kh(e){let r=e.regex,t=(M,{after:R})=>{let T="</"+M[0].slice(1);return M.input.indexOf(T,R)!==-1},n=Ph,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(M,R)=>{let T=M[0].length+M.index,N=M.input[T];if(N==="<"||N===","){R.ignoreMatch();return}N===">"&&(t(M,{after:T})||R.ignoreMatch());let $,J=M.input.substring(T);if($=J.match(/^\s*=/)){R.ignoreMatch();return}if(($=J.match(/^\s+extends\s+/))&&$.index===0){R.ignoreMatch();return}}},a={$pattern:Ph,keyword:Fw,literal:kw,built_in:Ow,"variable.language":_w},l="[0-9](_?[0-9])*",u=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},m={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},f={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},h={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},C=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,f,h,g,{match:/\$\d+/},p];d.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});let D=[].concat(x,d.contains),E=D.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(D)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:E},v={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,r.concat(n,"(",r.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},O={relevance:0,match:r.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ih,...Nh]}},B={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},k={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},V={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ne(M){return r.concat("(?!",M.join("|"),")")}let se={match:r.concat(/\b/,ne([...Fh,"super","import"]),n,r.lookahead(/\(/)),className:"title.function",relevance:0},H={begin:r.concat(/\./,r.lookahead(r.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},ie="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",I={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,r.lookahead(ie)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:E,CLASS_REFERENCE:O},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),B,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,f,h,g,x,{match:/\$\d+/},p,O,{className:"attr",begin:n+r.lookahead(":"),relevance:0},I,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:ie,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:E}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},H,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},se,V,v,j,{match:/\$[(.]/}]}}b();function _h(e){let r={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},t={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],i={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",keywords:{literal:n},contains:[r,t,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}b();var Oi="[0-9](_*[0-9])*",ha=`\\.(${Oi})`,ga="[0-9a-fA-F](_*[0-9a-fA-F])*",Rw={className:"number",variants:[{begin:`(\\b(${Oi})((${ha})|\\.)?|(${ha}))[eE][+-]?(${Oi})[fFdD]?\\b`},{begin:`\\b(${Oi})((${ha})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ha})[fFdD]?\\b`},{begin:`\\b(${Oi})[fFdD]\\b`},{begin:`\\b0[xX]((${ga})\\.?|(${ga})?\\.(${ga}))[pP][+-]?(${Oi})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${ga})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Oh(e){let r={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},t={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);let a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},u=Rw,c=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),p={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=p;return d.variants[1].contains=[p],p.variants[1].contains=[d],{name:"Kotlin",aliases:["kt","kts"],keywords:r,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,c,t,n,a,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:r,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:r,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[p,e.C_LINE_COMMENT_MODE,c],relevance:0},e.C_LINE_COMMENT_MODE,c,a,l,o,e.C_NUMBER_MODE]},c]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}b();var Lw=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Bw=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Mw=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Rh=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Lh=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],$w=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),Uw=Rh.concat(Lh);function Bh(e){let r=Lw(e),t=Uw,n="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],a=[],l=function(C){return{className:"string",begin:"~?"+C+".*?"+C}},u=function(C,D,E){return{className:C,begin:D,relevance:E}},c={$pattern:/[a-z-]+/,keyword:n,attribute:Mw.join(" ")},p={begin:"\\(",end:"\\)",contains:a,keywords:c,relevance:0};a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),r.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},r.HEXCOLOR,p,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},r.IMPORTANT,{beginKeywords:"and not"},r.FUNCTION_DISPATCH);let d=a.concat({begin:/\{/,end:/\}/,contains:o}),m={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},f={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+$w.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},h={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:c,returnEnd:!0,contains:a,relevance:0}},g={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:d}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,m,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+Bw.join("|")+")\\b",className:"selector-tag"},r.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Rh.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Lh.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},r.FUNCTION_DISPATCH]},x={begin:i+`:(:)?(${t.join("|")})`,returnBegin:!0,contains:[y]};return o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,h,g,x,f,y,m,r.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}b();function Mh(e){let r="\\[=*\\[",t="\\]=*\\]",n={begin:r,end:t,contains:["self"]},i=[e.COMMENT("--(?!"+r+")","$"),e.COMMENT("--"+r,t,{contains:[n],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:r,end:t,contains:[n],relevance:5}])}}b();function $h(e){let r={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},t={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r]},n={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[r]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[r]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,r,t,n,i,s,o]}}b();function Uh(e){let r=e.regex,t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:r.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},c={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},p=e.inherit(u,{contains:[]}),d=e.inherit(c,{contains:[]});u.contains.push(d),c.contains.push(p);let m=[t,l];return[u,c,p,d].forEach(g=>{g.contains=g.contains.concat(m)}),m=m.concat(u,c),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:m},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:m}]}]},t,s,u,c,{className:"quote",begin:"^>\\s+",contains:m,end:"$"},i,n,l,o]}}b();function jh(e){let r={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},t=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:t,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:t,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[r,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}b();function Kh(e){let r=e.regex,t=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],n=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:t.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},a={variants:[{begin:/\$\d/},{begin:r.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},l=[e.BACKSLASH_ESCAPE,s,a],u=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],c=(m,f,h="\\1")=>{let g=h==="\\1"?h:r.concat(h,f);return r.concat(r.concat("(?:",m,")"),f,/(?:\\.|[^\\\/])*?/,g,/(?:\\.|[^\\\/])*?/,h,n)},p=(m,f,h)=>r.concat(r.concat("(?:",m,")"),f,/(?:\\.|[^\\\/])*?/,h,n),d=[a,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:l,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:c("s|tr|y",r.either(...u,{capture:!0}))},{begin:c("s|tr|y","\\(","\\)")},{begin:c("s|tr|y","\\[","\\]")},{begin:c("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",r.either(...u,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=d,o.contains=d,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:d}}b();function Vh(e){let r=e.regex,t=/(?![A-Za-z0-9])(?![$])/,n=r.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,t),i=r.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,t),s={scope:"variable",match:"\\$+"+n},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},a={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},l=e.inherit(e.APOS_STRING_MODE,{illegal:null}),u=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(a)}),c={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(a),"on:begin":(se,H)=>{H.data._beginMatch=se[1]||se[2]},"on:end":(se,H)=>{H.data._beginMatch!==se[1]&&H.ignoreMatch()}},p=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),d=`[ 	
]`,m={scope:"string",variants:[u,l,c,p]},f={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},h=["false","null","true"],g=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],y=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],C={keyword:g,literal:(se=>{let H=[];return se.forEach(j=>{H.push(j),j.toLowerCase()===j?H.push(j.toUpperCase()):H.push(j.toLowerCase())}),H})(h),built_in:y},D=se=>se.map(H=>H.replace(/\|\d+$/,"")),E={variants:[{match:[/new/,r.concat(d,"+"),r.concat("(?!",D(y).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},S=r.concat(n,"\\b(?!\\()"),v={variants:[{match:[r.concat(/::/,r.lookahead(/(?!class\b)/)),S],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,r.concat(/::/,r.lookahead(/(?!class\b)/)),S],scope:{1:"title.class",3:"variable.constant"}},{match:[i,r.concat("::",r.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},O={scope:"attr",match:r.concat(n,r.lookahead(":"),r.lookahead(/(?!::)/))},B={relevance:0,begin:/\(/,end:/\)/,keywords:C,contains:[O,s,v,e.C_BLOCK_COMMENT_MODE,m,f,E]},k={relevance:0,match:[/\b/,r.concat("(?!fn\\b|function\\b|",D(g).join("\\b|"),"|",D(y).join("\\b|"),"\\b)"),n,r.concat(d,"*"),r.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[B]};B.contains.push(k);let V=[O,v,e.C_BLOCK_COMMENT_MODE,m,f,E],ne={begin:r.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:h,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:h,keyword:["new","array"]},contains:["self",...V]},...V,{scope:"meta",match:i}]};return{case_insensitive:!1,keywords:C,contains:[ne,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},s,k,v,{match:[/const/,/\s/,n],scope:{1:"keyword",3:"variable.constant"}},E,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:C,contains:["self",s,v,e.C_BLOCK_COMMENT_MODE,m,f]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},m,f]}}b();function zh(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}b();function qh(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}b();function Wh(e){let r=e.regex,t=/[\p{XID_Start}_]\p{XID_Continue}*/u,n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},c={begin:/\{\{/,relevance:0},p={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,c,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,c,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,c,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,c,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},d="[0-9](_?[0-9])*",m=`(\\b(${d}))?\\.(${d})|\\b(${d})\\.`,f=`\\b|${n.join("|")}`,h={className:"number",relevance:0,variants:[{begin:`(\\b(${d})|(${m}))[eE][+-]?(${d})[jJ]?(?=${f})`},{begin:`(${m})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${f})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${f})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${f})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${f})`},{begin:`\\b(${d})[jJ](?=${f})`}]},g={className:"comment",begin:r.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,h,p,e.HASH_COMMENT_MODE]}]};return u.contains=[p,h,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,h,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},p,g,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,t,/\s*/,/\(\s*/,t,/\s*\)/]},{match:[/\bclass/,/\s+/,t]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[h,y,p]}]}}b();function Gh(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}b();function Hh(e){let r=e.regex,t=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,n=r.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=r.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:t,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:r.lookahead(r.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:t},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,n]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,n]},{scope:{1:"punctuation",2:"number"},match:[s,n]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,n]}]},{scope:{3:"operator"},match:[t,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}b();function Jh(e){let r=e.regex,t="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n=r.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=r.concat(n,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[a]}),e.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],c={className:"subst",begin:/#\{/,end:/\}/,keywords:o},p={className:"string",contains:[e.BACKSLASH_ESCAPE,c],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:r.concat(/<<[-~]?'?/,r.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,c]})]}]},d="[1-9](_?[0-9])*|0",m="[0-9](_?[0-9])*",f={className:"number",relevance:0,variants:[{begin:`\\b(${d})(\\.(${m}))?([eE][+-]?(${m})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},h={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},S=[p,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:n,scope:"title.class"},{match:[/def/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[h]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[p,{begin:t}],relevance:0},f,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,c],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,u),relevance:0}].concat(l,u);c.contains=S,h.contains=S;let k=[{begin:/^\s*=>/,starts:{end:"$",contains:S}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:S}}];return u.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(k).concat(u).concat(S)}}b();function Yh(e){let r=e.regex,t={className:"title.function.invoke",relevance:0,begin:r.concat(/\b/,/(?!let|for|while|if|else|match\b)/,e.IDENT_RE,r.lookahead(/\s*\(/))},n="([ui](8|16|32|64|128|size)|f(32|64))?",i=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],s=["true","false","Some","None","Ok","Err"],o=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],a=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:a,keyword:i,literal:s,built_in:o},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+n},{begin:"\\b0o([0-7_]+)"+n},{begin:"\\b0x([A-Fa-f0-9_]+)"+n},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+n}],relevance:0},{begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:o,type:a}},{className:"punctuation",begin:"->"},t]}}b();var jw=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Kw=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Vw=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],zw=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],qw=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Ww=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function Xh(e){let r=jw(e),t=qw,n=zw,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Kw.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+t.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[r.CSS_NUMBER_MODE]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Ww.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[r.BLOCK_COMMENT,a,r.HEXCOLOR,r.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,r.IMPORTANT,r.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:Vw.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,r.HEXCOLOR,r.CSS_NUMBER_MODE]},r.FUNCTION_DISPATCH]}}b();function Qh(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}b();function Zh(e){let r=e.regex,t=e.COMMENT("--","$"),n={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},i={begin:/"/,end:/"/,contains:[{begin:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],c=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],p=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],d=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],m=c,f=[...u,...l].filter(C=>!c.includes(C)),h={className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},g={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={begin:r.concat(/\b/,r.either(...m),/\s*\(/),relevance:0,keywords:{built_in:m}};function x(C,{exceptions:D,when:E}={}){let S=E;return D=D||[],C.map(v=>v.match(/\|\d+$/)||D.includes(v)?v:S(v)?`${v}|0`:v)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:x(f,{when:C=>C.length<3}),literal:s,type:a,built_in:p},contains:[{begin:r.either(...d),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:f.concat(d),literal:s,type:a}},{className:"type",begin:r.either(...o)},y,h,n,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t,g]}}b();function ng(e){return e?typeof e=="string"?e:e.source:null}function ya(e){return Le("(?=",e,")")}function Le(...e){return e.map(t=>ng(t)).join("")}function Gw(e){let r=e[e.length-1];return typeof r=="object"&&r.constructor===Object?(e.splice(e.length-1,1),r):{}}function Wt(...e){return"("+(Gw(e).capture?"":"?:")+e.map(n=>ng(n)).join("|")+")"}var Qu=e=>Le(/\b/,e,/\w$/.test(e)?/\b/:/\B/),Hw=["Protocol","Type"].map(Qu),eg=["init","self"].map(Qu),Jw=["Any","Self"],Ju=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],tg=["false","nil","true"],Yw=["assignment","associativity","higherThan","left","lowerThan","none","right"],Xw=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],rg=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],ig=Wt(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),sg=Wt(ig,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Yu=Le(ig,sg,"*"),og=Wt(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),ba=Wt(og,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),ln=Le(og,ba,"*"),Xu=Le(/[A-Z]/,ba,"*"),Qw=["attached","autoclosure",Le(/convention\(/,Wt("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Le(/objc\(/,ln,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],Zw=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function ag(e){let r={match:/\s+/,relevance:0},t=e.COMMENT("/\\*","\\*/",{contains:["self"]}),n=[e.C_LINE_COMMENT_MODE,t],i={match:[/\./,Wt(...Hw,...eg)],className:{2:"keyword"}},s={match:Le(/\./,Wt(...Ju)),relevance:0},o=Ju.filter(Ne=>typeof Ne=="string").concat(["_|0"]),a=Ju.filter(Ne=>typeof Ne!="string").concat(Jw).map(Qu),l={variants:[{className:"keyword",match:Wt(...a,...eg)}]},u={$pattern:Wt(/\b\w+/,/#\w+/),keyword:o.concat(Xw),literal:tg},c=[i,s,l],p={match:Le(/\./,Wt(...rg)),relevance:0},d={className:"built_in",match:Le(/\b/,Wt(...rg),/(?=\()/)},m=[p,d],f={match:/->/,relevance:0},h={className:"operator",relevance:0,variants:[{match:Yu},{match:`\\.(\\.|${sg})+`}]},g=[f,h],y="([0-9]_*)+",x="([0-9a-fA-F]_*)+",C={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${x})(\\.(${x}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},D=(Ne="")=>({className:"subst",variants:[{match:Le(/\\/,Ne,/[0\\tnr"']/)},{match:Le(/\\/,Ne,/u\{[0-9a-fA-F]{1,8}\}/)}]}),E=(Ne="")=>({className:"subst",match:Le(/\\/,Ne,/[\t ]*(?:[\r\n]|\r\n)/)}),S=(Ne="")=>({className:"subst",label:"interpol",begin:Le(/\\/,Ne,/\(/),end:/\)/}),v=(Ne="")=>({begin:Le(Ne,/"""/),end:Le(/"""/,Ne),contains:[D(Ne),E(Ne),S(Ne)]}),O=(Ne="")=>({begin:Le(Ne,/"/),end:Le(/"/,Ne),contains:[D(Ne),S(Ne)]}),B={className:"string",variants:[v(),v("#"),v("##"),v("###"),O(),O("#"),O("##"),O("###")]},k=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],V={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:k},ne=Ne=>{let Zr=Le(Ne,/\//),Cn=Le(/\//,Ne);return{begin:Zr,end:Cn,contains:[...k,{scope:"comment",begin:`#(?!.*${Cn})`,end:/$/}]}},se={scope:"regexp",variants:[ne("###"),ne("##"),ne("#"),V]},H={match:Le(/`/,ln,/`/)},j={className:"variable",match:/\$\d+/},ie={className:"variable",match:`\\$${ba}+`},I=[H,j,ie],M={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Zw,contains:[...g,C,B]}]}},R={scope:"keyword",match:Le(/@/,Wt(...Qw))},T={scope:"meta",match:Le(/@/,ln)},N=[M,R,T],$={match:ya(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Le(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,ba,"+")},{className:"type",match:Xu,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Le(/\s+&\s+/,ya(Xu)),relevance:0}]},J={begin:/</,end:/>/,keywords:u,contains:[...n,...c,...N,f,$]};$.contains.push(J);let xe={match:Le(ln,/\s*:/),keywords:"_|0",relevance:0},oe={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",xe,...n,se,...c,...m,...g,C,B,...I,...N,$]},me={begin:/</,end:/>/,keywords:"repeat each",contains:[...n,$]},bt={begin:Wt(ya(Le(ln,/\s*:/)),ya(Le(ln,/\s+/,ln,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:ln}]},Ot={begin:/\(/,end:/\)/,keywords:u,contains:[bt,...n,...c,...g,C,B,...N,$,oe],endsParent:!0,illegal:/["']/},Xr={match:[/(func|macro)/,/\s+/,Wt(H.match,ln,Yu)],className:{1:"keyword",3:"title.function"},contains:[me,Ot,r],illegal:[/\[/,/%/]},hs={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[me,Ot,r],illegal:/\[|%/},Qr={match:[/operator/,/\s+/,Yu],className:{1:"keyword",3:"title"}},gs={begin:[/precedencegroup/,/\s+/,Xu],className:{1:"keyword",3:"title"},contains:[$],keywords:[...Yw,...tg],end:/}/};for(let Ne of B.variants){let Zr=Ne.contains.find(ir=>ir.label==="interpol");Zr.keywords=u;let Cn=[...c,...m,...g,C,B,...I];Zr.contains=[...Cn,{begin:/\(/,end:/\)/,contains:["self",...Cn]}]}return{name:"Swift",keywords:u,contains:[...n,Xr,hs,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:u,contains:[e.inherit(e.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...c]},Qr,gs,{beginKeywords:"import",end:/$/,contains:[...n],relevance:0},se,...c,...m,...g,C,B,...I,...N,$,oe]}}b();var Da="[A-Za-z$_][0-9A-Za-z$_]*",lg=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],ug=["true","false","null","undefined","NaN","Infinity"],cg=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],pg=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],dg=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],fg=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],mg=[].concat(dg,cg,pg);function eA(e){let r=e.regex,t=(M,{after:R})=>{let T="</"+M[0].slice(1);return M.input.indexOf(T,R)!==-1},n=Da,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(M,R)=>{let T=M[0].length+M.index,N=M.input[T];if(N==="<"||N===","){R.ignoreMatch();return}N===">"&&(t(M,{after:T})||R.ignoreMatch());let $,J=M.input.substring(T);if($=J.match(/^\s*=/)){R.ignoreMatch();return}if(($=J.match(/^\s+extends\s+/))&&$.index===0){R.ignoreMatch();return}}},a={$pattern:Da,keyword:lg,literal:ug,built_in:mg,"variable.language":fg},l="[0-9](_?[0-9])*",u=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},m={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},f={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},h={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},C=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,f,h,g,{match:/\$\d+/},p];d.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});let D=[].concat(x,d.contains),E=D.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(D)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:E},v={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,r.concat(n,"(",r.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},O={relevance:0,match:r.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...cg,...pg]}},B={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},k={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},V={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ne(M){return r.concat("(?!",M.join("|"),")")}let se={match:r.concat(/\b/,ne([...dg,"super","import"]),n,r.lookahead(/\(/)),className:"title.function",relevance:0},H={begin:r.concat(/\./,r.lookahead(r.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},j={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},ie="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",I={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,r.lookahead(ie)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:E,CLASS_REFERENCE:O},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),B,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,m,f,h,g,x,{match:/\$\d+/},p,O,{className:"attr",begin:n+r.lookahead(":"),relevance:0},I,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:ie,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:E}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},H,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},se,V,v,j,{match:/\$[(.]/}]}}function hg(e){let r=eA(e),t=Da,n=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[r.exports.CLASS_REFERENCE]},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:n},contains:[r.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},a=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],l={$pattern:Da,keyword:lg.concat(a),literal:ug,built_in:mg.concat(n),"variable.language":fg},u={className:"meta",begin:"@"+t},c=(d,m,f)=>{let h=d.contains.findIndex(g=>g.label===m);if(h===-1)throw new Error("can not find mode to replace");d.contains.splice(h,1,f)};Object.assign(r.keywords,l),r.exports.PARAMS_CONTAINS.push(u),r.contains=r.contains.concat([u,i,s]),c(r,"shebang",e.SHEBANG()),c(r,"use_strict",o);let p=r.contains.find(d=>d.label==="func.def");return p.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}b();function gg(e){let r=e.regex,t={className:"string",begin:/"(""|[^/n])"C\b/},n={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:r.concat(/# */,r.either(s,i),/ *#/)},{begin:r.concat(/# */,a,/ *#/)},{begin:r.concat(/# */,o,/ *#/)},{begin:r.concat(/# */,r.either(s,i),/ +/,r.either(o,a),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},c={className:"label",begin:/^\w+:/},p=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),d=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[t,n,l,u,c,p,d,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[d]}]}}b();function yg(e){e.regex;let r=e.COMMENT(/\(;/,/;\)/);r.contains.push("self");let t=e.COMMENT(/;;/,/$/),n=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:n},contains:[t,r,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,e.QUOTE_STRING_MODE,l,u,a]}}b();function bg(e){let r=e.regex,t=r.concat(/[\p{L}_]/u,r.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(s,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:r.concat(/</,r.lookahead(r.concat(t,r.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:u}]},{className:"tag",begin:r.concat(/<\//,r.lookahead(r.concat(t,/>/))),contains:[{className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}b();function Dg(e){let r="true false yes no null",t="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},o=e.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),p={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},d={end:",",endsWithParent:!0,excludeEnd:!0,keywords:r,relevance:0},m={begin:/\{/,end:/\}/,contains:[d],illegal:"\\n",relevance:0},f={begin:"\\[",end:"\\]",contains:[d],illegal:"\\n",relevance:0},h=[n,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+t},{className:"type",begin:"!<"+t+">"},{className:"type",begin:"!"+t},{className:"type",begin:"!!"+t},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:r,keywords:{literal:r}},p,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},m,f,s],g=[...h];return g.pop(),g.push(o),d.contains=g,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:h}}var Ri={arduino:hh,bash:gh,c:yh,cpp:bh,csharp:Dh,css:xh,diff:Eh,go:Ch,graphql:Sh,ini:wh,java:Th,javascript:kh,json:_h,kotlin:Oh,less:Bh,lua:Mh,makefile:$h,markdown:Uh,objectivec:jh,perl:Kh,php:Vh,"php-template":zh,plaintext:qh,python:Wh,"python-repl":Gh,r:Hh,ruby:Jh,rust:Yh,scss:Xh,shell:Qh,sql:Zh,swift:ag,typescript:hg,vbnet:gg,wasm:yg,xml:bg,yaml:Dg};b();b();var Ug=q($g(),1);var jg=Ug.default;var Kg={},zA="hljs-";function lc(e){let r=jg.newInstance();return e&&s(e),{highlight:t,highlightAuto:n,listLanguages:i,register:s,registerAlias:o,registered:a};function t(l,u,c){let p=c||Kg,d=typeof p.prefix=="string"?p.prefix:zA;if(!r.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");r.configure({__emitter:ac,classPrefix:d});let m=r.highlight(u,{ignoreIllegals:!0,language:l});if(m.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:m.errorRaised});let f=m._emitter.root,h=f.data;return h.language=m.language,h.relevance=m.relevance,f}function n(l,u){let p=(u||Kg).subset||i(),d=-1,m=0,f;for(;++d<p.length;){let h=p[d];if(!r.getLanguage(h))continue;let g=t(h,l,u);g.data&&g.data.relevance!==void 0&&g.data.relevance>m&&(m=g.data.relevance,f=g)}return f||{type:"root",children:[],data:{language:void 0,relevance:m}}}function i(){return r.listLanguages()}function s(l,u){if(typeof l=="string")r.registerLanguage(l,u);else{let c;for(c in l)Object.hasOwn(l,c)&&r.registerLanguage(c,l[c])}}function o(l,u){if(typeof l=="string")r.registerAliases(typeof u=="string"?u:[...u],{languageName:l});else{let c;for(c in l)if(Object.hasOwn(l,c)){let p=l[c];r.registerAliases(typeof p=="string"?p:[...p],{languageName:c})}}}function a(l){return!!r.getLanguage(l)}}var ac=class{constructor(r){this.options=r,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(r){if(r==="")return;let t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&n.type==="text"?n.value+=r:t.children.push({type:"text",value:r})}startScope(r){this.openNode(String(r))}endScope(){this.closeNode()}__addSublanguage(r,t){let n=this.stack[this.stack.length-1],i=r.root.children;t?n.children.push({type:"element",tagName:"span",properties:{className:[t]},children:i}):n.children.push(...i)}openNode(r){let t=this,n=r.split(".").map(function(o,a){return a?o+"_".repeat(a):t.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:n},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}};b();b();b();var Vg=(e=0)=>r=>`\x1B[${r+e}m`,zg=(e=0)=>r=>`\x1B[${38+e};5;${r}m`,qg=(e=0)=>(r,t,n)=>`\x1B[${38+e};2;${r};${t};${n}m`,Ye={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},w6=Object.keys(Ye.modifier),qA=Object.keys(Ye.color),WA=Object.keys(Ye.bgColor),A6=[...qA,...WA];function GA(){let e=new Map;for(let[r,t]of Object.entries(Ye)){for(let[n,i]of Object.entries(t))Ye[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},t[n]=Ye[n],e.set(i[0],i[1]);Object.defineProperty(Ye,r,{value:t,enumerable:!1})}return Object.defineProperty(Ye,"codes",{value:e,enumerable:!1}),Ye.color.close="\x1B[39m",Ye.bgColor.close="\x1B[49m",Ye.color.ansi=Vg(),Ye.color.ansi256=zg(),Ye.color.ansi16m=qg(),Ye.bgColor.ansi=Vg(10),Ye.bgColor.ansi256=zg(10),Ye.bgColor.ansi16m=qg(10),Object.defineProperties(Ye,{rgbToAnsi256:{value(r,t,n){return r===t&&t===n?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(r){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(r.toString(16));if(!t)return[0,0,0];let[n]=t;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:r=>Ye.rgbToAnsi256(...Ye.hexToRgb(r)),enumerable:!1},ansi256ToAnsi:{value(r){if(r<8)return 30+r;if(r<16)return 90+(r-8);let t,n,i;if(r>=232)t=((r-232)*10+8)/255,n=t,i=t;else{r-=16;let a=r%36;t=Math.floor(r/36)/5,n=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(t,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(r,t,n)=>Ye.ansi256ToAnsi(Ye.rgbToAnsi256(r,t,n)),enumerable:!1},hexToAnsi:{value:r=>Ye.ansi256ToAnsi(Ye.hexToAnsi256(r)),enumerable:!1}}),Ye}var HA=GA(),xr=HA;b();var Aa=q(require("process"),1),Gg=q(require("os"),1),uc=q(require("tty"),1);function cr(e,r=globalThis.Deno?globalThis.Deno.args:Aa.default.argv){let t=e.startsWith("-")?"":e.length===1?"-":"--",n=r.indexOf(t+e),i=r.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:rt}=Aa.default,wa;cr("no-color")||cr("no-colors")||cr("color=false")||cr("color=never")?wa=0:(cr("color")||cr("colors")||cr("color=true")||cr("color=always"))&&(wa=1);function JA(){if("FORCE_COLOR"in rt)return rt.FORCE_COLOR==="true"?1:rt.FORCE_COLOR==="false"?0:rt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(rt.FORCE_COLOR,10),3)}function YA(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function XA(e,{streamIsTTY:r,sniffFlags:t=!0}={}){let n=JA();n!==void 0&&(wa=n);let i=t?wa:n;if(i===0)return 0;if(t){if(cr("color=16m")||cr("color=full")||cr("color=truecolor"))return 3;if(cr("color=256"))return 2}if("TF_BUILD"in rt&&"AGENT_NAME"in rt)return 1;if(e&&!r&&i===void 0)return 0;let s=i||0;if(rt.TERM==="dumb")return s;if(Aa.default.platform==="win32"){let o=Gg.default.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in rt)return["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some(o=>o in rt)?3:["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(o=>o in rt)||rt.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in rt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(rt.TEAMCITY_VERSION)?1:0;if(rt.COLORTERM==="truecolor"||rt.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in rt){let o=Number.parseInt((rt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(rt.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(rt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(rt.TERM)||"COLORTERM"in rt?1:s}function Wg(e,r={}){let t=XA(e,{streamIsTTY:e&&e.isTTY,...r});return YA(t)}var QA={stdout:Wg({isTTY:uc.default.isatty(1)}),stderr:Wg({isTTY:uc.default.isatty(2)})},Hg=QA;b();function Jg(e,r,t){let n=e.indexOf(r);if(n===-1)return e;let i=r.length,s=0,o="";do o+=e.slice(s,n)+r+t,s=n+i,n=e.indexOf(r,s);while(n!==-1);return o+=e.slice(s),o}function Yg(e,r,t,n){let i=0,s="";do{let o=e[n-1]==="\r";s+=e.slice(i,o?n-1:n)+r+(o?`\r
`:`
`)+t,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.slice(i),s}var{stdout:Xg,stderr:Qg}=Hg,cc=Symbol("GENERATOR"),Mi=Symbol("STYLER"),$s=Symbol("IS_EMPTY"),Zg=["ansi","ansi","ansi256","ansi16m"],$i=Object.create(null),ZA=(e,r={})=>{if(r.level&&!(Number.isInteger(r.level)&&r.level>=0&&r.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let t=Xg?Xg.level:0;e.level=r.level===void 0?t:r.level},va=class{constructor(r){return ey(r)}},ey=e=>{let r=(...t)=>t.join(" ");return ZA(r,e),Object.setPrototypeOf(r,Us.prototype),r};function Us(e){return ey(e)}Object.setPrototypeOf(Us.prototype,Function.prototype);for(let[e,r]of Object.entries(xr))$i[e]={get(){let t=Ta(this,dc(r.open,r.close,this[Mi]),this[$s]);return Object.defineProperty(this,e,{value:t}),t}};$i.visible={get(){let e=Ta(this,this[Mi],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var pc=(e,r,t,...n)=>e==="rgb"?r==="ansi16m"?xr[t].ansi16m(...n):r==="ansi256"?xr[t].ansi256(xr.rgbToAnsi256(...n)):xr[t].ansi(xr.rgbToAnsi(...n)):e==="hex"?pc("rgb",r,t,...xr.hexToRgb(...n)):xr[t][e](...n),ev=["rgb","hex","ansi256"];for(let e of ev){$i[e]={get(){let{level:t}=this;return function(...n){let i=dc(pc(e,Zg[t],"color",...n),xr.color.close,this[Mi]);return Ta(this,i,this[$s])}}};let r="bg"+e[0].toUpperCase()+e.slice(1);$i[r]={get(){let{level:t}=this;return function(...n){let i=dc(pc(e,Zg[t],"bgColor",...n),xr.bgColor.close,this[Mi]);return Ta(this,i,this[$s])}}}}var tv=Object.defineProperties(()=>{},{...$i,level:{enumerable:!0,get(){return this[cc].level},set(e){this[cc].level=e}}}),dc=(e,r,t)=>{let n,i;return t===void 0?(n=e,i=r):(n=t.openAll+e,i=r+t.closeAll),{open:e,close:r,openAll:n,closeAll:i,parent:t}},Ta=(e,r,t)=>{let n=(...i)=>rv(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,tv),n[cc]=e,n[Mi]=r,n[$s]=t,n},rv=(e,r)=>{if(e.level<=0||!r)return e[$s]?"":r;let t=e[Mi];if(t===void 0)return r;let{openAll:n,closeAll:i}=t;if(r.includes("\x1B"))for(;t!==void 0;)r=Jg(r,t.close,t.open),t=t.parent;let s=r.indexOf(`
`);return s!==-1&&(r=Yg(r,i,n,s)),n+r+i};Object.defineProperties(Us.prototype,$i);var R6=Us(),L6=Us({level:Qg?Qg.level:0});var be=new va({level:2}),ty={comment:be.gray,quote:be.gray,keyword:be.green,"selector-tag":be.green,addition:be.green,number:be.cyan,string:be.cyan,"meta meta-string":be.cyan,literal:be.cyan,doctag:be.cyan,regexp:be.cyan,title:be.blue,section:be.blue,name:be.blue,"selector-id":be.blue,"selector-class":be.blue,attribute:be.yellow,attr:be.yellow,variable:be.yellow,"template-variable":be.yellow,"class title":be.yellow,type:be.yellow,symbol:be.magenta,bullet:be.magenta,subst:be.magenta,meta:be.magenta,"meta keyword":be.magenta,"selector-attr":be.magenta,"selector-pseudo":be.magenta,link:be.magenta,built_in:be.red,deletion:be.red,emphasis:be.italic,strong:be.bold,formula:be.inverse};function js(e){let r=lc(e);return{highlight:t,highlightAuto:n,listLanguages:r.listLanguages,register:r.register,registerAlias:r.registerAlias,registered:r.registered};function t(i,s,o){let a=r.highlight(i,s),l=a.data;return{language:l.language,relevance:l.relevance,value:fc(o||ty,a)}}function n(i,s){let o,a;if(s&&("subset"in s||"sheet"in s)){let c=s;a={subset:c.subset},o=c.sheet}else o=s;let l=r.highlightAuto(i,a),u=l.data;return{language:u.language,relevance:u.relevance,value:fc(o||ty,l)}}}function fc(e,r){let t=new Set(r.type==="element"&&Array.isArray(r.properties.className)?r.properties.className.map(function(a){return String(a).replace(/^hljs-/,"")}):[]),n={},i,s="",o;for(o in e)if(Object.hasOwn(e,o)){let a=o.split(" "),l=e[o];t.has(a[0])?a.length===1?i=l:n[a.slice(1).join(" ")]=l:n[o]=l}return"value"in r?s=r.value:"children"in r&&(s=nv(n,r.children)),i&&(s=i(s)),s}function nv(e,r){let t=[],n=-1;for(;++n<r.length;)t.push(fc(e,r[n]));return t.join("")}b();var ry=q(require("@sentry/node"),1),ny=q(require("@amplitude/analytics-node"),1);async function Q(e){if(process.env.NODE_ENV!=="test")try{await Promise.allSettled([ry.flush(2e3),ny.flush().promise])}catch(r){console.error(r)}process.exit(e)}b();var Zt=process.env.AIR_HOST||"https://ai.builder.io";b();var qr=q(require("@amplitude/analytics-node"),1),Wr=q(require("@sentry/node"),1);var iy="1.6.16";b();var gt=require("fs/promises"),sD=require("crypto"),Ze=require("fs"),ho=require("os"),ve=q(require("path"),1),Tp=q(require("prettier"),1),oD=q(require("typescript"),1),aD=q(require("launch-editor"),1);var ss=require("child_process");var vp={};Pd(vp,{MagicastError:()=>Nt,builders:()=>C1,detectCodeFormat:()=>rD,generateCode:()=>Ap,loadFile:()=>x1,parseExpression:()=>iD,parseModule:()=>nD,writeFile:()=>E1});b();var Xa=require("fs");var sl=q(Ny(),1),Cb=q(ab(),1);function rr(e){var r=e.use(nt),t=r.Type,n=r.builtInTypes,i=n.number;function s(u){return t.from(c=>i.check(c)&&c>=u,i+" >= "+u)}let o={null:function(){return null},emptyArray:function(){return[]},false:function(){return!1},true:function(){return!0},undefined:function(){},"use strict":function(){return"use strict"}};var a=t.or(n.string,n.number,n.boolean,n.null,n.undefined);let l=t.from(u=>{if(u===null)return!0;var c=typeof u;return!(c==="object"||c==="function")},a.toString());return{geq:s,defaults:o,isPrimitive:l}}function Be(e){try{var r=e(),t=r.exports,n=t.default}catch{return}n&&n!==t&&typeof t=="object"&&(Object.assign(n,t,{default:n}),t.__esModule&&Object.defineProperty(n,"__esModule",{value:!0}),r.exports=n)}var GT=Object.defineProperty,HT=(e,r,t)=>r in e?GT(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ut=(e,r,t)=>(HT(e,typeof r!="symbol"?r+"":r,t),t),Sb=Object.prototype,Qa=Sb.toString,dr=Sb.hasOwnProperty,pi=class{assert(r,t){if(!this.check(r,t)){var n=xp(r);throw new Error(n+" does not match type "+this)}return!0}arrayOf(){let r=this;return new uo(r)}},uo=class extends pi{constructor(r){super(),this.elemType=r,Ut(this,"kind","ArrayType")}toString(){return"["+this.elemType+"]"}check(r,t){return Array.isArray(r)&&r.every(n=>this.elemType.check(n,t))}},Za=class extends pi{constructor(r){super(),this.value=r,Ut(this,"kind","IdentityType")}toString(){return String(this.value)}check(r,t){let n=r===this.value;return!n&&typeof t=="function"&&t(this,r),n}},el=class extends pi{constructor(r){super(),this.fields=r,Ut(this,"kind","ObjectType")}toString(){return"{ "+this.fields.join(", ")+" }"}check(r,t){return Qa.call(r)===Qa.call({})&&this.fields.every(n=>n.type.check(r[n.name],t))}},tl=class extends pi{constructor(r){super(),this.types=r,Ut(this,"kind","OrType")}toString(){return this.types.join(" | ")}check(r,t){return this.types.some(n=>n.check(r,!!t))?!0:(typeof t=="function"&&t(this,r),!1)}},ci=class extends pi{constructor(r,t){super(),this.name=r,this.predicate=t,Ut(this,"kind","PredicateType")}toString(){return this.name}check(r,t){let n=this.predicate(r,t);return!n&&typeof t=="function"&&t(this,r),n}},ao=class e{constructor(r,t){this.type=r,this.typeName=t,Ut(this,"baseNames",[]),Ut(this,"ownFields",Object.create(null)),Ut(this,"allSupertypes",Object.create(null)),Ut(this,"supertypeList",[]),Ut(this,"allFields",Object.create(null)),Ut(this,"fieldNames",[]),Ut(this,"finalized",!1),Ut(this,"buildable",!1),Ut(this,"buildParams",[])}isSupertypeOf(r){if(r instanceof e){if(this.finalized!==!0||r.finalized!==!0)throw new Error("");return dr.call(r.allSupertypes,this.typeName)}else throw new Error(r+" is not a Def")}checkAllFields(r,t){var n=this.allFields;if(this.finalized!==!0)throw new Error(""+this.typeName);function i(s){var o=n[s],a=o.type,l=o.getValue(r);return a.check(l,t)}return r!==null&&typeof r=="object"&&Object.keys(n).every(i)}bases(...r){var t=this.baseNames;if(this.finalized){if(r.length!==t.length)throw new Error("");for(var n=0;n<r.length;n++)if(r[n]!==t[n])throw new Error("");return this}return r.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),this}},rl=class{constructor(r,t,n,i){this.name=r,this.type=t,this.defaultFn=n,Ut(this,"hidden"),this.hidden=!!i}toString(){return JSON.stringify(this.name)+": "+this.type}getValue(r){var t=r[this.name];return typeof t<"u"||typeof this.defaultFn=="function"&&(t=this.defaultFn.call(r)),t}};function xp(e){return Array.isArray(e)?"["+e.map(xp).join(", ")+"]":e&&typeof e=="object"?"{ "+Object.keys(e).map(function(r){return r+": "+e[r]}).join(", ")+" }":JSON.stringify(e)}function nt(e){let r={or(...T){return new tl(T.map(N=>r.from(N)))},from(T,N){if(T instanceof uo||T instanceof Za||T instanceof el||T instanceof tl||T instanceof ci)return T;if(T instanceof ao)return T.type;if(a.check(T)){if(T.length!==1)throw new Error("only one element type is permitted for typed arrays");return new uo(r.from(T[0]))}if(l.check(T))return new el(Object.keys(T).map(J=>new rl(J,r.from(T[J],J))));if(typeof T=="function"){var $=t.indexOf(T);if($>=0)return n[$];if(typeof N!="string")throw new Error("missing name");return new ci(N,T)}return new Za(T)},def(T){return dr.call(y,T)?y[T]:y[T]=new C(T)},hasDef(T){return dr.call(y,T)}};var t=[],n=[];function i(T,N){let $=Qa.call(N),J=new ci(T,xe=>Qa.call(xe)===$);return N&&typeof N.constructor=="function"&&(t.push(N.constructor),n.push(J)),J}let s=i("string","truthy"),o=i("function",function(){}),a=i("array",[]),l=i("object",{}),u=i("RegExp",/./),c=i("Date",new Date),p=i("number",3),d=i("boolean",!0),m=i("null",null),f=i("undefined",void 0),h=typeof BigInt=="function"?i("BigInt",BigInt(1234)):new ci("BigInt",()=>!1),g={string:s,function:o,array:a,object:l,RegExp:u,Date:c,number:p,boolean:d,null:m,undefined:f,BigInt:h};var y=Object.create(null);function x(T){if(T&&typeof T=="object"){var N=T.type;if(typeof N=="string"&&dr.call(y,N)){var $=y[N];if($.finalized)return $}}return null}class C extends ao{constructor(N){super(new ci(N,($,J)=>this.check($,J)),N)}check(N,$){if(this.finalized!==!0)throw new Error("prematurely checking unfinalized type "+this.typeName);if(N===null||typeof N!="object")return!1;var J=x(N);return J?$&&J===this?this.checkAllFields(N,$):this.isSupertypeOf(J)?$?J.checkAllFields(N,$)&&this.checkAllFields(N,!1):!0:!1:this.typeName==="SourceLocation"||this.typeName==="Position"?this.checkAllFields(N,$):!1}build(...N){if(this.buildParams=N,this.buildable)return this;this.field("type",String,()=>this.typeName),this.buildable=!0;let $=(xe,oe,me,bt)=>{if(!dr.call(xe,oe)){var Ot=this.allFields;if(!dr.call(Ot,oe))throw new Error(""+oe);var Xr=Ot[oe],hs=Xr.type,Qr;if(bt)Qr=me;else if(Xr.defaultFn)Qr=Xr.defaultFn.call(xe);else{var gs="no value or default function given for field "+JSON.stringify(oe)+" of "+this.typeName+"("+this.buildParams.map(function(Ne){return Ot[Ne]}).join(", ")+")";throw new Error(gs)}if(!hs.check(Qr))throw new Error(xp(Qr)+" does not match field "+Xr+" of type "+this.typeName);xe[oe]=Qr}},J=(...xe)=>{var oe=xe.length;if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var me=Object.create(v);if(this.buildParams.forEach(function(bt,Ot){Ot<oe?$(me,bt,xe[Ot],!0):$(me,bt,null,!1)}),Object.keys(this.allFields).forEach(function(bt){$(me,bt,null,!1)}),me.type!==this.typeName)throw new Error("");return me};return J.from=xe=>{if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var oe=Object.create(v);if(Object.keys(this.allFields).forEach(function(me){dr.call(xe,me)?$(oe,me,xe[me],!0):$(oe,me,null,!1)}),oe.type!==this.typeName)throw new Error("");return oe},Object.defineProperty(S,B(this.typeName),{enumerable:!0,value:J}),this}field(N,$,J,xe){return this.finalized?(console.error("Ignoring attempt to redefine field "+JSON.stringify(N)+" of finalized type "+JSON.stringify(this.typeName)),this):(this.ownFields[N]=new rl(N,r.from($),J,xe),this)}finalize(){if(!this.finalized){var N=this.allFields,$=this.allSupertypes;this.baseNames.forEach(xe=>{var oe=y[xe];if(oe instanceof ao)oe.finalize(),M(N,oe.allFields),M($,oe.allSupertypes);else{var me="unknown supertype name "+JSON.stringify(xe)+" for subtype "+JSON.stringify(this.typeName);throw new Error(me)}}),M(N,this.ownFields),$[this.typeName]=this,this.fieldNames.length=0;for(var J in N)dr.call(N,J)&&!N[J].hidden&&this.fieldNames.push(J);Object.defineProperty(V,this.typeName,{enumerable:!0,value:this.type}),this.finalized=!0,I(this.typeName,this.supertypeList),this.buildable&&this.supertypeList.lastIndexOf("Expression")>=0&&ie(this.typeName)}}}function D(T){if(!dr.call(y,T))throw new Error("");var N=y[T];if(N.finalized!==!0)throw new Error("");return N.supertypeList.slice(1)}function E(T){for(var N={},$=Object.keys(y),J=$.length,xe=0;xe<J;++xe){var oe=$[xe],me=y[oe];if(me.finalized!==!0)throw new Error(""+oe);for(var bt=0;bt<me.supertypeList.length;++bt){var Ot=me.supertypeList[bt];if(dr.call(T,Ot)){N[oe]=Ot;break}}}return N}var S=Object.create(null),v={};function O(T,N){var $=v[T];return f.check(N)?delete v[T]:(o.assert(N),Object.defineProperty(v,T,{enumerable:!0,configurable:!0,value:N})),$}function B(T){return T.replace(/^[A-Z]+/,function(N){var $=N.length;switch($){case 0:return"";case 1:return N.toLowerCase();default:return N.slice(0,$-1).toLowerCase()+N.charAt($-1)}})}function k(T){return T=B(T),T.replace(/(Expression)?$/,"Statement")}var V={};function ne(T){var N=x(T);if(N)return N.fieldNames.slice(0);if("type"in T)throw new Error("did not recognize object of type "+JSON.stringify(T.type));return Object.keys(T)}function se(T,N){var $=x(T);if($){var J=$.allFields[N];if(J)return J.getValue(T)}return T&&T[N]}function H(T,N,$){ne(T).forEach(function(J){N.call(this,J,se(T,J))},$)}function j(T,N,$){return ne(T).some(function(J){return N.call(this,J,se(T,J))},$)}function ie(T){var N=k(T);if(S[N])return;var $=S[B(T)];if(!$)return;let J=function(...xe){return S.expressionStatement($.apply(S,xe))};J.from=function(...xe){return S.expressionStatement($.from.apply(S,xe))},S[N]=J}function I(T,N){N.length=0,N.push(T);for(var $=Object.create(null),J=0;J<N.length;++J){T=N[J];var xe=y[T];if(xe.finalized!==!0)throw new Error("");dr.call($,T)&&delete N[$[T]],$[T]=J,N.push.apply(N,xe.baseNames)}for(var oe=0,me=oe,bt=N.length;me<bt;++me)dr.call(N,me)&&(N[oe++]=N[me]);N.length=oe}function M(T,N){return Object.keys(N).forEach(function($){T[$]=N[$]}),T}function R(){Object.keys(y).forEach(function(T){y[T].finalize()})}return{Type:r,builtInTypes:g,getSupertypeNames:D,computeSupertypeLookupTable:E,builders:S,defineMethod:O,getBuilderName:B,getStatementBuilderName:k,namedTypes:V,getFieldNames:ne,getFieldValue:se,eachField:H,someField:j,finalize:R}}Be(()=>module);var JT=Object.prototype,Ka=JT.hasOwnProperty;function wb(e){var r=e.use(nt),t=r.builtInTypes.array,n=r.builtInTypes.number;let i=function p(d,m,f){if(!(this instanceof p))throw new Error("Path constructor cannot be invoked without 'new'");if(m){if(!(m instanceof p))throw new Error("")}else m=null,f=null;this.value=d,this.parentPath=m,this.name=f,this.__childCache=null};var s=i.prototype;function o(p){return p.__childCache||(p.__childCache=Object.create(null))}function a(p,d){var m=o(p),f=p.getValueProperty(d),h=m[d];return(!Ka.call(m,d)||h.value!==f)&&(h=m[d]=new p.constructor(f,p,d)),h}s.getValueProperty=function(d){return this.value[d]},s.get=function(...d){for(var m=this,f=d.length,h=0;h<f;++h)m=a(m,d[h]);return m},s.each=function(d,m){for(var f=[],h=this.value.length,g=0,g=0;g<h;++g)Ka.call(this.value,g)&&(f[g]=this.get(g));for(m=m||this,g=0;g<h;++g)Ka.call(f,g)&&d.call(m,f[g])},s.map=function(d,m){var f=[];return this.each(function(h){f.push(d.call(this,h))},m),f},s.filter=function(d,m){var f=[];return this.each(function(h){d.call(this,h)&&f.push(h)},m),f};function l(){}function u(p,d,m,f){if(t.assert(p.value),d===0)return l;var h=p.value.length;if(h<1)return l;var g=arguments.length;g===2?(m=0,f=h):g===3?(m=Math.max(m,0),f=h):(m=Math.max(m,0),f=Math.min(f,h)),n.assert(m),n.assert(f);for(var y=Object.create(null),x=o(p),C=m;C<f;++C)if(Ka.call(p.value,C)){var D=p.get(C);if(D.name!==C)throw new Error("");var E=C+d;D.name=E,y[E]=D,delete x[C]}return delete x.length,function(){for(var S in y){var v=y[S];if(v.name!==+S)throw new Error("");x[S]=v,p.value[S]=v.value}}}s.shift=function(){var d=u(this,-1),m=this.value.shift();return d(),m},s.unshift=function(...d){var m=u(this,d.length),f=this.value.unshift.apply(this.value,d);return m(),f},s.push=function(...d){return t.assert(this.value),delete o(this).length,this.value.push.apply(this.value,d)},s.pop=function(){t.assert(this.value);var d=o(this);return delete d[this.value.length-1],delete d.length,this.value.pop()},s.insertAt=function(d){var m=arguments.length,f=u(this,m-1,d);if(f===l&&m<=1)return this;d=Math.max(d,0);for(var h=1;h<m;++h)this.value[d+h-1]=arguments[h];return f(),this},s.insertBefore=function(...d){for(var m=this.parentPath,f=d.length,h=[this.name],g=0;g<f;++g)h.push(d[g]);return m.insertAt.apply(m,h)},s.insertAfter=function(...d){for(var m=this.parentPath,f=d.length,h=[this.name+1],g=0;g<f;++g)h.push(d[g]);return m.insertAt.apply(m,h)};function c(p){if(!(p instanceof i))throw new Error("");var d=p.parentPath;if(!d)return p;var m=d.value,f=o(d);if(m[p.name]===p.value)f[p.name]=p;else if(t.check(m)){var h=m.indexOf(p.value);h>=0&&(f[p.name=h]=p)}else m[p.name]=p.value,f[p.name]=p;if(m[p.name]!==p.value)throw new Error("");if(p.parentPath.get(p.name)!==p)throw new Error("");return p}return s.replace=function(d){var m=[],f=this.parentPath.value,h=o(this.parentPath),g=arguments.length;if(c(this),t.check(f)){for(var y=f.length,x=u(this.parentPath,g-1,this.name+1),C=[this.name,1],D=0;D<g;++D)C.push(arguments[D]);var E=f.splice.apply(f,C);if(E[0]!==this.value)throw new Error("");if(f.length!==y-1+g)throw new Error("");if(x(),g===0)delete this.value,delete h[this.name],this.__childCache=null;else{if(f[this.name]!==d)throw new Error("");for(this.value!==d&&(this.value=d,this.__childCache=null),D=0;D<g;++D)m.push(this.parentPath.get(this.name+D));if(m[0]!==this)throw new Error("")}}else if(g===1)this.value!==d&&(this.__childCache=null),this.value=f[this.name]=d,m.push(this);else if(g===0)delete f[this.name],delete this.value,this.__childCache=null;else throw new Error("Could not replace path");return m},i}Be(()=>module);var Xi=Object.prototype.hasOwnProperty;function YT(e){var r=e.use(nt),t=r.Type,n=r.namedTypes,i=n.Node,s=n.Expression,o=r.builtInTypes.array,a=r.builders;let l=function D(E,S){if(!(this instanceof D))throw new Error("Scope constructor cannot be invoked without 'new'");c.check(E.value)||u.assert(E.value);var v;if(S){if(!(S instanceof D))throw new Error("");v=S.depth+1}else S=null,v=0;Object.defineProperties(this,{path:{value:E},node:{value:E.value},isGlobal:{value:!S,enumerable:!0},depth:{value:v},parent:{value:S},bindings:{value:{}},types:{value:{}}})};var u=t.or(n.Program,n.Function,n.CatchClause),c=t.or(n.Function,n.ClassDeclaration,n.ClassExpression,n.InterfaceDeclaration,n.TSInterfaceDeclaration,n.TypeAlias,n.TSTypeAliasDeclaration),p=t.or(n.TypeParameter,n.TSTypeParameter);l.isEstablishedBy=function(D){return u.check(D)||c.check(D)};var d=l.prototype;d.didScan=!1,d.declares=function(D){return this.scan(),Xi.call(this.bindings,D)},d.declaresType=function(D){return this.scan(),Xi.call(this.types,D)},d.declareTemporary=function(D){if(D){if(!/^[a-z$_]/i.test(D))throw new Error("")}else D="t$";D+=this.depth.toString(36)+"$",this.scan();for(var E=0;this.declares(D+E);)++E;var S=D+E;return this.bindings[S]=r.builders.identifier(S)},d.injectTemporary=function(D,E){D||(D=this.declareTemporary());var S=this.path.get("body");return n.BlockStatement.check(S.value)&&(S=S.get("body")),S.unshift(a.variableDeclaration("var",[a.variableDeclarator(D,E||null)])),D},d.scan=function(D){if(D||!this.didScan){for(var E in this.bindings)delete this.bindings[E];for(var E in this.types)delete this.types[E];m(this.path,this.bindings,this.types),this.didScan=!0}},d.getBindings=function(){return this.scan(),this.bindings},d.getTypes=function(){return this.scan(),this.types};function m(D,E,S){var v=D.value;if(c.check(v)){let O=D.get("typeParameters","params");o.check(O.value)&&O.each(B=>{C(B,S)})}u.check(v)&&(n.CatchClause.check(v)?y(D.get("param"),E):f(D,E,S))}function f(D,E,S){var v=D.value;D.parent&&n.FunctionExpression.check(D.parent.node)&&D.parent.node.id&&y(D.parent.get("id"),E),v&&(o.check(v)?D.each(O=>{g(O,E,S)}):n.Function.check(v)?(D.get("params").each(O=>{y(O,E)}),g(D.get("body"),E,S),f(D.get("typeParameters"),E,S)):n.TypeAlias&&n.TypeAlias.check(v)||n.InterfaceDeclaration&&n.InterfaceDeclaration.check(v)||n.TSTypeAliasDeclaration&&n.TSTypeAliasDeclaration.check(v)||n.TSInterfaceDeclaration&&n.TSInterfaceDeclaration.check(v)?x(D.get("id"),S):n.VariableDeclarator.check(v)?(y(D.get("id"),E),g(D.get("init"),E,S)):v.type==="ImportSpecifier"||v.type==="ImportNamespaceSpecifier"||v.type==="ImportDefaultSpecifier"?y(D.get(v.local?"local":v.name?"name":"id"),E):i.check(v)&&!s.check(v)&&r.eachField(v,function(O,B){var k=D.get(O);if(!h(k,B))throw new Error("");g(k,E,S)}))}function h(D,E){return!!(D.value===E||Array.isArray(D.value)&&D.value.length===0&&Array.isArray(E)&&E.length===0)}function g(D,E,S){var v=D.value;if(!(!v||s.check(v)))if(n.FunctionDeclaration.check(v)&&v.id!==null)y(D.get("id"),E);else if(n.ClassDeclaration&&n.ClassDeclaration.check(v)&&v.id!==null)y(D.get("id"),E),f(D.get("typeParameters"),E,S);else if(n.InterfaceDeclaration&&n.InterfaceDeclaration.check(v)||n.TSInterfaceDeclaration&&n.TSInterfaceDeclaration.check(v))x(D.get("id"),S);else if(u.check(v)){if(n.CatchClause.check(v)&&n.Identifier.check(v.param)){var O=v.param.name,B=Xi.call(E,O);f(D.get("body"),E,S),B||delete E[O]}}else f(D,E,S)}function y(D,E){var S=D.value;n.Pattern.assert(S),n.Identifier.check(S)?Xi.call(E,S.name)?E[S.name].push(D):E[S.name]=[D]:n.AssignmentPattern&&n.AssignmentPattern.check(S)?y(D.get("left"),E):n.ObjectPattern&&n.ObjectPattern.check(S)?D.get("properties").each(function(v){var O=v.value;n.Pattern.check(O)?y(v,E):n.Property.check(O)||n.ObjectProperty&&n.ObjectProperty.check(O)?y(v.get("value"),E):n.SpreadProperty&&n.SpreadProperty.check(O)&&y(v.get("argument"),E)}):n.ArrayPattern&&n.ArrayPattern.check(S)?D.get("elements").each(function(v){var O=v.value;n.Pattern.check(O)?y(v,E):n.SpreadElement&&n.SpreadElement.check(O)&&y(v.get("argument"),E)}):n.PropertyPattern&&n.PropertyPattern.check(S)?y(D.get("pattern"),E):(n.SpreadElementPattern&&n.SpreadElementPattern.check(S)||n.RestElement&&n.RestElement.check(S)||n.SpreadPropertyPattern&&n.SpreadPropertyPattern.check(S))&&y(D.get("argument"),E)}function x(D,E){var S=D.value;n.Pattern.assert(S),n.Identifier.check(S)&&(Xi.call(E,S.name)?E[S.name].push(D):E[S.name]=[D])}function C(D,E){var S=D.value;p.assert(S),Xi.call(E,S.name)?E[S.name].push(D):E[S.name]=[D]}return d.lookup=function(D){for(var E=this;E&&!E.declares(D);E=E.parent);return E},d.lookupType=function(D){for(var E=this;E&&!E.declaresType(D);E=E.parent);return E},d.getGlobalScope=function(){for(var D=this;!D.isGlobal;)D=D.parent;return D},l}Be(()=>module);function Ab(e){var r=e.use(nt),t=r.namedTypes,n=r.builders,i=r.builtInTypes.number,s=r.builtInTypes.array,o=e.use(wb),a=e.use(YT);let l=function g(y,x,C){if(!(this instanceof g))throw new Error("NodePath constructor cannot be invoked without 'new'");o.call(this,y,x,C)};var u=l.prototype=Object.create(o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});Object.defineProperties(u,{node:{get:function(){return Object.defineProperty(this,"node",{configurable:!0,value:this._computeNode()}),this.node}},parent:{get:function(){return Object.defineProperty(this,"parent",{configurable:!0,value:this._computeParent()}),this.parent}},scope:{get:function(){return Object.defineProperty(this,"scope",{configurable:!0,value:this._computeScope()}),this.scope}}}),u.replace=function(){return delete this.node,delete this.parent,delete this.scope,o.prototype.replace.apply(this,arguments)},u.prune=function(){var g=this.parent;return this.replace(),f(g)},u._computeNode=function(){var g=this.value;if(t.Node.check(g))return g;var y=this.parentPath;return y&&y.node||null},u._computeParent=function(){var g=this.value,y=this.parentPath;if(!t.Node.check(g)){for(;y&&!t.Node.check(y.value);)y=y.parentPath;y&&(y=y.parentPath)}for(;y&&!t.Node.check(y.value);)y=y.parentPath;return y||null},u._computeScope=function(){var g=this.value,y=this.parentPath,x=y&&y.scope;return t.Node.check(g)&&a.isEstablishedBy(g)&&(x=new a(this,x)),x||null},u.getValueProperty=function(g){return r.getFieldValue(this.value,g)},u.needsParens=function(g){var y=this.parentPath;if(!y)return!1;var x=this.value;if(!t.Expression.check(x)||x.type==="Identifier")return!1;for(;!t.Node.check(y.value);)if(y=y.parentPath,!y)return!1;var C=y.value;switch(x.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return C.type==="MemberExpression"&&this.name==="object"&&C.object===x;case"BinaryExpression":case"LogicalExpression":switch(C.type){case"CallExpression":return this.name==="callee"&&C.callee===x;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return this.name==="object"&&C.object===x;case"BinaryExpression":case"LogicalExpression":{let D=x,E=C.operator,S=p[E],v=D.operator,O=p[v];if(S>O)return!0;if(S===O&&this.name==="right"){if(C.right!==D)throw new Error("Nodes must be equal");return!0}}default:return!1}case"SequenceExpression":switch(C.type){case"ForStatement":return!1;case"ExpressionStatement":return this.name!=="expression";default:return!0}case"YieldExpression":switch(C.type){case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"CallExpression":case"MemberExpression":case"NewExpression":case"ConditionalExpression":case"YieldExpression":return!0;default:return!1}case"Literal":return C.type==="MemberExpression"&&i.check(x.value)&&this.name==="object"&&C.object===x;case"AssignmentExpression":case"ConditionalExpression":switch(C.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":return this.name==="callee"&&C.callee===x;case"ConditionalExpression":return this.name==="test"&&C.test===x;case"MemberExpression":return this.name==="object"&&C.object===x;default:return!1}default:if(C.type==="NewExpression"&&this.name==="callee"&&C.callee===x)return d(x)}return!!(g!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function c(g){return t.BinaryExpression.check(g)||t.LogicalExpression.check(g)}var p={};[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]].forEach(function(g,y){g.forEach(function(x){p[x]=y})});function d(g){return t.CallExpression.check(g)?!0:s.check(g)?g.some(d):t.Node.check(g)?r.someField(g,function(y,x){return d(x)}):!1}u.canBeFirstInStatement=function(){var g=this.node;return!t.FunctionExpression.check(g)&&!t.ObjectExpression.check(g)},u.firstInStatement=function(){return m(this)};function m(g){for(var y,x;g.parent;g=g.parent){if(y=g.node,x=g.parent.node,t.BlockStatement.check(x)&&g.parent.name==="body"&&g.name===0){if(x.body[0]!==y)throw new Error("Nodes must be equal");return!0}if(t.ExpressionStatement.check(x)&&g.name==="expression"){if(x.expression!==y)throw new Error("Nodes must be equal");return!0}if(t.SequenceExpression.check(x)&&g.parent.name==="expressions"&&g.name===0){if(x.expressions[0]!==y)throw new Error("Nodes must be equal");continue}if(t.CallExpression.check(x)&&g.name==="callee"){if(x.callee!==y)throw new Error("Nodes must be equal");continue}if(t.MemberExpression.check(x)&&g.name==="object"){if(x.object!==y)throw new Error("Nodes must be equal");continue}if(t.ConditionalExpression.check(x)&&g.name==="test"){if(x.test!==y)throw new Error("Nodes must be equal");continue}if(c(x)&&g.name==="left"){if(x.left!==y)throw new Error("Nodes must be equal");continue}if(t.UnaryExpression.check(x)&&!x.prefix&&g.name==="argument"){if(x.argument!==y)throw new Error("Nodes must be equal");continue}return!1}return!0}function f(g){if(t.VariableDeclaration.check(g.node)){var y=g.get("declarations").value;if(!y||y.length===0)return g.prune()}else if(t.ExpressionStatement.check(g.node)){if(!g.get("expression").value)return g.prune()}else t.IfStatement.check(g.node)&&h(g);return g}function h(g){var y=g.get("test").value,x=g.get("alternate").value,C=g.get("consequent").value;if(!C&&!x){var D=n.expressionStatement(y);g.replace(D)}else if(!C&&x){var E=n.unaryExpression("!",y,!0);t.UnaryExpression.check(y)&&y.operator==="!"&&(E=y.argument),g.get("test").replace(E),g.get("consequent").replace(x),g.get("alternate").replace()}}return l}Be(()=>module);var Va=Object.prototype.hasOwnProperty;function XT(e){var r=e.use(nt),t=e.use(Ab),n=r.builtInTypes.array,i=r.builtInTypes.object,s=r.builtInTypes.function,o;let a=function f(){if(!(this instanceof f))throw new Error("PathVisitor constructor cannot be invoked without 'new'");this._reusableContextStack=[],this._methodNameTable=l(this),this._shouldVisitComments=Va.call(this._methodNameTable,"Block")||Va.call(this._methodNameTable,"Line"),this.Context=d(this),this._visiting=!1,this._changeReported=!1};function l(f){var h=Object.create(null);for(var g in f)/^visit[A-Z]/.test(g)&&(h[g.slice(5)]=!0);for(var y=r.computeSupertypeLookupTable(h),x=Object.create(null),C=Object.keys(y),D=C.length,E=0;E<D;++E){var S=C[E];g="visit"+y[S],s.check(f[g])&&(x[S]=g)}return x}a.fromMethodsObject=function(h){if(h instanceof a)return h;if(!i.check(h))return new a;let g=function x(){if(!(this instanceof x))throw new Error("Visitor constructor cannot be invoked without 'new'");a.call(this)};var y=g.prototype=Object.create(c);return y.constructor=g,u(y,h),u(g,a),s.assert(g.fromMethodsObject),s.assert(g.visit),new g};function u(f,h){for(var g in h)Va.call(h,g)&&(f[g]=h[g]);return f}a.visit=function(h,g){return a.fromMethodsObject(g).visit(h)};var c=a.prototype;c.visit=function(){if(this._visiting)throw new Error("Recursively calling visitor.visit(path) resets visitor state. Try this.visit(path) or this.traverse(path) instead.");this._visiting=!0,this._changeReported=!1,this._abortRequested=!1;for(var f=arguments.length,h=new Array(f),g=0;g<f;++g)h[g]=arguments[g];h[0]instanceof t||(h[0]=new t({root:h[0]}).get("root")),this.reset.apply(this,h);var y;try{var x=this.visitWithoutReset(h[0]);y=!0}finally{if(this._visiting=!1,!y&&this._abortRequested)return h[0].value}return x},c.AbortRequest=function(){},c.abort=function(){var f=this;f._abortRequested=!0;var h=new f.AbortRequest;throw h.cancel=function(){f._abortRequested=!1},h},c.reset=function(f){},c.visitWithoutReset=function(f){if(this instanceof this.Context)return this.visitor.visitWithoutReset(f);if(!(f instanceof t))throw new Error("");var h=f.value,g=h&&typeof h=="object"&&typeof h.type=="string"&&this._methodNameTable[h.type];if(g){var y=this.acquireContext(f);try{return y.invokeVisitorMethod(g)}finally{this.releaseContext(y)}}else return p(f,this)};function p(f,h){if(!(f instanceof t))throw new Error("");if(!(h instanceof a))throw new Error("");var g=f.value;if(n.check(g))f.each(h.visitWithoutReset,h);else if(i.check(g)){var y=r.getFieldNames(g);h._shouldVisitComments&&g.comments&&y.indexOf("comments")<0&&y.push("comments");for(var x=y.length,C=[],D=0;D<x;++D){var E=y[D];Va.call(g,E)||(g[E]=r.getFieldValue(g,E)),C.push(f.get(E))}for(var D=0;D<x;++D)h.visitWithoutReset(C[D])}return f.value}c.acquireContext=function(f){return this._reusableContextStack.length===0?new this.Context(f):this._reusableContextStack.pop().reset(f)},c.releaseContext=function(f){if(!(f instanceof this.Context))throw new Error("");this._reusableContextStack.push(f),f.currentPath=null},c.reportChanged=function(){this._changeReported=!0},c.wasChangeReported=function(){return this._changeReported};function d(f){function h(y){if(!(this instanceof h))throw new Error("");if(!(this instanceof a))throw new Error("");if(!(y instanceof t))throw new Error("");Object.defineProperty(this,"visitor",{value:f,writable:!1,enumerable:!0,configurable:!1}),this.currentPath=y,this.needToCallTraverse=!0,Object.seal(this)}if(!(f instanceof a))throw new Error("");var g=h.prototype=Object.create(f);return g.constructor=h,u(g,m),h}var m=Object.create(null);return m.reset=function(h){if(!(this instanceof this.Context))throw new Error("");if(!(h instanceof t))throw new Error("");return this.currentPath=h,this.needToCallTraverse=!0,this},m.invokeVisitorMethod=function(h){if(!(this instanceof this.Context))throw new Error("");if(!(this.currentPath instanceof t))throw new Error("");var g=this.visitor[h].call(this,this.currentPath);if(g===!1?this.needToCallTraverse=!1:g!==o&&(this.currentPath=this.currentPath.replace(g)[0],this.needToCallTraverse&&this.traverse(this.currentPath)),this.needToCallTraverse!==!1)throw new Error("Must either call this.traverse or return false in "+h);var y=this.currentPath;return y&&y.value},m.traverse=function(h,g){if(!(this instanceof this.Context))throw new Error("");if(!(h instanceof t))throw new Error("");if(!(this.currentPath instanceof t))throw new Error("");return this.needToCallTraverse=!1,p(h,a.fromMethodsObject(g||this.visitor))},m.visit=function(h,g){if(!(this instanceof this.Context))throw new Error("");if(!(h instanceof t))throw new Error("");if(!(this.currentPath instanceof t))throw new Error("");return this.needToCallTraverse=!1,a.fromMethodsObject(g||this.visitor).visitWithoutReset(h)},m.reportChanged=function(){this.visitor.reportChanged()},m.abort=function(){this.needToCallTraverse=!1,this.visitor.abort()},a}Be(()=>module);function QT(e){var r=e.use(nt),t=r.getFieldNames,n=r.getFieldValue,i=r.builtInTypes.array,s=r.builtInTypes.object,o=r.builtInTypes.Date,a=r.builtInTypes.RegExp,l=Object.prototype.hasOwnProperty;function u(f,h,g){return i.check(g)?g.length=0:g=null,p(f,h,g)}u.assert=function(f,h){var g=[];if(!u(f,h,g))if(g.length===0){if(f!==h)throw new Error("Nodes must be equal")}else throw new Error("Nodes differ in the following path: "+g.map(c).join(""))};function c(f){return/[_$a-z][_$a-z0-9]*/i.test(f)?"."+f:"["+JSON.stringify(f)+"]"}function p(f,h,g){return f===h?!0:i.check(f)?d(f,h,g):s.check(f)?m(f,h,g):o.check(f)?o.check(h)&&+f==+h:a.check(f)?a.check(h)&&f.source===h.source&&f.global===h.global&&f.multiline===h.multiline&&f.ignoreCase===h.ignoreCase:f==h}function d(f,h,g){i.assert(f);var y=f.length;if(!i.check(h)||h.length!==y)return g&&g.push("length"),!1;for(var x=0;x<y;++x){if(g&&g.push(x),x in f!=x in h||!p(f[x],h[x],g))return!1;if(g){var C=g.pop();if(C!==x)throw new Error(""+C)}}return!0}function m(f,h,g){if(s.assert(f),!s.check(h))return!1;if(f.type!==h.type)return g&&g.push("type"),!1;var y=t(f),x=y.length,C=t(h),D=C.length;if(x===D){for(var E=0;E<x;++E){var S=y[E],v=n(f,S),O=n(h,S);if(g&&g.push(S),!p(v,O,g))return!1;if(g){var B=g.pop();if(B!==S)throw new Error(""+B)}}return!0}if(!g)return!1;var k=Object.create(null);for(E=0;E<x;++E)k[y[E]]=!0;for(E=0;E<D;++E){if(S=C[E],!l.call(k,S))return g.push(S),!1;delete k[S]}for(S in k){g.push(S);break}return!1}return u}Be(()=>module);function ZT(e){let r=eP(),t=r.use(nt);e.forEach(r.use),t.finalize();let n=r.use(XT);return{Type:t.Type,builtInTypes:t.builtInTypes,namedTypes:t.namedTypes,builders:t.builders,defineMethod:t.defineMethod,getFieldNames:t.getFieldNames,getFieldValue:t.getFieldValue,eachField:t.eachField,someField:t.someField,getSupertypeNames:t.getSupertypeNames,getBuilderName:t.getBuilderName,astNodesAreEquivalent:r.use(QT),finalize:t.finalize,Path:r.use(wb),NodePath:r.use(Ab),PathVisitor:n,use:r.use,visit:n.visit}}function eP(){let e=[],r=[];function t(i){var s=e.indexOf(i);return s===-1&&(s=e.length,e.push(i),r[s]=i(n)),r[s]}var n={use:t};return n}Be(()=>module);function vb(){return{BinaryOperators:["==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","&","|","^","in","instanceof"],AssignmentOperators:["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&="],LogicalOperators:["||","&&"]}}Be(()=>module);function Tb(e){let r=e.use(vb);return r.BinaryOperators.indexOf("**")<0&&r.BinaryOperators.push("**"),r.AssignmentOperators.indexOf("**=")<0&&r.AssignmentOperators.push("**="),r}Be(()=>module);function Pb(e){let r=e.use(Tb);return r.LogicalOperators.indexOf("??")<0&&r.LogicalOperators.push("??"),r}Be(()=>module);function tP(e){let r=e.use(Pb);return r.LogicalOperators.forEach(t=>{let n=t+"=";r.AssignmentOperators.indexOf(n)<0&&r.AssignmentOperators.push(n)}),r}Be(()=>module);function rP(e){var r=e.use(nt),t=r.Type,n=t.def,i=t.or,s=e.use(rr),o=s.defaults,a=s.geq;let{BinaryOperators:l,AssignmentOperators:u,LogicalOperators:c}=e.use(vb);n("Printable").field("loc",i(n("SourceLocation"),null),o.null,!0),n("Node").bases("Printable").field("type",String).field("comments",i([n("Comment")],null),o.null,!0),n("SourceLocation").field("start",n("Position")).field("end",n("Position")).field("source",i(String,null),o.null),n("Position").field("line",a(1)).field("column",a(0)),n("File").bases("Node").build("program","name").field("program",n("Program")).field("name",i(String,null),o.null),n("Program").bases("Node").build("body").field("body",[n("Statement")]),n("Function").bases("Node").field("id",i(n("Identifier"),null),o.null).field("params",[n("Pattern")]).field("body",n("BlockStatement")).field("generator",Boolean,o.false).field("async",Boolean,o.false),n("Statement").bases("Node"),n("EmptyStatement").bases("Statement").build(),n("BlockStatement").bases("Statement").build("body").field("body",[n("Statement")]),n("ExpressionStatement").bases("Statement").build("expression").field("expression",n("Expression")),n("IfStatement").bases("Statement").build("test","consequent","alternate").field("test",n("Expression")).field("consequent",n("Statement")).field("alternate",i(n("Statement"),null),o.null),n("LabeledStatement").bases("Statement").build("label","body").field("label",n("Identifier")).field("body",n("Statement")),n("BreakStatement").bases("Statement").build("label").field("label",i(n("Identifier"),null),o.null),n("ContinueStatement").bases("Statement").build("label").field("label",i(n("Identifier"),null),o.null),n("WithStatement").bases("Statement").build("object","body").field("object",n("Expression")).field("body",n("Statement")),n("SwitchStatement").bases("Statement").build("discriminant","cases","lexical").field("discriminant",n("Expression")).field("cases",[n("SwitchCase")]).field("lexical",Boolean,o.false),n("ReturnStatement").bases("Statement").build("argument").field("argument",i(n("Expression"),null)),n("ThrowStatement").bases("Statement").build("argument").field("argument",n("Expression")),n("TryStatement").bases("Statement").build("block","handler","finalizer").field("block",n("BlockStatement")).field("handler",i(n("CatchClause"),null),function(){return this.handlers&&this.handlers[0]||null}).field("handlers",[n("CatchClause")],function(){return this.handler?[this.handler]:[]},!0).field("guardedHandlers",[n("CatchClause")],o.emptyArray).field("finalizer",i(n("BlockStatement"),null),o.null),n("CatchClause").bases("Node").build("param","guard","body").field("param",n("Pattern")).field("guard",i(n("Expression"),null),o.null).field("body",n("BlockStatement")),n("WhileStatement").bases("Statement").build("test","body").field("test",n("Expression")).field("body",n("Statement")),n("DoWhileStatement").bases("Statement").build("body","test").field("body",n("Statement")).field("test",n("Expression")),n("ForStatement").bases("Statement").build("init","test","update","body").field("init",i(n("VariableDeclaration"),n("Expression"),null)).field("test",i(n("Expression"),null)).field("update",i(n("Expression"),null)).field("body",n("Statement")),n("ForInStatement").bases("Statement").build("left","right","body").field("left",i(n("VariableDeclaration"),n("Expression"))).field("right",n("Expression")).field("body",n("Statement")),n("DebuggerStatement").bases("Statement").build(),n("Declaration").bases("Statement"),n("FunctionDeclaration").bases("Function","Declaration").build("id","params","body").field("id",n("Identifier")),n("FunctionExpression").bases("Function","Expression").build("id","params","body"),n("VariableDeclaration").bases("Declaration").build("kind","declarations").field("kind",i("var","let","const")).field("declarations",[n("VariableDeclarator")]),n("VariableDeclarator").bases("Node").build("id","init").field("id",n("Pattern")).field("init",i(n("Expression"),null),o.null),n("Expression").bases("Node"),n("ThisExpression").bases("Expression").build(),n("ArrayExpression").bases("Expression").build("elements").field("elements",[i(n("Expression"),null)]),n("ObjectExpression").bases("Expression").build("properties").field("properties",[n("Property")]),n("Property").bases("Node").build("kind","key","value").field("kind",i("init","get","set")).field("key",i(n("Literal"),n("Identifier"))).field("value",n("Expression")),n("SequenceExpression").bases("Expression").build("expressions").field("expressions",[n("Expression")]);var p=i("-","+","!","~","typeof","void","delete");n("UnaryExpression").bases("Expression").build("operator","argument","prefix").field("operator",p).field("argument",n("Expression")).field("prefix",Boolean,o.true);let d=i(...l);n("BinaryExpression").bases("Expression").build("operator","left","right").field("operator",d).field("left",n("Expression")).field("right",n("Expression"));let m=i(...u);n("AssignmentExpression").bases("Expression").build("operator","left","right").field("operator",m).field("left",i(n("Pattern"),n("MemberExpression"))).field("right",n("Expression"));var f=i("++","--");n("UpdateExpression").bases("Expression").build("operator","argument","prefix").field("operator",f).field("argument",n("Expression")).field("prefix",Boolean);var h=i(...c);n("LogicalExpression").bases("Expression").build("operator","left","right").field("operator",h).field("left",n("Expression")).field("right",n("Expression")),n("ConditionalExpression").bases("Expression").build("test","consequent","alternate").field("test",n("Expression")).field("consequent",n("Expression")).field("alternate",n("Expression")),n("NewExpression").bases("Expression").build("callee","arguments").field("callee",n("Expression")).field("arguments",[n("Expression")]),n("CallExpression").bases("Expression").build("callee","arguments").field("callee",n("Expression")).field("arguments",[n("Expression")]),n("MemberExpression").bases("Expression").build("object","property","computed").field("object",n("Expression")).field("property",i(n("Identifier"),n("Expression"))).field("computed",Boolean,function(){var g=this.property.type;return g==="Literal"||g==="MemberExpression"||g==="BinaryExpression"}),n("Pattern").bases("Node"),n("SwitchCase").bases("Node").build("test","consequent").field("test",i(n("Expression"),null)).field("consequent",[n("Statement")]),n("Identifier").bases("Expression","Pattern").build("name").field("name",String).field("optional",Boolean,o.false),n("Literal").bases("Expression").build("value").field("value",i(String,Boolean,null,Number,RegExp,BigInt)),n("Comment").bases("Printable").field("value",String).field("leading",Boolean,o.true).field("trailing",Boolean,o.false)}Be(()=>module);function nP(e){e.use(rP);let r=e.use(nt),t=r.Type.def,n=r.Type.or,i=e.use(rr).defaults;t("Function").field("generator",Boolean,i.false).field("expression",Boolean,i.false).field("defaults",[n(t("Expression"),null)],i.emptyArray).field("rest",n(t("Identifier"),null),i.null),t("RestElement").bases("Pattern").build("argument").field("argument",t("Pattern")).field("typeAnnotation",n(t("TypeAnnotation"),t("TSTypeAnnotation"),null),i.null),t("SpreadElementPattern").bases("Pattern").build("argument").field("argument",t("Pattern")),t("FunctionDeclaration").build("id","params","body","generator","expression").field("id",n(t("Identifier"),null)),t("FunctionExpression").build("id","params","body","generator","expression"),t("ArrowFunctionExpression").bases("Function","Expression").build("params","body","expression").field("id",null,i.null).field("body",n(t("BlockStatement"),t("Expression"))).field("generator",!1,i.false),t("ForOfStatement").bases("Statement").build("left","right","body").field("left",n(t("VariableDeclaration"),t("Pattern"))).field("right",t("Expression")).field("body",t("Statement")),t("YieldExpression").bases("Expression").build("argument","delegate").field("argument",n(t("Expression"),null)).field("delegate",Boolean,i.false),t("GeneratorExpression").bases("Expression").build("body","blocks","filter").field("body",t("Expression")).field("blocks",[t("ComprehensionBlock")]).field("filter",n(t("Expression"),null)),t("ComprehensionExpression").bases("Expression").build("body","blocks","filter").field("body",t("Expression")).field("blocks",[t("ComprehensionBlock")]).field("filter",n(t("Expression"),null)),t("ComprehensionBlock").bases("Node").build("left","right","each").field("left",t("Pattern")).field("right",t("Expression")).field("each",Boolean),t("Property").field("key",n(t("Literal"),t("Identifier"),t("Expression"))).field("value",n(t("Expression"),t("Pattern"))).field("method",Boolean,i.false).field("shorthand",Boolean,i.false).field("computed",Boolean,i.false),t("ObjectProperty").field("shorthand",Boolean,i.false),t("PropertyPattern").bases("Pattern").build("key","pattern").field("key",n(t("Literal"),t("Identifier"),t("Expression"))).field("pattern",t("Pattern")).field("computed",Boolean,i.false),t("ObjectPattern").bases("Pattern").build("properties").field("properties",[n(t("PropertyPattern"),t("Property"))]),t("ArrayPattern").bases("Pattern").build("elements").field("elements",[n(t("Pattern"),null)]),t("SpreadElement").bases("Node").build("argument").field("argument",t("Expression")),t("ArrayExpression").field("elements",[n(t("Expression"),t("SpreadElement"),t("RestElement"),null)]),t("NewExpression").field("arguments",[n(t("Expression"),t("SpreadElement"))]),t("CallExpression").field("arguments",[n(t("Expression"),t("SpreadElement"))]),t("AssignmentPattern").bases("Pattern").build("left","right").field("left",t("Pattern")).field("right",t("Expression")),t("MethodDefinition").bases("Declaration").build("kind","key","value","static").field("kind",n("constructor","method","get","set")).field("key",t("Expression")).field("value",t("Function")).field("computed",Boolean,i.false).field("static",Boolean,i.false);let s=n(t("MethodDefinition"),t("VariableDeclarator"),t("ClassPropertyDefinition"),t("ClassProperty"),t("StaticBlock"));t("ClassProperty").bases("Declaration").build("key").field("key",n(t("Literal"),t("Identifier"),t("Expression"))).field("computed",Boolean,i.false),t("ClassPropertyDefinition").bases("Declaration").build("definition").field("definition",s),t("ClassBody").bases("Declaration").build("body").field("body",[s]),t("ClassDeclaration").bases("Declaration").build("id","body","superClass").field("id",n(t("Identifier"),null)).field("body",t("ClassBody")).field("superClass",n(t("Expression"),null),i.null),t("ClassExpression").bases("Expression").build("id","body","superClass").field("id",n(t("Identifier"),null),i.null).field("body",t("ClassBody")).field("superClass",n(t("Expression"),null),i.null),t("Super").bases("Expression").build(),t("Specifier").bases("Node"),t("ModuleSpecifier").bases("Specifier").field("local",n(t("Identifier"),null),i.null).field("id",n(t("Identifier"),null),i.null).field("name",n(t("Identifier"),null),i.null),t("ImportSpecifier").bases("ModuleSpecifier").build("imported","local").field("imported",t("Identifier")),t("ImportDefaultSpecifier").bases("ModuleSpecifier").build("local"),t("ImportNamespaceSpecifier").bases("ModuleSpecifier").build("local"),t("ImportDeclaration").bases("Declaration").build("specifiers","source","importKind").field("specifiers",[n(t("ImportSpecifier"),t("ImportNamespaceSpecifier"),t("ImportDefaultSpecifier"))],i.emptyArray).field("source",t("Literal")).field("importKind",n("value","type"),function(){return"value"}),t("ExportNamedDeclaration").bases("Declaration").build("declaration","specifiers","source").field("declaration",n(t("Declaration"),null)).field("specifiers",[t("ExportSpecifier")],i.emptyArray).field("source",n(t("Literal"),null),i.null),t("ExportSpecifier").bases("ModuleSpecifier").build("local","exported").field("exported",t("Identifier")),t("ExportDefaultDeclaration").bases("Declaration").build("declaration").field("declaration",n(t("Declaration"),t("Expression"))),t("ExportAllDeclaration").bases("Declaration").build("source").field("source",t("Literal")),t("TaggedTemplateExpression").bases("Expression").build("tag","quasi").field("tag",t("Expression")).field("quasi",t("TemplateLiteral")),t("TemplateLiteral").bases("Expression").build("quasis","expressions").field("quasis",[t("TemplateElement")]).field("expressions",[t("Expression")]),t("TemplateElement").bases("Node").build("value","tail").field("value",{cooked:String,raw:String}).field("tail",Boolean),t("MetaProperty").bases("Expression").build("meta","property").field("meta",t("Identifier")).field("property",t("Identifier"))}Be(()=>module);function iP(e){e.use(Tb),e.use(nP)}Be(()=>module);function sP(e){e.use(iP);let t=e.use(nt).Type.def,n=e.use(rr).defaults;t("Function").field("async",Boolean,n.false),t("AwaitExpression").bases("Expression").build("argument").field("argument",t("Expression"))}Be(()=>module);function oP(e){e.use(sP);let r=e.use(nt),t=r.Type.def,n=r.Type.or,i=e.use(rr).defaults;t("ForOfStatement").field("await",Boolean,i.false),t("SpreadProperty").bases("Node").build("argument").field("argument",t("Expression")),t("ObjectExpression").field("properties",[n(t("Property"),t("SpreadProperty"),t("SpreadElement"))]),t("TemplateElement").field("value",{cooked:n(String,null),raw:String}),t("SpreadPropertyPattern").bases("Pattern").build("argument").field("argument",t("Pattern")),t("ObjectPattern").field("properties",[n(t("PropertyPattern"),t("Property"),t("RestElement"),t("SpreadPropertyPattern"))])}Be(()=>module);function aP(e){e.use(oP);let r=e.use(nt),t=r.Type.def,n=r.Type.or,i=e.use(rr).defaults;t("CatchClause").field("param",n(t("Pattern"),null),i.null)}Be(()=>module);function lP(e){e.use(Pb),e.use(aP);let r=e.use(nt),t=r.Type.def,n=r.Type.or,s=e.use(rr).defaults;t("ImportExpression").bases("Expression").build("source").field("source",t("Expression")),t("ExportAllDeclaration").bases("Declaration").build("source","exported").field("source",t("Literal")).field("exported",n(t("Identifier"),null,void 0),s.null),t("ChainElement").bases("Node").field("optional",Boolean,s.false),t("CallExpression").bases("Expression","ChainElement"),t("MemberExpression").bases("Expression","ChainElement"),t("ChainExpression").bases("Expression").build("expression").field("expression",t("ChainElement")),t("OptionalCallExpression").bases("CallExpression").build("callee","arguments","optional").field("optional",Boolean,s.true),t("OptionalMemberExpression").bases("MemberExpression").build("object","property","computed","optional").field("optional",Boolean,s.true)}Be(()=>module);function uP(e){e.use(tP),e.use(lP)}Be(()=>module);function cP(e){e.use(uP);let t=e.use(nt).Type.def;t("StaticBlock").bases("Declaration").build("body").field("body",[t("Statement")])}Be(()=>module);function mo(e){e.use(cP);let r=e.use(nt),t=r.Type,n=r.Type.def,i=t.or,o=e.use(rr).defaults;n("AwaitExpression").build("argument","all").field("argument",i(n("Expression"),null)).field("all",Boolean,o.false),n("Decorator").bases("Node").build("expression").field("expression",n("Expression")),n("Property").field("decorators",i([n("Decorator")],null),o.null),n("MethodDefinition").field("decorators",i([n("Decorator")],null),o.null),n("PrivateName").bases("Expression","Pattern").build("id").field("id",n("Identifier")),n("ClassPrivateProperty").bases("ClassProperty").build("key","value").field("key",n("PrivateName")).field("value",i(n("Expression"),null),o.null),n("ImportAttribute").bases("Node").build("key","value").field("key",i(n("Identifier"),n("Literal"))).field("value",n("Expression")),["ImportDeclaration","ExportAllDeclaration","ExportNamedDeclaration"].forEach(a=>{n(a).field("assertions",[n("ImportAttribute")],o.emptyArray)}),n("RecordExpression").bases("Expression").build("properties").field("properties",[i(n("ObjectProperty"),n("ObjectMethod"),n("SpreadElement"))]),n("TupleExpression").bases("Expression").build("elements").field("elements",[i(n("Expression"),n("SpreadElement"),null)]),n("ModuleExpression").bases("Node").build("body").field("body",n("Program"))}Be(()=>module);function pP(e){e.use(mo);let r=e.use(nt),t=r.Type.def,n=r.Type.or,i=e.use(rr).defaults;t("JSXAttribute").bases("Node").build("name","value").field("name",n(t("JSXIdentifier"),t("JSXNamespacedName"))).field("value",n(t("Literal"),t("JSXExpressionContainer"),t("JSXElement"),t("JSXFragment"),null),i.null),t("JSXIdentifier").bases("Identifier").build("name").field("name",String),t("JSXNamespacedName").bases("Node").build("namespace","name").field("namespace",t("JSXIdentifier")).field("name",t("JSXIdentifier")),t("JSXMemberExpression").bases("MemberExpression").build("object","property").field("object",n(t("JSXIdentifier"),t("JSXMemberExpression"))).field("property",t("JSXIdentifier")).field("computed",Boolean,i.false);let s=n(t("JSXIdentifier"),t("JSXNamespacedName"),t("JSXMemberExpression"));t("JSXSpreadAttribute").bases("Node").build("argument").field("argument",t("Expression"));let o=[n(t("JSXAttribute"),t("JSXSpreadAttribute"))];t("JSXExpressionContainer").bases("Expression").build("expression").field("expression",n(t("Expression"),t("JSXEmptyExpression")));let a=[n(t("JSXText"),t("JSXExpressionContainer"),t("JSXSpreadChild"),t("JSXElement"),t("JSXFragment"),t("Literal"))];t("JSXElement").bases("Expression").build("openingElement","closingElement","children").field("openingElement",t("JSXOpeningElement")).field("closingElement",n(t("JSXClosingElement"),null),i.null).field("children",a,i.emptyArray).field("name",s,function(){return this.openingElement.name},!0).field("selfClosing",Boolean,function(){return this.openingElement.selfClosing},!0).field("attributes",o,function(){return this.openingElement.attributes},!0),t("JSXOpeningElement").bases("Node").build("name","attributes","selfClosing").field("name",s).field("attributes",o,i.emptyArray).field("selfClosing",Boolean,i.false),t("JSXClosingElement").bases("Node").build("name").field("name",s),t("JSXFragment").bases("Expression").build("openingFragment","closingFragment","children").field("openingFragment",t("JSXOpeningFragment")).field("closingFragment",t("JSXClosingFragment")).field("children",a,i.emptyArray),t("JSXOpeningFragment").bases("Node").build(),t("JSXClosingFragment").bases("Node").build(),t("JSXText").bases("Literal").build("value","raw").field("value",String).field("raw",String,function(){return this.value}),t("JSXEmptyExpression").bases("Node").build(),t("JSXSpreadChild").bases("Node").build("expression").field("expression",t("Expression"))}Be(()=>module);function Ib(e){var r=e.use(nt),t=r.Type.def,n=r.Type.or,i=e.use(rr).defaults,s=n(t("TypeAnnotation"),t("TSTypeAnnotation"),null),o=n(t("TypeParameterDeclaration"),t("TSTypeParameterDeclaration"),null);t("Identifier").field("typeAnnotation",s,i.null),t("ObjectPattern").field("typeAnnotation",s,i.null),t("Function").field("returnType",s,i.null).field("typeParameters",o,i.null),t("ClassProperty").build("key","value","typeAnnotation","static").field("value",n(t("Expression"),null)).field("static",Boolean,i.false).field("typeAnnotation",s,i.null),["ClassDeclaration","ClassExpression"].forEach(a=>{t(a).field("typeParameters",o,i.null).field("superTypeParameters",n(t("TypeParameterInstantiation"),t("TSTypeParameterInstantiation"),null),i.null).field("implements",n([t("ClassImplements")],[t("TSExpressionWithTypeArguments")]),i.emptyArray)})}Be(()=>module);function Nb(e){e.use(mo),e.use(Ib);let r=e.use(nt),t=r.Type.def,n=r.Type.or,i=e.use(rr).defaults;t("Flow").bases("Node"),t("FlowType").bases("Flow"),t("AnyTypeAnnotation").bases("FlowType").build(),t("EmptyTypeAnnotation").bases("FlowType").build(),t("MixedTypeAnnotation").bases("FlowType").build(),t("VoidTypeAnnotation").bases("FlowType").build(),t("SymbolTypeAnnotation").bases("FlowType").build(),t("NumberTypeAnnotation").bases("FlowType").build(),t("BigIntTypeAnnotation").bases("FlowType").build(),t("NumberLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),t("NumericLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),t("BigIntLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",null).field("raw",String),t("StringTypeAnnotation").bases("FlowType").build(),t("StringLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",String).field("raw",String),t("BooleanTypeAnnotation").bases("FlowType").build(),t("BooleanLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Boolean).field("raw",String),t("TypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",t("FlowType")),t("NullableTypeAnnotation").bases("FlowType").build("typeAnnotation").field("typeAnnotation",t("FlowType")),t("NullLiteralTypeAnnotation").bases("FlowType").build(),t("NullTypeAnnotation").bases("FlowType").build(),t("ThisTypeAnnotation").bases("FlowType").build(),t("ExistsTypeAnnotation").bases("FlowType").build(),t("ExistentialTypeParam").bases("FlowType").build(),t("FunctionTypeAnnotation").bases("FlowType").build("params","returnType","rest","typeParameters").field("params",[t("FunctionTypeParam")]).field("returnType",t("FlowType")).field("rest",n(t("FunctionTypeParam"),null)).field("typeParameters",n(t("TypeParameterDeclaration"),null)),t("FunctionTypeParam").bases("Node").build("name","typeAnnotation","optional").field("name",n(t("Identifier"),null)).field("typeAnnotation",t("FlowType")).field("optional",Boolean),t("ArrayTypeAnnotation").bases("FlowType").build("elementType").field("elementType",t("FlowType")),t("ObjectTypeAnnotation").bases("FlowType").build("properties","indexers","callProperties").field("properties",[n(t("ObjectTypeProperty"),t("ObjectTypeSpreadProperty"))]).field("indexers",[t("ObjectTypeIndexer")],i.emptyArray).field("callProperties",[t("ObjectTypeCallProperty")],i.emptyArray).field("inexact",n(Boolean,void 0),i.undefined).field("exact",Boolean,i.false).field("internalSlots",[t("ObjectTypeInternalSlot")],i.emptyArray),t("Variance").bases("Node").build("kind").field("kind",n("plus","minus"));let s=n(t("Variance"),"plus","minus",null);t("ObjectTypeProperty").bases("Node").build("key","value","optional").field("key",n(t("Literal"),t("Identifier"))).field("value",t("FlowType")).field("optional",Boolean).field("variance",s,i.null),t("ObjectTypeIndexer").bases("Node").build("id","key","value").field("id",t("Identifier")).field("key",t("FlowType")).field("value",t("FlowType")).field("variance",s,i.null).field("static",Boolean,i.false),t("ObjectTypeCallProperty").bases("Node").build("value").field("value",t("FunctionTypeAnnotation")).field("static",Boolean,i.false),t("QualifiedTypeIdentifier").bases("Node").build("qualification","id").field("qualification",n(t("Identifier"),t("QualifiedTypeIdentifier"))).field("id",t("Identifier")),t("GenericTypeAnnotation").bases("FlowType").build("id","typeParameters").field("id",n(t("Identifier"),t("QualifiedTypeIdentifier"))).field("typeParameters",n(t("TypeParameterInstantiation"),null)),t("MemberTypeAnnotation").bases("FlowType").build("object","property").field("object",t("Identifier")).field("property",n(t("MemberTypeAnnotation"),t("GenericTypeAnnotation"))),t("IndexedAccessType").bases("FlowType").build("objectType","indexType").field("objectType",t("FlowType")).field("indexType",t("FlowType")),t("OptionalIndexedAccessType").bases("FlowType").build("objectType","indexType","optional").field("objectType",t("FlowType")).field("indexType",t("FlowType")).field("optional",Boolean),t("UnionTypeAnnotation").bases("FlowType").build("types").field("types",[t("FlowType")]),t("IntersectionTypeAnnotation").bases("FlowType").build("types").field("types",[t("FlowType")]),t("TypeofTypeAnnotation").bases("FlowType").build("argument").field("argument",t("FlowType")),t("ObjectTypeSpreadProperty").bases("Node").build("argument").field("argument",t("FlowType")),t("ObjectTypeInternalSlot").bases("Node").build("id","value","optional","static","method").field("id",t("Identifier")).field("value",t("FlowType")).field("optional",Boolean).field("static",Boolean).field("method",Boolean),t("TypeParameterDeclaration").bases("Node").build("params").field("params",[t("TypeParameter")]),t("TypeParameterInstantiation").bases("Node").build("params").field("params",[t("FlowType")]),t("TypeParameter").bases("FlowType").build("name","variance","bound","default").field("name",String).field("variance",s,i.null).field("bound",n(t("TypeAnnotation"),null),i.null).field("default",n(t("FlowType"),null),i.null),t("ClassProperty").field("variance",s,i.null),t("ClassImplements").bases("Node").build("id").field("id",t("Identifier")).field("superClass",n(t("Expression"),null),i.null).field("typeParameters",n(t("TypeParameterInstantiation"),null),i.null),t("InterfaceTypeAnnotation").bases("FlowType").build("body","extends").field("body",t("ObjectTypeAnnotation")).field("extends",n([t("InterfaceExtends")],null),i.null),t("InterfaceDeclaration").bases("Declaration").build("id","body","extends").field("id",t("Identifier")).field("typeParameters",n(t("TypeParameterDeclaration"),null),i.null).field("body",t("ObjectTypeAnnotation")).field("extends",[t("InterfaceExtends")]),t("DeclareInterface").bases("InterfaceDeclaration").build("id","body","extends"),t("InterfaceExtends").bases("Node").build("id").field("id",t("Identifier")).field("typeParameters",n(t("TypeParameterInstantiation"),null),i.null),t("TypeAlias").bases("Declaration").build("id","typeParameters","right").field("id",t("Identifier")).field("typeParameters",n(t("TypeParameterDeclaration"),null)).field("right",t("FlowType")),t("DeclareTypeAlias").bases("TypeAlias").build("id","typeParameters","right"),t("OpaqueType").bases("Declaration").build("id","typeParameters","impltype","supertype").field("id",t("Identifier")).field("typeParameters",n(t("TypeParameterDeclaration"),null)).field("impltype",t("FlowType")).field("supertype",n(t("FlowType"),null)),t("DeclareOpaqueType").bases("OpaqueType").build("id","typeParameters","supertype").field("impltype",n(t("FlowType"),null)),t("TypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",t("Expression")).field("typeAnnotation",t("TypeAnnotation")),t("TupleTypeAnnotation").bases("FlowType").build("types").field("types",[t("FlowType")]),t("DeclareVariable").bases("Statement").build("id").field("id",t("Identifier")),t("DeclareFunction").bases("Statement").build("id").field("id",t("Identifier")).field("predicate",n(t("FlowPredicate"),null),i.null),t("DeclareClass").bases("InterfaceDeclaration").build("id"),t("DeclareModule").bases("Statement").build("id","body").field("id",n(t("Identifier"),t("Literal"))).field("body",t("BlockStatement")),t("DeclareModuleExports").bases("Statement").build("typeAnnotation").field("typeAnnotation",t("TypeAnnotation")),t("DeclareExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",n(t("DeclareVariable"),t("DeclareFunction"),t("DeclareClass"),t("FlowType"),t("TypeAlias"),t("DeclareOpaqueType"),t("InterfaceDeclaration"),null)).field("specifiers",[n(t("ExportSpecifier"),t("ExportBatchSpecifier"))],i.emptyArray).field("source",n(t("Literal"),null),i.null),t("DeclareExportAllDeclaration").bases("Declaration").build("source").field("source",n(t("Literal"),null),i.null),t("ImportDeclaration").field("importKind",n("value","type","typeof"),()=>"value"),t("FlowPredicate").bases("Flow"),t("InferredPredicate").bases("FlowPredicate").build(),t("DeclaredPredicate").bases("FlowPredicate").build("value").field("value",t("Expression")),t("Function").field("predicate",n(t("FlowPredicate"),null),i.null),t("CallExpression").field("typeArguments",n(null,t("TypeParameterInstantiation")),i.null),t("NewExpression").field("typeArguments",n(null,t("TypeParameterInstantiation")),i.null),t("EnumDeclaration").bases("Declaration").build("id","body").field("id",t("Identifier")).field("body",n(t("EnumBooleanBody"),t("EnumNumberBody"),t("EnumStringBody"),t("EnumSymbolBody"))),t("EnumBooleanBody").build("members","explicitType").field("members",[t("EnumBooleanMember")]).field("explicitType",Boolean),t("EnumNumberBody").build("members","explicitType").field("members",[t("EnumNumberMember")]).field("explicitType",Boolean),t("EnumStringBody").build("members","explicitType").field("members",n([t("EnumStringMember")],[t("EnumDefaultedMember")])).field("explicitType",Boolean),t("EnumSymbolBody").build("members").field("members",[t("EnumDefaultedMember")]),t("EnumBooleanMember").build("id","init").field("id",t("Identifier")).field("init",n(t("Literal"),Boolean)),t("EnumNumberMember").build("id","init").field("id",t("Identifier")).field("init",t("Literal")),t("EnumStringMember").build("id","init").field("id",t("Identifier")).field("init",t("Literal")),t("EnumDefaultedMember").build("id").field("id",t("Identifier"))}Be(()=>module);function dP(e){e.use(mo);var r=e.use(nt),t=e.use(rr).defaults,n=r.Type.def,i=r.Type.or;n("VariableDeclaration").field("declarations",[i(n("VariableDeclarator"),n("Identifier"))]),n("Property").field("value",i(n("Expression"),n("Pattern"))),n("ArrayPattern").field("elements",[i(n("Pattern"),n("SpreadElement"),null)]),n("ObjectPattern").field("properties",[i(n("Property"),n("PropertyPattern"),n("SpreadPropertyPattern"),n("SpreadProperty"))]),n("ExportSpecifier").bases("ModuleSpecifier").build("id","name"),n("ExportBatchSpecifier").bases("Specifier").build(),n("ExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",i(n("Declaration"),n("Expression"),null)).field("specifiers",[i(n("ExportSpecifier"),n("ExportBatchSpecifier"))],t.emptyArray).field("source",i(n("Literal"),null),t.null),n("Block").bases("Comment").build("value","leading","trailing"),n("Line").bases("Comment").build("value","leading","trailing")}Be(()=>module);function Fb(e){e.use(mo);let r=e.use(nt),t=e.use(rr).defaults,n=r.Type.def,i=r.Type.or,{undefined:s}=r.builtInTypes;n("Noop").bases("Statement").build(),n("DoExpression").bases("Expression").build("body").field("body",[n("Statement")]),n("BindExpression").bases("Expression").build("object","callee").field("object",i(n("Expression"),null)).field("callee",n("Expression")),n("ParenthesizedExpression").bases("Expression").build("expression").field("expression",n("Expression")),n("ExportNamespaceSpecifier").bases("Specifier").build("exported").field("exported",n("Identifier")),n("ExportDefaultSpecifier").bases("Specifier").build("exported").field("exported",n("Identifier")),n("CommentBlock").bases("Comment").build("value","leading","trailing"),n("CommentLine").bases("Comment").build("value","leading","trailing"),n("Directive").bases("Node").build("value").field("value",n("DirectiveLiteral")),n("DirectiveLiteral").bases("Node","Expression").build("value").field("value",String,t["use strict"]),n("InterpreterDirective").bases("Node").build("value").field("value",String),n("BlockStatement").bases("Statement").build("body").field("body",[n("Statement")]).field("directives",[n("Directive")],t.emptyArray),n("Program").bases("Node").build("body").field("body",[n("Statement")]).field("directives",[n("Directive")],t.emptyArray).field("interpreter",i(n("InterpreterDirective"),null),t.null);function o(c=String,p){return["extra",{rawValue:c,raw:String},function(){let m=r.getFieldValue(this,"value");return{rawValue:m,raw:p?p(m):String(m)}}]}n("StringLiteral").bases("Literal").build("value").field("value",String).field(...o(String,c=>JSON.stringify(c))),n("NumericLiteral").bases("Literal").build("value").field("value",Number).field("raw",i(String,null),t.null).field(...o(Number)),n("BigIntLiteral").bases("Literal").build("value").field("value",i(String,Number)).field(...o(String,c=>c+"n")),n("DecimalLiteral").bases("Literal").build("value").field("value",String).field(...o(String,c=>c+"m")),n("NullLiteral").bases("Literal").build().field("value",null,t.null),n("BooleanLiteral").bases("Literal").build("value").field("value",Boolean),n("RegExpLiteral").bases("Literal").build("pattern","flags").field("pattern",String).field("flags",String).field("value",RegExp,function(){return new RegExp(this.pattern,this.flags)}).field(...o(i(RegExp,s),c=>`/${c.pattern}/${c.flags||""}`)).field("regex",{pattern:String,flags:String},function(){return{pattern:this.pattern,flags:this.flags}});var a=i(n("Property"),n("ObjectMethod"),n("ObjectProperty"),n("SpreadProperty"),n("SpreadElement"));n("ObjectExpression").bases("Expression").build("properties").field("properties",[a]),n("ObjectMethod").bases("Node","Function").build("kind","key","params","body","computed").field("kind",i("method","get","set")).field("key",i(n("Literal"),n("Identifier"),n("Expression"))).field("params",[n("Pattern")]).field("body",n("BlockStatement")).field("computed",Boolean,t.false).field("generator",Boolean,t.false).field("async",Boolean,t.false).field("accessibility",i(n("Literal"),null),t.null).field("decorators",i([n("Decorator")],null),t.null),n("ObjectProperty").bases("Node").build("key","value").field("key",i(n("Literal"),n("Identifier"),n("Expression"))).field("value",i(n("Expression"),n("Pattern"))).field("accessibility",i(n("Literal"),null),t.null).field("computed",Boolean,t.false);var l=i(n("MethodDefinition"),n("VariableDeclarator"),n("ClassPropertyDefinition"),n("ClassProperty"),n("ClassPrivateProperty"),n("ClassMethod"),n("ClassPrivateMethod"),n("ClassAccessorProperty"),n("StaticBlock"));n("ClassBody").bases("Declaration").build("body").field("body",[l]),n("ClassMethod").bases("Declaration","Function").build("kind","key","params","body","computed","static").field("key",i(n("Literal"),n("Identifier"),n("Expression"))),n("ClassPrivateMethod").bases("Declaration","Function").build("key","params","body","kind","computed","static").field("key",n("PrivateName")),n("ClassAccessorProperty").bases("Declaration").build("key","value","decorators","computed","static").field("key",i(n("Literal"),n("Identifier"),n("PrivateName"),n("Expression"))).field("value",i(n("Expression"),null),t.null),["ClassMethod","ClassPrivateMethod"].forEach(c=>{n(c).field("kind",i("get","set","method","constructor"),()=>"method").field("body",n("BlockStatement")).field("access",i("public","private","protected",null),t.null)}),["ClassMethod","ClassPrivateMethod","ClassAccessorProperty"].forEach(c=>{n(c).field("computed",Boolean,t.false).field("static",Boolean,t.false).field("abstract",Boolean,t.false).field("accessibility",i("public","private","protected",null),t.null).field("decorators",i([n("Decorator")],null),t.null).field("definite",Boolean,t.false).field("optional",Boolean,t.false).field("override",Boolean,t.false).field("readonly",Boolean,t.false)});var u=i(n("Property"),n("PropertyPattern"),n("SpreadPropertyPattern"),n("SpreadProperty"),n("ObjectProperty"),n("RestProperty"),n("RestElement"));n("ObjectPattern").bases("Pattern").build("properties").field("properties",[u]).field("decorators",i([n("Decorator")],null),t.null),n("SpreadProperty").bases("Node").build("argument").field("argument",n("Expression")),n("RestProperty").bases("Node").build("argument").field("argument",n("Expression")),n("ForAwaitStatement").bases("Statement").build("left","right","body").field("left",i(n("VariableDeclaration"),n("Expression"))).field("right",n("Expression")).field("body",n("Statement")),n("Import").bases("Expression").build()}Be(()=>module);function fP(e){let t=e.use(nt).Type.def;e.use(Fb),e.use(Nb),t("V8IntrinsicIdentifier").bases("Expression").build("name").field("name",String),t("TopicReference").bases("Expression").build()}Be(()=>module);function mP(e){e.use(Fb),e.use(Ib);var r=e.use(nt),t=r.namedTypes,n=r.Type.def,i=r.Type.or,s=e.use(rr).defaults,o=r.Type.from(function(c,p){return!!(t.StringLiteral&&t.StringLiteral.check(c,p)||t.Literal&&t.Literal.check(c,p)&&typeof c.value=="string")},"StringLiteral");n("TSType").bases("Node");var a=i(n("Identifier"),n("TSQualifiedName"));n("TSTypeReference").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("typeName","typeParameters").field("typeName",a),n("TSHasOptionalTypeParameterInstantiation").field("typeParameters",i(n("TSTypeParameterInstantiation"),null),s.null),n("TSHasOptionalTypeParameters").field("typeParameters",i(n("TSTypeParameterDeclaration"),null,void 0),s.null),n("TSHasOptionalTypeAnnotation").field("typeAnnotation",i(n("TSTypeAnnotation"),null),s.null),n("TSQualifiedName").bases("Node").build("left","right").field("left",a).field("right",a),n("TSAsExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")).field("extra",i({parenthesized:Boolean},null),s.null),n("TSTypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")),n("TSSatisfiesExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")),n("TSNonNullExpression").bases("Expression","Pattern").build("expression").field("expression",n("Expression")),["TSAnyKeyword","TSBigIntKeyword","TSBooleanKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword","TSIntrinsicKeyword","TSThisType"].forEach(c=>{n(c).bases("TSType").build()}),n("TSArrayType").bases("TSType").build("elementType").field("elementType",n("TSType")),n("TSLiteralType").bases("TSType").build("literal").field("literal",i(n("NumericLiteral"),n("StringLiteral"),n("BooleanLiteral"),n("TemplateLiteral"),n("UnaryExpression"),n("BigIntLiteral"))),n("TemplateLiteral").field("expressions",i([n("Expression")],[n("TSType")])),["TSUnionType","TSIntersectionType"].forEach(c=>{n(c).bases("TSType").build("types").field("types",[n("TSType")])}),n("TSConditionalType").bases("TSType").build("checkType","extendsType","trueType","falseType").field("checkType",n("TSType")).field("extendsType",n("TSType")).field("trueType",n("TSType")).field("falseType",n("TSType")),n("TSInferType").bases("TSType").build("typeParameter").field("typeParameter",n("TSTypeParameter")),n("TSParenthesizedType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType"));var l=[i(n("Identifier"),n("RestElement"),n("ArrayPattern"),n("ObjectPattern"))];["TSFunctionType","TSConstructorType"].forEach(c=>{n(c).bases("TSType","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters").field("parameters",l)}),n("TSDeclareFunction").bases("Declaration","TSHasOptionalTypeParameters").build("id","params","returnType").field("declare",Boolean,s.false).field("async",Boolean,s.false).field("generator",Boolean,s.false).field("id",i(n("Identifier"),null),s.null).field("params",[n("Pattern")]).field("returnType",i(n("TSTypeAnnotation"),n("Noop"),null),s.null),n("TSDeclareMethod").bases("Declaration","TSHasOptionalTypeParameters").build("key","params","returnType").field("async",Boolean,s.false).field("generator",Boolean,s.false).field("params",[n("Pattern")]).field("abstract",Boolean,s.false).field("accessibility",i("public","private","protected",void 0),s.undefined).field("static",Boolean,s.false).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("key",i(n("Identifier"),n("StringLiteral"),n("NumericLiteral"),n("Expression"))).field("kind",i("get","set","method","constructor"),function(){return"method"}).field("access",i("public","private","protected",void 0),s.undefined).field("decorators",i([n("Decorator")],null),s.null).field("returnType",i(n("TSTypeAnnotation"),n("Noop"),null),s.null),n("TSMappedType").bases("TSType").build("typeParameter","typeAnnotation").field("readonly",i(Boolean,"+","-"),s.false).field("typeParameter",n("TSTypeParameter")).field("optional",i(Boolean,"+","-"),s.false).field("typeAnnotation",i(n("TSType"),null),s.null),n("TSTupleType").bases("TSType").build("elementTypes").field("elementTypes",[i(n("TSType"),n("TSNamedTupleMember"))]),n("TSNamedTupleMember").bases("TSType").build("label","elementType","optional").field("label",n("Identifier")).field("optional",Boolean,s.false).field("elementType",n("TSType")),n("TSRestType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType")),n("TSOptionalType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType")),n("TSIndexedAccessType").bases("TSType").build("objectType","indexType").field("objectType",n("TSType")).field("indexType",n("TSType")),n("TSTypeOperator").bases("TSType").build("operator").field("operator",String).field("typeAnnotation",n("TSType")),n("TSTypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",i(n("TSType"),n("TSTypeAnnotation"))),n("TSIndexSignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",[n("Identifier")]).field("readonly",Boolean,s.false),n("TSPropertySignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("key","typeAnnotation","optional").field("key",n("Expression")).field("computed",Boolean,s.false).field("readonly",Boolean,s.false).field("optional",Boolean,s.false).field("initializer",i(n("Expression"),null),s.null),n("TSMethodSignature").bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("key","parameters","typeAnnotation").field("key",n("Expression")).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("parameters",l),n("TSTypePredicate").bases("TSTypeAnnotation","TSType").build("parameterName","typeAnnotation","asserts").field("parameterName",i(n("Identifier"),n("TSThisType"))).field("typeAnnotation",i(n("TSTypeAnnotation"),null),s.null).field("asserts",Boolean,s.false),["TSCallSignatureDeclaration","TSConstructSignatureDeclaration"].forEach(c=>{n(c).bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",l)}),n("TSEnumMember").bases("Node").build("id","initializer").field("id",i(n("Identifier"),o)).field("initializer",i(n("Expression"),null),s.null),n("TSTypeQuery").bases("TSType").build("exprName").field("exprName",i(a,n("TSImportType")));var u=i(n("TSCallSignatureDeclaration"),n("TSConstructSignatureDeclaration"),n("TSIndexSignature"),n("TSMethodSignature"),n("TSPropertySignature"));n("TSTypeLiteral").bases("TSType").build("members").field("members",[u]),n("TSTypeParameter").bases("Identifier").build("name","constraint","default").field("name",i(n("Identifier"),String)).field("constraint",i(n("TSType"),void 0),s.undefined).field("default",i(n("TSType"),void 0),s.undefined),n("TSTypeAssertion").bases("Expression","Pattern").build("typeAnnotation","expression").field("typeAnnotation",n("TSType")).field("expression",n("Expression")).field("extra",i({parenthesized:Boolean},null),s.null),n("TSTypeParameterDeclaration").bases("Declaration").build("params").field("params",[n("TSTypeParameter")]),n("TSInstantiationExpression").bases("Expression","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",n("Expression")),n("TSTypeParameterInstantiation").bases("Node").build("params").field("params",[n("TSType")]),n("TSEnumDeclaration").bases("Declaration").build("id","members").field("id",n("Identifier")).field("const",Boolean,s.false).field("declare",Boolean,s.false).field("members",[n("TSEnumMember")]).field("initializer",i(n("Expression"),null),s.null),n("TSTypeAliasDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","typeAnnotation").field("id",n("Identifier")).field("declare",Boolean,s.false).field("typeAnnotation",n("TSType")),n("TSModuleBlock").bases("Node").build("body").field("body",[n("Statement")]),n("TSModuleDeclaration").bases("Declaration").build("id","body").field("id",i(o,a)).field("declare",Boolean,s.false).field("global",Boolean,s.false).field("body",i(n("TSModuleBlock"),n("TSModuleDeclaration"),null),s.null),n("TSImportType").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("argument","qualifier","typeParameters").field("argument",o).field("qualifier",i(a,void 0),s.undefined),n("TSImportEqualsDeclaration").bases("Declaration").build("id","moduleReference").field("id",n("Identifier")).field("isExport",Boolean,s.false).field("moduleReference",i(a,n("TSExternalModuleReference"))),n("TSExternalModuleReference").bases("Declaration").build("expression").field("expression",o),n("TSExportAssignment").bases("Statement").build("expression").field("expression",n("Expression")),n("TSNamespaceExportDeclaration").bases("Declaration").build("id").field("id",n("Identifier")),n("TSInterfaceBody").bases("Node").build("body").field("body",[u]),n("TSExpressionWithTypeArguments").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",a),n("TSInterfaceDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","body").field("id",a).field("declare",Boolean,s.false).field("extends",i([n("TSExpressionWithTypeArguments")],null),s.null).field("body",n("TSInterfaceBody")),n("TSParameterProperty").bases("Pattern").build("parameter").field("accessibility",i("public","private","protected",void 0),s.undefined).field("readonly",Boolean,s.false).field("parameter",i(n("Identifier"),n("AssignmentPattern"))),n("ClassProperty").field("access",i("public","private","protected",void 0),s.undefined),n("ClassAccessorProperty").bases("Declaration","TSHasOptionalTypeAnnotation"),n("ClassBody").field("body",[i(n("MethodDefinition"),n("VariableDeclarator"),n("ClassPropertyDefinition"),n("ClassProperty"),n("ClassPrivateProperty"),n("ClassAccessorProperty"),n("ClassMethod"),n("ClassPrivateMethod"),n("StaticBlock"),n("TSDeclareMethod"),u)])}Be(()=>module);var wr;wr||(wr={});var{astNodesAreEquivalent:I4,builders:is,builtInTypes:Ar,defineMethod:N4,eachField:F4,finalize:k4,getBuilderName:_4,getFieldNames:hP,getFieldValue:gn,getSupertypeNames:O4,namedTypes:gP,NodePath:yP,Path:R4,PathVisitor:L4,someField:bP,Type:B4,use:M4,visit:$4}=ZT([mo,pP,Nb,dP,fP,mP]);Object.assign(wr,gP);var za=wr,lb=sl.default.SourceMapConsumer,DP=sl.default.SourceMapGenerator,kb=Object.prototype.hasOwnProperty;function xP(){return`
`}function ub(e,r,t){return e&&kb.call(e,r)?e[r]:t}function EP(...e){let r={},t=e.length;for(let n=0;n<t;++n){let i=Object.keys(e[n]),s=i.length;for(let o=0;o<s;++o)r[i[o]]=!0}return r}function Ae(e,r){return e.line-r.line||e.column-r.column}function Mn(e){return{line:e.line,column:e.column}}function CP(e,r){if(e){if(!r)return e}else return r||null;let t=new lb(e),n=new lb(r),i=new DP({file:r.file,sourceRoot:r.sourceRoot}),s={};return n.eachMapping(function(o){let a=t.originalPositionFor({line:o.originalLine,column:o.originalColumn}),l=a.source;if(l===null)return;i.addMapping({source:l,original:Mn(a),generated:{line:o.generatedLine,column:o.generatedColumn},name:o.name});let u=t.sourceContentFor(l);u&&!kb.call(s,l)&&(s[l]=u,i.setSourceContent(l,u))}),i.toJSON()}function _b(e,r){if(!e.loc)return null;let t={start:e.loc.start,end:e.loc.end};function n(i){pp(t,i.loc)}return e.declaration&&e.declaration.decorators&&ol(e)&&e.declaration.decorators.forEach(n),Ae(t.start,t.end)<0&&(t.start=Mn(t.start),r.skipSpaces(t.start,!1,!0),Ae(t.start,t.end)<0&&(t.end=Mn(t.end),r.skipSpaces(t.end,!0,!0))),e.comments&&e.comments.forEach(n),t}function pp(e,r){e&&r&&(Ae(r.start,e.start)<0&&(e.start=r.start),Ae(e.end,r.end)<0&&(e.end=r.end))}function Ep(e,r){let t=e.loc;if(t&&(t.start.line<1&&(t.start.line=1),t.end.line<1&&(t.end.line=1)),e.type==="File"&&(t.start=r.firstPos(),t.end=r.lastPos()),SP(e,r),wP(e,r),t&&e.decorators)e.decorators.forEach(function(n){pp(t,n.loc)});else if(e.declaration&&ol(e)){e.declaration.loc=null;let n=e.declaration.decorators;n&&n.forEach(function(i){pp(t,i.loc)})}else if(za.MethodDefinition&&za.MethodDefinition.check(e)||za.Property.check(e)&&(e.method||e.shorthand))e.value.loc=null,za.FunctionExpression.check(e.value)&&(e.value.id=null);else if(e.type==="ObjectTypeProperty"){let n=e.loc,i=n&&n.end;i&&(i=Mn(i),r.prevPos(i)&&r.charAt(i)===","&&(i=r.skipSpaces(i,!0,!0))&&(n.end=i))}}function SP(e,r){if(e.type!=="ForStatement")return;function t(n){let i=n&&n.loc,s=i&&i.start,o=i&&Mn(i.end);for(;s&&o&&Ae(s,o)<0&&(r.prevPos(o),r.charAt(o)===";");)i.end.line=o.line,i.end.column=o.column}t(e.init),t(e.test),t(e.update)}function wP(e,r){if(e.type==="TemplateLiteral"&&e.quasis.length!==0){if(e.loc){let t=Mn(e.loc.start),n=e.quasis[0];Ae(n.loc.start,t)<0&&(n.loc.start=t);let i=Mn(e.loc.end),s=e.quasis[e.quasis.length-1];Ae(i,s.loc.end)<0&&(s.loc.end=i)}e.expressions.forEach(function(t,n){let i=r.skipSpaces(t.loc.start,!0,!1);if(r.prevPos(i)&&r.charAt(i)==="{"&&r.prevPos(i)&&r.charAt(i)==="$"){let o=e.quasis[n];Ae(i,o.loc.end)<0&&(o.loc.end=i)}let s=r.skipSpaces(t.loc.end,!1,!1);if(r.charAt(s)==="}"){let o=e.quasis[n+1];Ae(o.loc.start,s)<0&&(o.loc.start=s)}})}}function ol(e){if(e)switch(e.type){case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportDefaultSpecifier":case"DeclareExportDeclaration":case"ExportNamedDeclaration":case"ExportAllDeclaration":return!0}return!1}function Ob(e){let r=e.getParentNode();return e.getName()==="declaration"&&ol(r)?r:null}function lo(e,r){let t=e.trailingComma;return typeof t=="object"?!!t[r]:!!t}var dp={tabWidth:4,useTabs:!1,reuseWhitespace:!0,lineTerminator:xP(),wrapColumn:74,sourceFileName:null,sourceMapName:null,sourceRoot:null,inputSourceMap:null,range:!1,tolerant:!0,quote:null,trailingComma:!1,arrayBracketSpacing:!1,objectCurlySpacing:!0,arrowParensAlways:!1,flowObjectCommas:!0,tokens:!0},AP=dp.hasOwnProperty;function al(e){let r=e||dp;function t(n){return AP.call(r,n)?r[n]:dp[n]}return{tabWidth:+t("tabWidth"),useTabs:!!t("useTabs"),reuseWhitespace:!!t("reuseWhitespace"),lineTerminator:t("lineTerminator"),wrapColumn:Math.max(t("wrapColumn"),0),sourceFileName:t("sourceFileName"),sourceMapName:t("sourceMapName"),sourceRoot:t("sourceRoot"),inputSourceMap:t("inputSourceMap"),parser:t("esprima")||t("parser"),range:t("range"),tolerant:t("tolerant"),quote:t("quote"),trailingComma:t("trailingComma"),arrayBracketSpacing:t("arrayBracketSpacing"),objectCurlySpacing:t("objectCurlySpacing"),arrowParensAlways:t("arrowParensAlways"),flowObjectCommas:t("flowObjectCommas"),tokens:!!t("tokens")}}var fp=class e{constructor(r,t,n=t){this.sourceLines=r,this.sourceLoc=t,this.targetLoc=n}slice(r,t,n=r.lastPos()){let i=this.sourceLines,s=this.sourceLoc,o=this.targetLoc;function a(l){let u=s[l],c=o[l],p=t;return l==="end"&&(p=n),vP(i,u,r,c,p)}if(Ae(t,o.start)<=0)if(Ae(o.end,n)<=0)o={start:Bn(o.start,t.line,t.column),end:Bn(o.end,t.line,t.column)};else{if(Ae(n,o.start)<=0)return null;s={start:s.start,end:a("end")},o={start:Bn(o.start,t.line,t.column),end:Bn(n,t.line,t.column)}}else{if(Ae(o.end,t)<=0)return null;Ae(o.end,n)<=0?(s={start:a("start"),end:s.end},o={start:{line:1,column:0},end:Bn(o.end,t.line,t.column)}):(s={start:a("start"),end:a("end")},o={start:{line:1,column:0},end:Bn(n,t.line,t.column)})}return new e(this.sourceLines,s,o)}add(r,t){return new e(this.sourceLines,this.sourceLoc,{start:cb(this.targetLoc.start,r,t),end:cb(this.targetLoc.end,r,t)})}subtract(r,t){return new e(this.sourceLines,this.sourceLoc,{start:Bn(this.targetLoc.start,r,t),end:Bn(this.targetLoc.end,r,t)})}indent(r,t=!1,n=!1){if(r===0)return this;let i=this.targetLoc,s=i.start.line,o=i.end.line;if(t&&s===1&&o===1)return this;if(i={start:i.start,end:i.end},!t||s>1){let a=i.start.column+r;i.start={line:s,column:n?Math.max(0,a):a}}if(!t||o>1){let a=i.end.column+r;i.end={line:o,column:n?Math.max(0,a):a}}return new e(this.sourceLines,this.sourceLoc,i)}};function cb(e,r,t){return{line:e.line+r-1,column:e.line===1?e.column+t:e.column}}function Bn(e,r,t){return{line:e.line-r+1,column:e.line===r?e.column-t:e.column}}function vP(e,r,t,n,i){let s=Ae(n,i);if(s===0)return r;let o,a;if(s<0){o=e.skipSpaces(r)||e.lastPos(),a=t.skipSpaces(n)||t.lastPos();let l=i.line-a.line;for(o.line+=l,a.line+=l,l>0&&(o.column=0,a.column=0);Ae(a,i)<0&&t.nextPos(a,!0););}else{o=e.skipSpaces(r,!0)||e.firstPos(),a=t.skipSpaces(n,!0)||t.firstPos();let l=i.line-a.line;for(o.line+=l,a.line+=l,l<0&&(o.column=e.getLineLength(o.line),a.column=t.getLineLength(a.line));Ae(i,a)<0&&t.prevPos(a,!0););}return o}var TP=Object.defineProperty,PP=(e,r,t)=>r in e?TP(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,to=(e,r,t)=>(PP(e,typeof r!="symbol"?r+"":r,t),t),rs=class e{constructor(r,t=null){this.infos=r,to(this,"length"),to(this,"name"),to(this,"mappings",[]),to(this,"cachedSourceMap",null),to(this,"cachedTabWidth"),this.length=r.length,this.name=t||null,this.name&&this.mappings.push(new fp(this,{start:this.firstPos(),end:this.lastPos()}))}toString(r){return this.sliceString(this.firstPos(),this.lastPos(),r)}getSourceMap(r,t){if(!r)return null;let n=this;function i(a){return a=a||{},a.file=r,t&&(a.sourceRoot=t),a}if(n.cachedSourceMap)return i(n.cachedSourceMap.toJSON());let s=new sl.default.SourceMapGenerator(i()),o={};return n.mappings.forEach(function(a){let l=a.sourceLines.skipSpaces(a.sourceLoc.start)||a.sourceLines.lastPos(),u=n.skipSpaces(a.targetLoc.start)||n.lastPos();for(;Ae(l,a.sourceLoc.end)<0&&Ae(u,a.targetLoc.end)<0;){a.sourceLines.charAt(l),n.charAt(u);let c=a.sourceLines.name;if(s.addMapping({source:c,original:{line:l.line,column:l.column},generated:{line:u.line,column:u.column}}),!mp.call(o,c)){let p=a.sourceLines.toString();s.setSourceContent(c,p),o[c]=p}n.nextPos(u,!0),a.sourceLines.nextPos(l,!0)}}),n.cachedSourceMap=s,s.toJSON()}bootstrapCharAt(r){let t=r.line,n=r.column,i=this.toString().split(hp),s=i[t-1];return typeof s>"u"?"":n===s.length&&t<i.length?`
`:n>=s.length?"":s.charAt(n)}charAt(r){let t=r.line,n=r.column,i=this,s=i.infos,o=s[t-1],a=n;if(typeof o>"u"||a<0)return"";let l=this.getIndentAt(t);return a<l?" ":(a+=o.sliceStart-l,a===o.sliceEnd&&t<this.length?`
`:a>=o.sliceEnd?"":o.line.charAt(a))}stripMargin(r,t){if(r===0)return this;if(t&&this.length===1)return this;let n=new e(this.infos.map(function(i,s){return i.line&&(s>0||!t)&&(i={...i,indent:Math.max(0,i.indent-r)}),i}));if(this.mappings.length>0){let i=n.mappings;this.mappings.forEach(function(s){i.push(s.indent(r,t,!0))})}return n}indent(r){if(r===0)return this;let t=new e(this.infos.map(function(n){return n.line&&!n.locked&&(n={...n,indent:n.indent+r}),n}));if(this.mappings.length>0){let n=t.mappings;this.mappings.forEach(function(i){n.push(i.indent(r))})}return t}indentTail(r){if(r===0)return this;if(this.length<2)return this;let t=new e(this.infos.map(function(n,i){return i>0&&n.line&&!n.locked&&(n={...n,indent:n.indent+r}),n}));if(this.mappings.length>0){let n=t.mappings;this.mappings.forEach(function(i){n.push(i.indent(r,!0))})}return t}lockIndentTail(){return this.length<2?this:new e(this.infos.map((r,t)=>({...r,locked:t>0})))}getIndentAt(r){return Math.max(this.infos[r-1].indent,0)}guessTabWidth(){if(typeof this.cachedTabWidth=="number")return this.cachedTabWidth;let r=[],t=0;for(let s=1,o=this.length;s<=o;++s){let a=this.infos[s-1],l=a.line.slice(a.sliceStart,a.sliceEnd);if(Qi(l))continue;let u=Math.abs(a.indent-t);r[u]=~~r[u]+1,t=a.indent}let n=-1,i=2;for(let s=1;s<r.length;s+=1)mp.call(r,s)&&r[s]>n&&(n=r[s],i=s);return this.cachedTabWidth=i}startsWithComment(){if(this.infos.length===0)return!1;let r=this.infos[0],t=r.sliceStart,n=r.sliceEnd,i=r.line.slice(t,n).trim();return i.length===0||i.slice(0,2)==="//"||i.slice(0,2)==="/*"}isOnlyWhitespace(){return Qi(this.toString())}isPrecededOnlyByWhitespace(r){let t=this.infos[r.line-1],n=Math.max(t.indent,0),i=r.column-n;if(i<=0)return!0;let s=t.sliceStart,o=Math.min(s+i,t.sliceEnd),a=t.line.slice(s,o);return Qi(a)}getLineLength(r){let t=this.infos[r-1];return this.getIndentAt(r)+t.sliceEnd-t.sliceStart}nextPos(r,t=!1){let n=Math.max(r.line,0);return Math.max(r.column,0)<this.getLineLength(n)?(r.column+=1,t?!!this.skipSpaces(r,!1,!0):!0):n<this.length?(r.line+=1,r.column=0,t?!!this.skipSpaces(r,!1,!0):!0):!1}prevPos(r,t=!1){let n=r.line,i=r.column;if(i<1){if(n-=1,n<1)return!1;i=this.getLineLength(n)}else i=Math.min(i-1,this.getLineLength(n));return r.line=n,r.column=i,t?!!this.skipSpaces(r,!0,!0):!0}firstPos(){return{line:1,column:0}}lastPos(){return{line:this.length,column:this.getLineLength(this.length)}}skipSpaces(r,t=!1,n=!1){if(r?r=n?r:{line:r.line,column:r.column}:t?r=this.lastPos():r=this.firstPos(),t){for(;this.prevPos(r);)if(!Qi(this.charAt(r))&&this.nextPos(r))return r;return null}else{for(;Qi(this.charAt(r));)if(!this.nextPos(r))return null;return r}}trimLeft(){let r=this.skipSpaces(this.firstPos(),!1,!0);return r?this.slice(r):ui}trimRight(){let r=this.skipSpaces(this.lastPos(),!0,!0);return r?this.slice(this.firstPos(),r):ui}trim(){let r=this.skipSpaces(this.firstPos(),!1,!0);if(r===null)return ui;let t=this.skipSpaces(this.lastPos(),!0,!0);return t===null?ui:this.slice(r,t)}eachPos(r,t=this.firstPos(),n=!1){let i=this.firstPos();if(t&&(i.line=t.line,i.column=t.column),!(n&&!this.skipSpaces(i,!1,!0)))do r.call(this,i);while(this.nextPos(i,n))}bootstrapSlice(r,t){let n=this.toString().split(hp).slice(r.line-1,t.line);return n.length>0&&(n.push(n.pop().slice(0,t.column)),n[0]=n[0].slice(r.column)),P(n.join(`
`))}slice(r,t){if(!t){if(!r)return this;t=this.lastPos()}if(!r)throw new Error("cannot slice with end but not start");let n=this.infos.slice(r.line-1,t.line);r.line===t.line?n[0]=Zi(n[0],r.column,t.column):(n[0]=Zi(n[0],r.column),n.push(Zi(n.pop(),0,t.column)));let i=new e(n);if(this.mappings.length>0){let s=i.mappings;this.mappings.forEach(function(o){let a=o.slice(this,r,t);a&&s.push(a)},this)}return i}bootstrapSliceString(r,t,n){return this.slice(r,t).toString(n)}sliceString(r=this.firstPos(),t=this.lastPos(),n){let{tabWidth:i,useTabs:s,reuseWhitespace:o,lineTerminator:a}=al(n),l=[];for(let u=r.line;u<=t.line;++u){let c=this.infos[u-1];u===r.line?u===t.line?c=Zi(c,r.column,t.column):c=Zi(c,r.column):u===t.line&&(c=Zi(c,0,t.column));let p=Math.max(c.indent,0),d=c.line.slice(0,c.sliceStart);if(o&&Qi(d)&&Rb(d,i)===p){l.push(c.line.slice(0,c.sliceEnd));continue}let m=0,f=p;s&&(m=Math.floor(p/i),f-=m*i);let h="";m>0&&(h+=new Array(m+1).join("	")),f>0&&(h+=new Array(f+1).join(" ")),h+=c.line.slice(c.sliceStart,c.sliceEnd),l.push(h)}return l.join(a)}isEmpty(){return this.length<2&&this.getLineLength(1)<1}join(r){let t=this,n=[],i=[],s;function o(u){if(u!==null){if(s){let c=u.infos[0],p=new Array(c.indent+1).join(" "),d=n.length,m=Math.max(s.indent,0)+s.sliceEnd-s.sliceStart;s.line=s.line.slice(0,s.sliceEnd)+p+c.line.slice(c.sliceStart,c.sliceEnd),s.locked=s.locked||c.locked,s.sliceEnd=s.line.length,u.mappings.length>0&&u.mappings.forEach(function(f){i.push(f.add(d,m))})}else u.mappings.length>0&&i.push.apply(i,u.mappings);u.infos.forEach(function(c,p){(!s||p>0)&&(s={...c},n.push(s))})}}function a(u,c){c>0&&o(t),o(u)}if(r.map(function(u){let c=P(u);return c.isEmpty()?null:c}).forEach((u,c)=>{t.isEmpty()?o(u):a(u,c)}),n.length<1)return ui;let l=new e(n);return l.mappings=i,l}concat(...r){let t=[this];return t.push.apply(t,r),ui.join(t)}},Ja={},mp=Ja.hasOwnProperty,IP=10;function Rb(e,r){let t=0,n=e.length;for(let i=0;i<n;++i)switch(e.charCodeAt(i)){case 9:{let s=Math.ceil(t/r)*r;s===t?t+=r:t=s;break}case 11:case 12:case 13:case 65279:break;case 32:default:t+=1;break}return t}var NP=/^\s*/,hp=/\u000D\u000A|\u000D(?!\u000A)|\u000A|\u2028|\u2029/;function P(e,r){if(e instanceof rs)return e;e+="";let t=r&&r.tabWidth,n=e.indexOf("	")<0,i=!r&&n&&e.length<=IP;if(i&&mp.call(Ja,e))return Ja[e];let s=new rs(e.split(hp).map(function(o){let a=NP.exec(o)[0];return{line:o,indent:Rb(a,t),locked:!1,sliceStart:a.length,sliceEnd:o.length}}),al(r).sourceFileName);return i&&(Ja[e]=s),s}function Qi(e){return!/\S/.test(e)}function Zi(e,r,t){let n=e.sliceStart,i=e.sliceEnd,s=Math.max(e.indent,0),o=s+i-n;return typeof t>"u"&&(t=o),r=Math.max(r,0),t=Math.min(t,o),t=Math.max(t,r),t<s?(s=t,i=n):i-=o-t,o=t,o-=r,r<s?s-=r:(r-=s,s=0,n+=r),e.indent===s&&e.sliceStart===n&&e.sliceEnd===i?e:{line:e.line,indent:s,locked:!1,sliceStart:n,sliceEnd:i}}function A(e){return ui.join(e)}var ui=P(""),ns=wr,Lb=Ar.array,FP=Ar.object,pb=new WeakMap;function Bb(e,r,t){if(!e)return t;if(Ep(e,r),t){if(ns.Node.check(e)&&ns.SourceLocation.check(e.loc)){let i=t.length-1;for(;i>=0;--i){let s=t[i];if(s&&s.loc&&Ae(s.loc.end,e.loc.start)<=0)break}return t.splice(i+1,0,e),t}}else{let i=pb.get(e);if(i)return i}let n;if(Lb.check(e))n=Object.keys(e);else if(FP.check(e))n=hP(e);else return t;t||pb.set(e,t=[]);for(let i=0,s=n.length;i<s;++i)Bb(e[n[i]],r,t);return t}function Mb(e,r,t){let n=Bb(e,t),i=0,s=n&&n.length,o,a;for(;typeof s=="number"&&i<s;){let l=i+s>>1,u=n[l];if(Ae(u.loc.start,r.loc.start)<=0&&Ae(r.loc.end,u.loc.end)<=0){Mb(r.enclosingNode=u,r,t);return}if(Ae(u.loc.end,r.loc.start)<=0){o=u,i=l+1;continue}if(Ae(r.loc.end,u.loc.start)<=0){a=u,s=l;continue}throw new Error("Comment location overlaps with node location")}o&&(r.precedingNode=o),a&&(r.followingNode=a)}function kP(e,r,t){if(!Lb.check(e))return;let n=[];e.forEach(function(i){i.loc.lines=t,Mb(r,i,t);let s=i.precedingNode,o=i.enclosingNode,a=i.followingNode;if(s&&a){let l=n.length;l>0&&n[l-1].followingNode!==i.followingNode&&ro(n,t),n.push(i)}else if(s)ro(n,t),Ub(s,i);else if(a)ro(n,t),$b(a,i);else if(o)ro(n,t),_P(o,i);else throw new Error("AST contains no nodes at all?")}),ro(n,t),e.forEach(function(i){delete i.precedingNode,delete i.enclosingNode,delete i.followingNode})}function ro(e,r){let t=e.length;if(t===0)return;let n=e[0].precedingNode,i=e[0].followingNode,s=i.loc.start,o=t,a;for(;o>0;--o){a=e[o-1];let l=r.sliceString(a.loc.end,s);if(/\S/.test(l))break;s=a.loc.start}for(;o<=t&&(a=e[o])&&(a.type==="Line"||a.type==="CommentLine")&&a.loc.start.column>i.loc.start.column;)++o;if(o){let{enclosingNode:l}=e[o-1];l?.type==="CallExpression"&&--o}e.forEach(function(l,u){u<o?Ub(n,l):$b(i,l)}),e.length=0}function Cp(e,r){(e.comments||(e.comments=[])).push(r)}function $b(e,r){r.leading=!0,r.trailing=!1,Cp(e,r)}function _P(e,r){r.leading=!1,r.trailing=!1,Cp(e,r)}function Ub(e,r){r.leading=!1,r.trailing=!0,Cp(e,r)}function OP(e,r){let t=e.getValue();ns.Comment.assert(t);let n=t.loc,i=n&&n.lines,s=[r(e)];if(t.trailing)s.push(`
`);else if(i instanceof rs){let o=i.slice(n.end,i.skipSpaces(n.end)||i.lastPos());o.length===1?s.push(o):s.push(new Array(o.length).join(`
`))}else s.push(`
`);return A(s)}function RP(e,r){let t=e.getValue(e);ns.Comment.assert(t);let n=t.loc,i=n&&n.lines,s=[];if(i instanceof rs){let o=i.skipSpaces(n.start,!0)||i.firstPos(),a=i.slice(o,n.start);a.length===1?s.push(a):s.push(new Array(a.length).join(`
`))}return s.push(r(e)),A(s)}function db(e,r){let t=e.getValue(),n=r(e),i=ns.Node.check(t)&&gn(t,"comments");if(!i||i.length===0)return n;let s=[],o=[n];return e.each(function(a){let l=a.getValue(),u=gn(l,"leading"),c=gn(l,"trailing");u||c&&!(ns.Statement.check(t)||l.type==="Block"||l.type==="CommentBlock")?s.push(OP(a,r)):c&&o.push(RP(a,r))},"comments"),s.push.apply(s,o),A(s)}var LP=is,BP=Ar.object,MP=Ar.array;function jb(e,r){r=al(r);let t=P(e,r),n=t.toString({tabWidth:r.tabWidth,reuseWhitespace:!1,useTabs:!1}),i=[],s=r.parser.parse(n,{jsx:!0,loc:!0,locations:!0,range:r.range,comment:!0,onComment:i,tolerant:ub(r,"tolerant",!0),ecmaVersion:6,sourceType:ub(r,"sourceType","module")}),o=Array.isArray(s.tokens)?s.tokens:!1;delete s.tokens,o.forEach(function(c){typeof c.value!="string"&&(c.value=t.sliceString(c.loc.start,c.loc.end))}),Array.isArray(s.comments)&&(i=s.comments,delete s.comments),s.loc?Ep(s,t):s.loc={start:t.firstPos(),end:t.lastPos()},s.loc.lines=t,s.loc.indent=0;let a,l;s.type==="Program"?(l=s,a=LP.file(s,r.sourceFileName||null),a.loc={start:t.firstPos(),end:t.lastPos(),lines:t,indent:0}):s.type==="File"&&(a=s,l=a.program),r.tokens&&(a.tokens=o);let u=_b({type:l.type,loc:l.loc,body:[],comments:i},t);return l.loc.start=u.start,l.loc.end=u.end,kP(i,l.body.length?a.program:a,t),new Kb(t,o).copy(a)}var Kb=function(r,t){this.lines=r,this.tokens=t,this.startTokenIndex=0,this.endTokenIndex=t.length,this.indent=0,this.seen=new Map},Vb=Kb.prototype;Vb.copy=function(e){if(this.seen.has(e))return this.seen.get(e);if(MP.check(e)){let u=new Array(e.length);return this.seen.set(e,u),e.forEach(function(c,p){u[p]=this.copy(c)},this),u}if(!BP.check(e))return e;Ep(e,this.lines);let r=Object.create(Object.getPrototypeOf(e),{original:{value:e,configurable:!1,enumerable:!1,writable:!0}});this.seen.set(e,r);let t=e.loc,n=this.indent,i=n,s=this.startTokenIndex,o=this.endTokenIndex;t&&((e.type==="Block"||e.type==="Line"||e.type==="CommentBlock"||e.type==="CommentLine"||this.lines.isPrecededOnlyByWhitespace(t.start))&&(i=this.indent=t.start.column),t.lines=this.lines,t.tokens=this.tokens,t.indent=i,this.findTokenRange(t));let a=Object.keys(e),l=a.length;for(let u=0;u<l;++u){let c=a[u];c==="loc"||c==="tokens"&&e.type==="File"?r[c]=e[c]:r[c]=this.copy(e[c])}return this.indent=n,this.startTokenIndex=s,this.endTokenIndex=o,r};Vb.findTokenRange=function(e){for(;this.startTokenIndex>0;){let r=e.tokens[this.startTokenIndex];if(Ae(e.start,r.loc.start)<0)--this.startTokenIndex;else break}for(;this.endTokenIndex<e.tokens.length;){let r=e.tokens[this.endTokenIndex];if(Ae(r.loc.end,e.end)<0)++this.endTokenIndex;else break}for(;this.startTokenIndex<this.endTokenIndex;){let r=e.tokens[this.startTokenIndex];if(Ae(r.loc.start,e.start)<0)++this.startTokenIndex;else break}for(e.start.token=this.startTokenIndex;this.endTokenIndex>this.startTokenIndex;){let r=e.tokens[this.endTokenIndex-1];if(Ae(e.end,r.loc.end)<0)--this.endTokenIndex;else break}e.end.token=this.endTokenIndex};var Ge=wr,$P=Ar.array,UP=Ar.number,gp={};[["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]].forEach(function(e,r){e.forEach(function(t){gp[t]=r})});var Sr=function(r){this.stack=[r]},Ft=Sr.prototype;Sr.from=function(e){if(e instanceof Sr)return e.copy();if(e instanceof yP){let r=Object.create(Sr.prototype),t=[e.value];for(let n;n=e.parentPath;e=n)t.push(e.name,n.value);return r.stack=t.reverse(),r}return new Sr(e)};Ft.copy=function(){let r=Object.create(Sr.prototype);return r.stack=this.stack.slice(0),r};Ft.getName=function(){let r=this.stack,t=r.length;return t>1?r[t-2]:null};Ft.getValue=function(){let r=this.stack;return r[r.length-1]};Ft.valueIsDuplicate=function(){let e=this.stack,r=e.length-1;return e.lastIndexOf(e[r],r-1)>=0};function zb(e,r){let t=e.stack;for(let n=t.length-1;n>=0;n-=2){let i=t[n];if(Ge.Node.check(i)&&--r<0)return i}return null}Ft.getNode=function(r=0){return zb(this,~~r)};Ft.getParentNode=function(r=0){return zb(this,~~r+1)};Ft.getRootValue=function(){let r=this.stack;return r.length%2===0?r[1]:r[0]};Ft.call=function(r){let t=this.stack,n=t.length,i=t[n-1],s=arguments.length;for(let a=1;a<s;++a){let l=arguments[a];i=i[l],t.push(l,i)}let o=r(this);return t.length=n,o};Ft.each=function(r){let t=this.stack,n=t.length,i=t[n-1],s=arguments.length;for(let o=1;o<s;++o){let a=arguments[o];i=i[a],t.push(a,i)}for(let o=0;o<i.length;++o)o in i&&(t.push(o,i[o]),r(this),t.length-=2);t.length=n};Ft.map=function(r){let t=this.stack,n=t.length,i=t[n-1],s=arguments.length;for(let a=1;a<s;++a){let l=arguments[a];i=i[l],t.push(l,i)}let o=new Array(i.length);for(let a=0;a<i.length;++a)a in i&&(t.push(a,i[a]),o[a]=r(this,a),t.length-=2);return t.length=n,o};Ft.hasParens=function(){let e=this.getNode(),r=this.getPrevToken(e);if(!r)return!1;let t=this.getNextToken(e);return t?!!(r.value==="("&&(t.value===")"||!this.canBeFirstInStatement()&&this.firstInStatement()&&!this.needsParens(!0))):!1};Ft.getPrevToken=function(e){e=e||this.getNode();let r=e&&e.loc,t=r&&r.tokens;if(t&&r.start.token>0){let n=t[r.start.token-1];if(n){let i=this.getRootValue().loc;if(Ae(i.start,n.loc.start)<=0)return n}}return null};Ft.getNextToken=function(e){e=e||this.getNode();let r=e&&e.loc,t=r&&r.tokens;if(t&&r.end.token<t.length){let n=t[r.end.token];if(n){let i=this.getRootValue().loc;if(Ae(n.loc.end,i.end)<=0)return n}}return null};Ft.needsParens=function(e){let r=this.getNode();if(r.type==="AssignmentExpression"&&r.left.type==="ObjectPattern")return!0;let t=this.getParentNode(),n=this.getName();if(this.getValue()!==r||Ge.Statement.check(r)||r.type==="Identifier"||t&&t.type==="ParenthesizedExpression")return!1;if(r.extra&&r.extra.parenthesized)return!0;if(!t)return!1;if(r.type==="UnaryExpression"&&t.type==="BinaryExpression"&&n==="left"&&t.left===r&&t.operator==="**")return!0;switch(r.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return t.type==="MemberExpression"&&n==="object"&&t.object===r;case"BinaryExpression":case"LogicalExpression":switch(t.type){case"CallExpression":return n==="callee"&&t.callee===r;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return n==="object"&&t.object===r;case"BinaryExpression":case"LogicalExpression":{let i=t.operator,s=gp[i],o=r.operator,a=gp[o];if(s>a||s===a&&n==="right")return!0;break}default:return!1}break;case"SequenceExpression":switch(t.type){case"ReturnStatement":return!1;case"ForStatement":return!1;case"ExpressionStatement":return n!=="expression";default:return!0}case"OptionalIndexedAccessType":return r.optional&&t.type==="IndexedAccessType";case"IntersectionTypeAnnotation":case"UnionTypeAnnotation":return t.type==="NullableTypeAnnotation";case"Literal":return t.type==="MemberExpression"&&UP.check(r.value)&&n==="object"&&t.object===r;case"NumericLiteral":return t.type==="MemberExpression"&&n==="object"&&t.object===r;case"YieldExpression":case"AwaitExpression":case"AssignmentExpression":case"ConditionalExpression":switch(t.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":case"NewExpression":return n==="callee"&&t.callee===r;case"ConditionalExpression":return n==="test"&&t.test===r;case"MemberExpression":return n==="object"&&t.object===r;default:return!1}case"ArrowFunctionExpression":return Ge.CallExpression.check(t)&&n==="callee"&&t.callee===r||Ge.MemberExpression.check(t)&&n==="object"&&t.object===r||Ge.TSAsExpression&&Ge.TSAsExpression.check(t)&&n==="expression"&&t.expression===r?!0:qb(t);case"ObjectExpression":if(t.type==="ArrowFunctionExpression"&&n==="body"&&t.body===r)return!0;break;case"TSAsExpression":if(t.type==="ArrowFunctionExpression"&&n==="body"&&t.body===r&&r.expression.type==="ObjectExpression")return!0;break;case"CallExpression":if(n==="declaration"&&Ge.ExportDefaultDeclaration.check(t)&&Ge.FunctionExpression.check(r.callee))return!0}return t.type==="NewExpression"&&n==="callee"&&t.callee===r?yp(r):!!(e!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function qb(e){return Ge.BinaryExpression.check(e)||Ge.LogicalExpression.check(e)}function yp(e){return Ge.CallExpression.check(e)?!0:$P.check(e)?e.some(yp):Ge.Node.check(e)?bP(e,(r,t)=>yp(t)):!1}Ft.canBeFirstInStatement=function(){let e=this.getNode();return!(Ge.FunctionExpression.check(e)||Ge.ObjectExpression.check(e)||Ge.ClassExpression.check(e))};Ft.firstInStatement=function(){let e=this.stack,r,t,n,i;for(let s=e.length-1;s>=0;s-=2)if(Ge.Node.check(e[s])&&(n=r,i=t,r=e[s-1],t=e[s]),!(!t||!i)){if(Ge.BlockStatement.check(t)&&r==="body"&&n===0||Ge.ExpressionStatement.check(t)&&n==="expression"||Ge.AssignmentExpression.check(t)&&n==="left"||Ge.ArrowFunctionExpression.check(t)&&n==="body")return!0;if(!(Ge.SequenceExpression.check(t)&&e[s+1]==="expressions"&&n===0)&&!(Ge.CallExpression.check(t)&&n==="callee")&&!(Ge.MemberExpression.check(t)&&n==="object")&&!(Ge.ConditionalExpression.check(t)&&n==="test")&&!(qb(t)&&n==="left")&&!(Ge.UnaryExpression.check(t)&&!t.prefix&&n==="argument"))return!1}return!0};var co=wr.Printable,fb=wr.Expression,jP=wr.ReturnStatement,KP=wr.SourceLocation,po=Ar.object,bp=Ar.array,VP=Ar.string,nl=/[0-9a-z_$]/i,Wb=function(r){let t=this,n=[];t.replace=function(i,s){VP.check(s)&&(s=P(s)),n.push({lines:s,start:i.start,end:i.end})},t.get=function(i){i=i||{start:{line:1,column:0},end:{line:r.length,column:r.getLineLength(r.length)}};let s=i.start,o=[];function a(l,u){o.push(r.slice(l,u))}return n.sort((l,u)=>Ae(l.start,u.start)).forEach(function(l){Ae(s,l.start)>0||(a(s,l.start),o.push(l.lines),s=l.end)}),a(s,i.end),A(o)}},Gb=Wb.prototype;Gb.tryToReprintComments=function(e,r,t){let n=this;if(!e.comments&&!r.comments)return!0;let i=Sr.from(e),s=Sr.from(r);i.stack.push("comments",mb(e)),s.stack.push("comments",mb(r));let o=[],a=Jb(i,s,o);return a&&o.length>0&&o.forEach(function(l){let u=l.oldPath.getValue();n.replace(u.loc,t(l.newPath).indentTail(u.loc.indent))}),a};function mb(e){let r=[];return e.comments&&e.comments.length>0&&e.comments.forEach(function(t){(t.leading||t.trailing)&&r.push(t)}),r}Gb.deleteComments=function(e){if(!e.comments)return;let r=this;e.comments.forEach(function(t){t.leading?r.replace({start:t.loc.start,end:e.loc.lines.skipSpaces(t.loc.end,!1,!1)},""):t.trailing&&r.replace({start:e.loc.lines.skipSpaces(t.loc.start,!0,!1),end:t.loc.end},"")})};function zP(e){let r=e.getValue();if(!co.check(r))return;let t=r.original,n=t&&t.loc,i=n&&n.lines,s=[];if(!(!i||!GP(e,s)))return function(o){let a=new Wb(i);s.forEach(function(u){let c=u.newPath.getValue(),p=u.oldPath.getValue();KP.assert(p.loc,!0);let d=!a.tryToReprintComments(c,p,o);d&&a.deleteComments(p);let m=o(u.newPath,{includeComments:d,avoidRootParens:p.type===c.type&&u.oldPath.hasParens()}).indentTail(p.loc.indent),f=qP(i,p.loc,m),h=WP(i,p.loc,m);if(f||h){let g=[];f&&g.push(" "),g.push(m),h&&g.push(" "),m=A(g)}a.replace(p.loc,m)});let l=a.get(n).indentTail(-t.loc.indent);return e.needsParens()?A(["(",l,")"]):l}}function qP(e,r,t){let n=Mn(r.start),i=e.prevPos(n)&&e.charAt(n),s=t.charAt(t.firstPos());return i&&nl.test(i)&&s&&nl.test(s)}function WP(e,r,t){let n=e.charAt(r.end),i=t.lastPos(),s=t.prevPos(i)&&t.charAt(i);return s&&nl.test(s)&&n&&nl.test(n)}function GP(e,r){let t=e.getValue();co.assert(t);let n=t.original;if(co.assert(n),t.type!==n.type)return!1;let i=new Sr(n),s=Dp(e,i,r);return s||(r.length=0),s}function Hb(e,r,t){let n=e.getValue(),i=r.getValue();return n===i?!0:bp.check(n)?Jb(e,r,t):po.check(n)?HP(e,r,t):!1}function Jb(e,r,t){let n=e.getValue(),i=r.getValue();if(n===i||e.valueIsDuplicate()||r.valueIsDuplicate())return!0;bp.assert(n);let s=n.length;if(!(bp.check(i)&&i.length===s))return!1;for(let o=0;o<s;++o){e.stack.push(o,n[o]),r.stack.push(o,i[o]);let a=Hb(e,r,t);if(e.stack.length-=2,r.stack.length-=2,!a)return!1}return!0}function HP(e,r,t){let n=e.getValue();if(po.assert(n),n.original===null)return!1;let i=r.getValue();if(!po.check(i))return!1;if(n===i||e.valueIsDuplicate()||r.valueIsDuplicate())return!0;if(co.check(n)){if(!co.check(i))return!1;let s=e.getParentNode(),o=r.getParentNode();if(o!==null&&o.type==="FunctionTypeAnnotation"&&s!==null&&s.type==="FunctionTypeAnnotation"){let a=o.params.length!==1||!!o.params[0].name,l=s.params.length!==1||!!s.params[0].name;if(!a&&l)return!1}if(n.type===i.type){let a=[];if(Dp(e,r,a))t.push.apply(t,a);else if(i.loc)t.push({oldPath:r.copy(),newPath:e.copy()});else return!1;return!0}return fb.check(n)&&fb.check(i)&&i.loc?(t.push({oldPath:r.copy(),newPath:e.copy()}),!0):!1}return Dp(e,r,t)}function Dp(e,r,t){let n=e.getValue(),i=r.getValue();if(po.assert(n),po.assert(i),n.original===null||e.needsParens()&&!r.hasParens())return!1;let s=EP(i,n);(i.type==="File"||n.type==="File")&&delete s.tokens,delete s.loc;let o=t.length;for(let a in s){if(a.charAt(0)==="_")continue;e.stack.push(a,gn(n,a)),r.stack.push(a,gn(i,a));let l=Hb(e,r,t);if(e.stack.length-=2,r.stack.length-=2,!l)return!1}return!(jP.check(e.getNode())&&t.length>o)}var ot=wr,Sp=Ar.string,JP=Ar.object,il=function(r,t){Sp.assert(r),this.code=r,t&&(JP.assert(t),this.map=t)},YP=il.prototype,hb=!1;YP.toString=function(){return hb||(console.warn("Deprecation warning: recast.print now returns an object with a .code property. You appear to be treating the object as a string, which might still work but is strongly discouraged."),hb=!0),this.code};var gb=new il(""),XP=function(r){let t=r&&r.tabWidth;r=al(r),r.sourceFileName=null;function n(s,o){return s=Object.assign({},s,o),a=>i(a,s)}function i(s,o){if(o=o||{},o.includeComments)return db(s,n(o,{includeComments:!1}));let a=r.tabWidth;if(!t){let c=s.getNode().loc;c&&c.lines&&c.lines.guessTabWidth&&(r.tabWidth=c.lines.guessTabWidth())}let l=zP(s),u=l?l(i):yb(s,r,o,n(o,{includeComments:!0,avoidRootParens:!1}));return r.tabWidth=a,u}this.print=function(s){if(!s)return gb;let o=i(Sr.from(s),{includeComments:!0,avoidRootParens:!1});return new il(o.toString(r),CP(r.inputSourceMap,o.getSourceMap(r.sourceMapName,r.sourceRoot)))},this.printGenerically=function(s){if(!s)return gb;function o(c){return db(c,p=>yb(p,r,{includeComments:!0,avoidRootParens:!1},o))}let a=Sr.from(s),l=r.reuseWhitespace;r.reuseWhitespace=!1;let u=new il(o(a).toString(r));return r.reuseWhitespace=l,u}};function yb(e,r,t,n){let i=e.getValue(),s=[],o=QP(e,r,n);if(!i||o.isEmpty())return o;let a=!1,l=ZP(e,n);return l.isEmpty()?t.avoidRootParens||(a=e.needsParens()):s.push(l),a&&s.unshift("("),s.push(o),a&&s.push(")"),A(s)}function QP(e,r,t){let n=e.getValue();if(!n)return P("");if(typeof n=="string")return P(n,r);ot.Printable.assert(n);let i=[];switch(n.type){case"File":return e.call(t,"program");case"Program":return n.directives&&e.each(function(s){i.push(t(s),`;
`)},"directives"),n.interpreter&&i.push(e.call(t,"interpreter")),i.push(e.call(s=>es(s,r,t),"body")),A(i);case"Noop":case"EmptyStatement":return P("");case"ExpressionStatement":return A([e.call(t,"expression"),";"]);case"ParenthesizedExpression":return A(["(",e.call(t,"expression"),")"]);case"BinaryExpression":case"LogicalExpression":case"AssignmentExpression":return P(" ").join([e.call(t,"left"),n.operator,e.call(t,"right")]);case"AssignmentPattern":return A([e.call(t,"left")," = ",e.call(t,"right")]);case"MemberExpression":case"OptionalMemberExpression":{i.push(e.call(t,"object"));let s=e.call(t,"property"),o=gn(n,"optional");return n.computed?i.push(o?"?.[":"[",s,"]"):i.push(o?"?.":".",s),A(i)}case"ChainExpression":return e.call(t,"expression");case"MetaProperty":return A([e.call(t,"meta"),".",e.call(t,"property")]);case"BindExpression":return n.object&&i.push(e.call(t,"object")),i.push("::",e.call(t,"callee")),A(i);case"Path":return P(".").join(n.body);case"Identifier":return A([P(n.name,r),n.optional?"?":"",e.call(t,"typeAnnotation")]);case"SpreadElement":case"SpreadElementPattern":case"RestProperty":case"SpreadProperty":case"SpreadPropertyPattern":case"ObjectTypeSpreadProperty":case"RestElement":return A(["...",e.call(t,"argument"),e.call(t,"typeAnnotation")]);case"FunctionDeclaration":case"FunctionExpression":case"TSDeclareFunction":return n.declare&&i.push("declare "),n.async&&i.push("async "),i.push("function"),n.generator&&i.push("*"),n.id?i.push(" ",e.call(t,"id"),e.call(t,"typeParameters")):n.typeParameters&&i.push(e.call(t,"typeParameters")),i.push("(",zr(e,r,t),")",e.call(t,"returnType")),n.body&&i.push(" ",e.call(t,"body")),A(i);case"ArrowFunctionExpression":return n.async&&i.push("async "),n.typeParameters&&i.push(e.call(t,"typeParameters")),!r.arrowParensAlways&&n.params.length===1&&!n.rest&&n.params[0].type==="Identifier"&&!n.params[0].typeAnnotation&&!n.returnType?i.push(e.call(t,"params",0)):i.push("(",zr(e,r,t),")",e.call(t,"returnType")),i.push(" => ",e.call(t,"body")),A(i);case"MethodDefinition":return lp(e,r,t);case"YieldExpression":return i.push("yield"),n.delegate&&i.push("*"),n.argument&&i.push(" ",e.call(t,"argument")),A(i);case"AwaitExpression":return i.push("await"),n.all&&i.push("*"),n.argument&&i.push(" ",e.call(t,"argument")),A(i);case"ModuleExpression":return A([`module {
`,e.call(t,"body").indent(r.tabWidth),`
}`]);case"ModuleDeclaration":return i.push("module",e.call(t,"id")),n.source?i.push("from",e.call(t,"source")):i.push(e.call(t,"body")),P(" ").join(i);case"ImportSpecifier":return n.importKind&&n.importKind!=="value"&&i.push(n.importKind+" "),n.imported?(i.push(e.call(t,"imported")),n.local&&n.local.name!==n.imported.name&&i.push(" as ",e.call(t,"local"))):n.id&&(i.push(e.call(t,"id")),n.name&&i.push(" as ",e.call(t,"name"))),A(i);case"ExportSpecifier":return n.exportKind&&n.exportKind!=="value"&&i.push(n.exportKind+" "),n.local?(i.push(e.call(t,"local")),n.exported&&n.exported.name!==n.local.name&&i.push(" as ",e.call(t,"exported"))):n.id&&(i.push(e.call(t,"id")),n.name&&i.push(" as ",e.call(t,"name"))),A(i);case"ExportBatchSpecifier":return P("*");case"ImportNamespaceSpecifier":return i.push("* as "),n.local?i.push(e.call(t,"local")):n.id&&i.push(e.call(t,"id")),A(i);case"ImportDefaultSpecifier":return n.local?e.call(t,"local"):e.call(t,"id");case"TSExportAssignment":return A(["export = ",e.call(t,"expression")]);case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":return Db(e,r,t);case"ExportAllDeclaration":return i.push("export *"),n.exported&&i.push(" as ",e.call(t,"exported")),i.push(" from ",e.call(t,"source"),";"),A(i);case"TSNamespaceExportDeclaration":return i.push("export as namespace ",e.call(t,"id")),Ya(A(i));case"ExportNamespaceSpecifier":return A(["* as ",e.call(t,"exported")]);case"ExportDefaultSpecifier":return e.call(t,"exported");case"Import":return P("import",r);case"ImportExpression":return A(["import(",e.call(t,"source"),")"]);case"ImportDeclaration":{if(i.push("import "),n.importKind&&n.importKind!=="value"&&i.push(n.importKind+" "),n.specifiers&&n.specifiers.length>0){let s=[],o=[];if(e.each(function(a){let l=a.getValue();l.type==="ImportSpecifier"?o.push(t(a)):(l.type==="ImportDefaultSpecifier"||l.type==="ImportNamespaceSpecifier")&&s.push(t(a))},"specifiers"),s.forEach((a,l)=>{l>0&&i.push(", "),i.push(a)}),o.length>0){let a=P(", ").join(o);a.getLineLength(1)>r.wrapColumn&&(a=A([P(`,
`).join(o).indent(r.tabWidth),","])),s.length>0&&i.push(", "),a.length>1?i.push(`{
`,a,`
}`):r.objectCurlySpacing?i.push("{ ",a," }"):i.push("{",a,"}")}i.push(" from ")}return i.push(e.call(t,"source"),Xb(e,r,t),";"),A(i)}case"ImportAttribute":return A([e.call(t,"key"),": ",e.call(t,"value")]);case"StaticBlock":i.push("static ");case"BlockStatement":{let s=e.call(o=>es(o,r,t),"body");return s.isEmpty()&&(!n.directives||n.directives.length===0)?(i.push("{}"),A(i)):(i.push(`{
`),n.directives&&e.each(function(o){i.push(Ya(t(o).indent(r.tabWidth)),n.directives.length>1||!s.isEmpty()?`
`:"")},"directives"),i.push(s.indent(r.tabWidth)),i.push(`
}`),A(i))}case"ReturnStatement":{if(i.push("return"),n.argument){let s=e.call(t,"argument");s.startsWithComment()||s.length>1&&ot.JSXElement&&ot.JSXElement.check(n.argument)?i.push(` (
`,s.indent(r.tabWidth),`
)`):i.push(" ",s)}return i.push(";"),A(i)}case"CallExpression":case"OptionalCallExpression":return i.push(e.call(t,"callee")),n.typeParameters&&i.push(e.call(t,"typeParameters")),n.typeArguments&&i.push(e.call(t,"typeArguments")),gn(n,"optional")&&i.push("?."),i.push(bb(e,r,t)),A(i);case"RecordExpression":i.push("#");case"ObjectExpression":case"ObjectPattern":case"ObjectTypeAnnotation":{let s=n.type==="ObjectTypeAnnotation",o=r.flowObjectCommas?",":s?";":",",a=[],l=!1;s&&(a.push("indexers","callProperties"),n.internalSlots!=null&&a.push("internalSlots")),a.push("properties");let u=0;a.forEach(function(h){u+=n[h].length});let c=s&&u===1||u===0,p=n.exact?"{|":"{",d=n.exact?"|}":"}";i.push(c?p:p+`
`);let m=i.length-1,f=0;if(a.forEach(function(h){e.each(function(g){let y=t(g);c||(y=y.indent(r.tabWidth));let x=!s&&y.length>1;x&&l&&i.push(`
`),i.push(y),f<u-1?(i.push(o+(x?`

`:`
`)),l=!x):(u!==1&&s||!c&&lo(r,"objects")&&g.getValue().type!=="RestElement")&&i.push(o),f++},h)}),n.inexact){let h=P("...",r);c?(u>0&&i.push(o," "),i.push(h)):i.push(`
`,h.indent(r.tabWidth))}return i.push(c?d:`
`+d),f!==0&&c&&r.objectCurlySpacing&&(i[m]=p+" ",i[i.length-1]=" "+d),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),A(i)}case"PropertyPattern":return A([e.call(t,"key"),": ",e.call(t,"pattern")]);case"ObjectProperty":case"Property":{if(n.method||n.kind==="get"||n.kind==="set")return lp(e,r,t);if(n.shorthand&&n.value.type==="AssignmentPattern")return e.call(t,"value");let s=e.call(t,"key");return n.computed?i.push("[",s,"]"):i.push(s),(!n.shorthand||n.key.name!==n.value.name)&&i.push(": ",e.call(t,"value")),A(i)}case"ClassMethod":case"ObjectMethod":case"ClassPrivateMethod":case"TSDeclareMethod":return lp(e,r,t);case"PrivateName":return A(["#",e.call(t,"id")]);case"Decorator":return A(["@",e.call(t,"expression")]);case"TupleExpression":i.push("#");case"ArrayExpression":case"ArrayPattern":{let o=n.elements.length,a=e.map(t,"elements"),u=P(", ").join(a).getLineLength(1)<=r.wrapColumn;return u?r.arrayBracketSpacing?i.push("[ "):i.push("["):i.push(`[
`),e.each(function(c){let p=c.getName();if(!c.getValue())i.push(",");else{let m=a[p];u?p>0&&i.push(" "):m=m.indent(r.tabWidth),i.push(m),(p<o-1||!u&&lo(r,"arrays"))&&i.push(","),u||i.push(`
`)}},"elements"),u&&r.arrayBracketSpacing?i.push(" ]"):i.push("]"),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),A(i)}case"SequenceExpression":return P(", ").join(e.map(t,"expressions"));case"ThisExpression":return P("this");case"Super":return P("super");case"NullLiteral":return P("null");case"RegExpLiteral":return P(ts(n)||`/${n.pattern}/${n.flags||""}`,r);case"BigIntLiteral":return P(ts(n)||n.value+"n",r);case"NumericLiteral":return P(ts(n)||n.value,r);case"DecimalLiteral":return P(ts(n)||n.value+"m",r);case"StringLiteral":return P(so(n.value,r));case"BooleanLiteral":case"Literal":return P(ts(n)||(typeof n.value=="string"?so(n.value,r):n.value),r);case"Directive":return e.call(t,"value");case"DirectiveLiteral":return P(ts(n)||so(n.value,r),r);case"InterpreterDirective":return P(`#!${n.value}
`,r);case"ModuleSpecifier":if(n.local)throw new Error("The ESTree ModuleSpecifier type should be abstract");return P(so(n.value,r),r);case"UnaryExpression":return i.push(n.operator),/[a-z]$/.test(n.operator)&&i.push(" "),i.push(e.call(t,"argument")),A(i);case"UpdateExpression":return i.push(e.call(t,"argument"),n.operator),n.prefix&&i.reverse(),A(i);case"ConditionalExpression":return A([e.call(t,"test")," ? ",e.call(t,"consequent")," : ",e.call(t,"alternate")]);case"NewExpression":return i.push("new ",e.call(t,"callee")),n.typeParameters&&i.push(e.call(t,"typeParameters")),n.typeArguments&&i.push(e.call(t,"typeArguments")),n.arguments&&i.push(bb(e,r,t)),A(i);case"VariableDeclaration":{n.declare&&i.push("declare "),i.push(n.kind," ");let s=0,o=e.map(function(l){let u=t(l);return s=Math.max(u.length,s),u},"declarations");s===1?i.push(P(", ").join(o)):o.length>1?i.push(P(`,
`).join(o).indentTail(n.kind.length+1)):i.push(o[0]);let a=e.getParentNode();return!ot.ForStatement.check(a)&&!ot.ForInStatement.check(a)&&!(ot.ForOfStatement&&ot.ForOfStatement.check(a))&&!(ot.ForAwaitStatement&&ot.ForAwaitStatement.check(a))&&i.push(";"),A(i)}case"VariableDeclarator":return n.init?P(" = ").join([e.call(t,"id"),e.call(t,"init")]):e.call(t,"id");case"WithStatement":return A(["with (",e.call(t,"object"),") ",e.call(t,"body")]);case"IfStatement":{let s=li(e.call(t,"consequent"),r);return i.push("if (",e.call(t,"test"),")",s),n.alternate&&i.push(xb(s)?" else":`
else`,li(e.call(t,"alternate"),r)),A(i)}case"ForStatement":{let s=e.call(t,"init"),o=s.length>1?`;
`:"; ",a="for (",l=P(o).join([s,e.call(t,"test"),e.call(t,"update")]).indentTail(a.length),u=A([a,l,")"]),c=li(e.call(t,"body"),r);return i.push(u),u.length>1&&(i.push(`
`),c=c.trimLeft()),i.push(c),A(i)}case"WhileStatement":return A(["while (",e.call(t,"test"),")",li(e.call(t,"body"),r)]);case"ForInStatement":return A([n.each?"for each (":"for (",e.call(t,"left")," in ",e.call(t,"right"),")",li(e.call(t,"body"),r)]);case"ForOfStatement":case"ForAwaitStatement":return i.push("for "),(n.await||n.type==="ForAwaitStatement")&&i.push("await "),i.push("(",e.call(t,"left")," of ",e.call(t,"right"),")",li(e.call(t,"body"),r)),A(i);case"DoWhileStatement":{let s=A(["do",li(e.call(t,"body"),r)]);return i.push(s),xb(s)?i.push(" while"):i.push(`
while`),i.push(" (",e.call(t,"test"),");"),A(i)}case"DoExpression":{let s=e.call(o=>es(o,r,t),"body");return A([`do {
`,s.indent(r.tabWidth),`
}`])}case"BreakStatement":return i.push("break"),n.label&&i.push(" ",e.call(t,"label")),i.push(";"),A(i);case"ContinueStatement":return i.push("continue"),n.label&&i.push(" ",e.call(t,"label")),i.push(";"),A(i);case"LabeledStatement":return A([e.call(t,"label"),`:
`,e.call(t,"body")]);case"TryStatement":return i.push("try ",e.call(t,"block")),n.handler?i.push(" ",e.call(t,"handler")):n.handlers&&e.each(function(s){i.push(" ",t(s))},"handlers"),n.finalizer&&i.push(" finally ",e.call(t,"finalizer")),A(i);case"CatchClause":return i.push("catch "),n.param&&i.push("(",e.call(t,"param")),n.guard&&i.push(" if ",e.call(t,"guard")),n.param&&i.push(") "),i.push(e.call(t,"body")),A(i);case"ThrowStatement":return A(["throw ",e.call(t,"argument"),";"]);case"SwitchStatement":return A(["switch (",e.call(t,"discriminant"),`) {
`,P(`
`).join(e.map(t,"cases")),`
}`]);case"SwitchCase":return n.test?i.push("case ",e.call(t,"test"),":"):i.push("default:"),n.consequent.length>0&&i.push(`
`,e.call(s=>es(s,r,t),"consequent").indent(r.tabWidth)),A(i);case"DebuggerStatement":return P("debugger;");case"JSXAttribute":return i.push(e.call(t,"name")),n.value&&i.push("=",e.call(t,"value")),A(i);case"JSXIdentifier":return P(n.name,r);case"JSXNamespacedName":return P(":").join([e.call(t,"namespace"),e.call(t,"name")]);case"JSXMemberExpression":return P(".").join([e.call(t,"object"),e.call(t,"property")]);case"JSXSpreadAttribute":return A(["{...",e.call(t,"argument"),"}"]);case"JSXSpreadChild":return A(["{...",e.call(t,"expression"),"}"]);case"JSXExpressionContainer":return A(["{",e.call(t,"expression"),"}"]);case"JSXElement":case"JSXFragment":{let s="opening"+(n.type==="JSXElement"?"Element":"Fragment"),o="closing"+(n.type==="JSXElement"?"Element":"Fragment"),a=e.call(t,s);if(n[s].selfClosing)return a;let l=A(e.map(function(c){let p=c.getValue();if(ot.Literal.check(p)&&typeof p.value=="string"){if(/\S/.test(p.value))return p.value.replace(/^\s+|\s+$/g,"");if(/\n/.test(p.value))return`
`}return t(c)},"children")).indentTail(r.tabWidth),u=e.call(t,o);return A([a,l,u])}case"JSXOpeningElement":{i.push("<",e.call(t,"name"));let s=[];e.each(function(l){s.push(" ",t(l))},"attributes");let o=A(s);return(o.length>1||o.getLineLength(1)>r.wrapColumn)&&(s.forEach(function(l,u){l===" "&&(s[u]=`
`)}),o=A(s).indentTail(r.tabWidth)),i.push(o,n.selfClosing?" />":">"),A(i)}case"JSXClosingElement":return A(["</",e.call(t,"name"),">"]);case"JSXOpeningFragment":return P("<>");case"JSXClosingFragment":return P("</>");case"JSXText":return P(n.value,r);case"JSXEmptyExpression":return P("");case"TypeAnnotatedIdentifier":return A([e.call(t,"annotation")," ",e.call(t,"identifier")]);case"ClassBody":return n.body.length===0?P("{}"):A([`{
`,e.call(s=>es(s,r,t),"body").indent(r.tabWidth),`
}`]);case"ClassPropertyDefinition":return i.push("static ",e.call(t,"definition")),ot.MethodDefinition.check(n.definition)||i.push(";"),A(i);case"ClassProperty":{n.declare&&i.push("declare ");let s=n.accessibility||n.access;typeof s=="string"&&i.push(s," "),n.static&&i.push("static "),n.abstract&&i.push("abstract "),n.readonly&&i.push("readonly ");let o=e.call(t,"key");return n.computed&&(o=A(["[",o,"]"])),n.variance&&(o=A([io(e,t),o])),i.push(o),n.optional&&i.push("?"),n.definite&&i.push("!"),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),n.value&&i.push(" = ",e.call(t,"value")),i.push(";"),A(i)}case"ClassPrivateProperty":return n.static&&i.push("static "),i.push(e.call(t,"key")),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),n.value&&i.push(" = ",e.call(t,"value")),i.push(";"),A(i);case"ClassAccessorProperty":return i.push(...Yb(n),"accessor "),n.computed?i.push("[",e.call(t,"key"),"]"):i.push(e.call(t,"key")),n.optional&&i.push("?"),n.definite&&i.push("!"),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),n.value&&i.push(" = ",e.call(t,"value")),i.push(";"),A(i);case"ClassDeclaration":case"ClassExpression":case"DeclareClass":return n.declare&&i.push("declare "),n.abstract&&i.push("abstract "),i.push("class"),n.id&&i.push(" ",e.call(t,"id")),n.typeParameters&&i.push(e.call(t,"typeParameters")),n.superClass&&i.push(" extends ",e.call(t,"superClass"),e.call(t,"superTypeParameters")),n.extends&&n.extends.length>0&&i.push(" extends ",P(", ").join(e.map(t,"extends"))),n.implements&&n.implements.length>0&&i.push(" implements ",P(", ").join(e.map(t,"implements"))),i.push(" ",e.call(t,"body")),n.type==="DeclareClass"?no(e,i):A(i);case"TemplateElement":return P(n.value.raw,r).lockIndentTail();case"TemplateLiteral":{let s=e.map(t,"expressions");return i.push("`"),e.each(function(o){let a=o.getName();i.push(t(o)),a<s.length&&i.push("${",s[a],"}")},"quasis"),i.push("`"),A(i).lockIndentTail()}case"TaggedTemplateExpression":return A([e.call(t,"tag"),e.call(t,"quasi")]);case"Node":case"Printable":case"SourceLocation":case"Position":case"Statement":case"Function":case"Pattern":case"Expression":case"Declaration":case"Specifier":case"NamedSpecifier":case"Comment":case"Flow":case"FlowType":case"FlowPredicate":case"MemberTypeAnnotation":case"Type":case"TSHasOptionalTypeParameterInstantiation":case"TSHasOptionalTypeParameters":case"TSHasOptionalTypeAnnotation":case"ChainElement":throw new Error("unprintable type: "+JSON.stringify(n.type));case"CommentBlock":case"Block":return A(["/*",P(n.value,r),"*/"]);case"CommentLine":case"Line":return A(["//",P(n.value,r)]);case"TypeAnnotation":return n.typeAnnotation?(n.typeAnnotation.type!=="FunctionTypeAnnotation"&&i.push(": "),i.push(e.call(t,"typeAnnotation")),A(i)):P("");case"ExistentialTypeParam":case"ExistsTypeAnnotation":return P("*",r);case"EmptyTypeAnnotation":return P("empty",r);case"AnyTypeAnnotation":return P("any",r);case"MixedTypeAnnotation":return P("mixed",r);case"ArrayTypeAnnotation":return A([e.call(t,"elementType"),"[]"]);case"TupleTypeAnnotation":{let s=e.map(t,"types"),a=P(", ").join(s).getLineLength(1)<=r.wrapColumn;return a?r.arrayBracketSpacing?i.push("[ "):i.push("["):i.push(`[
`),e.each(function(l){let u=l.getName();if(!l.getValue())i.push(",");else{let p=s[u];a?u>0&&i.push(" "):p=p.indent(r.tabWidth),i.push(p),(u<n.types.length-1||!a&&lo(r,"arrays"))&&i.push(","),a||i.push(`
`)}},"types"),a&&r.arrayBracketSpacing?i.push(" ]"):i.push("]"),A(i)}case"BooleanTypeAnnotation":return P("boolean",r);case"BooleanLiteralTypeAnnotation":return P(""+n.value,r);case"InterfaceTypeAnnotation":return i.push("interface"),n.extends&&n.extends.length>0&&i.push(" extends ",P(", ").join(e.map(t,"extends"))),i.push(" ",e.call(t,"body")),A(i);case"DeclareFunction":return no(e,["function ",e.call(t,"id"),";"]);case"DeclareModule":return no(e,["module ",e.call(t,"id")," ",e.call(t,"body")]);case"DeclareModuleExports":return no(e,["module.exports",e.call(t,"typeAnnotation")]);case"DeclareVariable":return no(e,["var ",e.call(t,"id"),";"]);case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":return A(["declare ",Db(e,r,t)]);case"EnumDeclaration":return A(["enum ",e.call(t,"id"),e.call(t,"body")]);case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":return(n.type==="EnumSymbolBody"||n.explicitType)&&i.push(" of ",n.type.slice(4,-4).toLowerCase()),i.push(` {
`,P(`
`).join(e.map(t,"members")).indent(r.tabWidth),`
}`),A(i);case"EnumDefaultedMember":return A([e.call(t,"id"),","]);case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":return A([e.call(t,"id")," = ",e.call(t,"init"),","]);case"InferredPredicate":return P("%checks",r);case"DeclaredPredicate":return A(["%checks(",e.call(t,"value"),")"]);case"FunctionTypeAnnotation":{let s=e.getParentNode(0),o=!(ot.ObjectTypeCallProperty.check(s)||ot.ObjectTypeInternalSlot.check(s)&&s.method||ot.DeclareFunction.check(e.getParentNode(2)));o&&!ot.FunctionTypeParam.check(s)&&!ot.TypeAlias.check(s)&&i.push(": ");let l=!!n.typeParameters,u=l||n.params.length!==1||n.params[0].name;return i.push(l?e.call(t,"typeParameters"):"",u?"(":"",zr(e,r,t),u?")":""),n.returnType&&i.push(o?" => ":": ",e.call(t,"returnType")),A(i)}case"FunctionTypeParam":{let s=e.call(t,"name");return i.push(s),n.optional&&i.push("?"),s.infos[0].line&&i.push(": "),i.push(e.call(t,"typeAnnotation")),A(i)}case"GenericTypeAnnotation":return A([e.call(t,"id"),e.call(t,"typeParameters")]);case"DeclareInterface":i.push("declare ");case"InterfaceDeclaration":case"TSInterfaceDeclaration":return n.declare&&i.push("declare "),i.push("interface ",e.call(t,"id"),e.call(t,"typeParameters")," "),n.extends&&n.extends.length>0&&i.push("extends ",P(", ").join(e.map(t,"extends"))," "),n.body&&i.push(e.call(t,"body")),A(i);case"ClassImplements":case"InterfaceExtends":return A([e.call(t,"id"),e.call(t,"typeParameters")]);case"IntersectionTypeAnnotation":return P(" & ").join(e.map(t,"types"));case"NullableTypeAnnotation":return A(["?",e.call(t,"typeAnnotation")]);case"NullLiteralTypeAnnotation":return P("null",r);case"ThisTypeAnnotation":return P("this",r);case"NumberTypeAnnotation":return P("number",r);case"ObjectTypeCallProperty":return e.call(t,"value");case"ObjectTypeIndexer":return n.static&&i.push("static "),i.push(io(e,t),"["),n.id&&i.push(e.call(t,"id"),": "),i.push(e.call(t,"key"),"]: ",e.call(t,"value")),A(i);case"ObjectTypeProperty":return A([io(e,t),e.call(t,"key"),n.optional?"?":"",": ",e.call(t,"value")]);case"ObjectTypeInternalSlot":return A([n.static?"static ":"","[[",e.call(t,"id"),"]]",n.optional?"?":"",n.value.type!=="FunctionTypeAnnotation"?": ":"",e.call(t,"value")]);case"QualifiedTypeIdentifier":return A([e.call(t,"qualification"),".",e.call(t,"id")]);case"StringLiteralTypeAnnotation":return P(so(n.value,r),r);case"NumberLiteralTypeAnnotation":case"NumericLiteralTypeAnnotation":return P(JSON.stringify(n.value),r);case"BigIntLiteralTypeAnnotation":return P(n.raw,r);case"StringTypeAnnotation":return P("string",r);case"DeclareTypeAlias":i.push("declare ");case"TypeAlias":return A(["type ",e.call(t,"id"),e.call(t,"typeParameters")," = ",e.call(t,"right"),";"]);case"DeclareOpaqueType":i.push("declare ");case"OpaqueType":return i.push("opaque type ",e.call(t,"id"),e.call(t,"typeParameters")),n.supertype&&i.push(": ",e.call(t,"supertype")),n.impltype&&i.push(" = ",e.call(t,"impltype")),i.push(";"),A(i);case"TypeCastExpression":return A(["(",e.call(t,"expression"),e.call(t,"typeAnnotation"),")"]);case"TypeParameterDeclaration":case"TypeParameterInstantiation":return A(["<",P(", ").join(e.map(t,"params")),">"]);case"Variance":return n.kind==="plus"?P("+"):n.kind==="minus"?P("-"):P("");case"TypeParameter":return n.variance&&i.push(io(e,t)),i.push(e.call(t,"name")),n.bound&&i.push(e.call(t,"bound")),n.default&&i.push("=",e.call(t,"default")),A(i);case"TypeofTypeAnnotation":return A([P("typeof ",r),e.call(t,"argument")]);case"IndexedAccessType":case"OptionalIndexedAccessType":return A([e.call(t,"objectType"),n.optional?"?.":"","[",e.call(t,"indexType"),"]"]);case"UnionTypeAnnotation":return P(" | ").join(e.map(t,"types"));case"VoidTypeAnnotation":return P("void",r);case"NullTypeAnnotation":return P("null",r);case"SymbolTypeAnnotation":return P("symbol",r);case"BigIntTypeAnnotation":return P("bigint",r);case"TSType":throw new Error("unprintable type: "+JSON.stringify(n.type));case"TSNumberKeyword":return P("number",r);case"TSBigIntKeyword":return P("bigint",r);case"TSObjectKeyword":return P("object",r);case"TSBooleanKeyword":return P("boolean",r);case"TSStringKeyword":return P("string",r);case"TSSymbolKeyword":return P("symbol",r);case"TSAnyKeyword":return P("any",r);case"TSVoidKeyword":return P("void",r);case"TSIntrinsicKeyword":return P("intrinsic",r);case"TSThisType":return P("this",r);case"TSNullKeyword":return P("null",r);case"TSUndefinedKeyword":return P("undefined",r);case"TSUnknownKeyword":return P("unknown",r);case"TSNeverKeyword":return P("never",r);case"TSArrayType":return A([e.call(t,"elementType"),"[]"]);case"TSLiteralType":return e.call(t,"literal");case"TSUnionType":return P(" | ").join(e.map(t,"types"));case"TSIntersectionType":return P(" & ").join(e.map(t,"types"));case"TSConditionalType":return i.push(e.call(t,"checkType")," extends ",e.call(t,"extendsType")," ? ",e.call(t,"trueType")," : ",e.call(t,"falseType")),A(i);case"TSInferType":return i.push("infer ",e.call(t,"typeParameter")),A(i);case"TSParenthesizedType":return A(["(",e.call(t,"typeAnnotation"),")"]);case"TSFunctionType":return A([e.call(t,"typeParameters"),"(",zr(e,r,t),") => ",e.call(t,"typeAnnotation","typeAnnotation")]);case"TSConstructorType":return A(["new ",e.call(t,"typeParameters"),"(",zr(e,r,t),") => ",e.call(t,"typeAnnotation","typeAnnotation")]);case"TSMappedType":return i.push(n.readonly?"readonly ":"","[",e.call(t,"typeParameter"),"]",n.optional?"?":""),n.typeAnnotation&&i.push(": ",e.call(t,"typeAnnotation"),";"),A([`{
`,A(i).indent(r.tabWidth),`
}`]);case"TSTupleType":return A(["[",P(", ").join(e.map(t,"elementTypes")),"]"]);case"TSNamedTupleMember":return i.push(e.call(t,"label")),n.optional&&i.push("?"),i.push(": ",e.call(t,"elementType")),A(i);case"TSRestType":return A(["...",e.call(t,"typeAnnotation")]);case"TSOptionalType":return A([e.call(t,"typeAnnotation"),"?"]);case"TSIndexedAccessType":return A([e.call(t,"objectType"),"[",e.call(t,"indexType"),"]"]);case"TSTypeOperator":return A([e.call(t,"operator")," ",e.call(t,"typeAnnotation")]);case"TSTypeLiteral":{let s=P(`
`).join(e.map(t,"members").map(o=>fo(o)!==";"?o.concat(";"):o));return s.isEmpty()?P("{}",r):(i.push(`{
`,s.indent(r.tabWidth),`
}`),A(i))}case"TSEnumMember":return i.push(e.call(t,"id")),n.initializer&&i.push(" = ",e.call(t,"initializer")),A(i);case"TSTypeQuery":return A(["typeof ",e.call(t,"exprName")]);case"TSParameterProperty":return n.accessibility&&i.push(n.accessibility," "),n.export&&i.push("export "),n.static&&i.push("static "),n.readonly&&i.push("readonly "),i.push(e.call(t,"parameter")),A(i);case"TSTypeReference":return A([e.call(t,"typeName"),e.call(t,"typeParameters")]);case"TSQualifiedName":return A([e.call(t,"left"),".",e.call(t,"right")]);case"TSAsExpression":case"TSSatisfiesExpression":{let s=e.call(t,"expression");return i.push(s,n.type==="TSSatisfiesExpression"?" satisfies ":" as ",e.call(t,"typeAnnotation")),A(i)}case"TSTypeCastExpression":return A([e.call(t,"expression"),e.call(t,"typeAnnotation")]);case"TSNonNullExpression":return A([e.call(t,"expression"),"!"]);case"TSTypeAnnotation":return A([": ",e.call(t,"typeAnnotation")]);case"TSIndexSignature":return A([n.readonly?"readonly ":"","[",e.map(t,"parameters"),"]",e.call(t,"typeAnnotation")]);case"TSPropertySignature":return i.push(io(e,t),n.readonly?"readonly ":""),n.computed?i.push("[",e.call(t,"key"),"]"):i.push(e.call(t,"key")),i.push(n.optional?"?":"",e.call(t,"typeAnnotation")),A(i);case"TSMethodSignature":return n.computed?i.push("[",e.call(t,"key"),"]"):i.push(e.call(t,"key")),n.optional&&i.push("?"),i.push(e.call(t,"typeParameters"),"(",zr(e,r,t),")",e.call(t,"typeAnnotation")),A(i);case"TSTypePredicate":return n.asserts&&i.push("asserts "),i.push(e.call(t,"parameterName")),n.typeAnnotation&&i.push(" is ",e.call(t,"typeAnnotation","typeAnnotation")),A(i);case"TSCallSignatureDeclaration":return A([e.call(t,"typeParameters"),"(",zr(e,r,t),")",e.call(t,"typeAnnotation")]);case"TSConstructSignatureDeclaration":return n.typeParameters?i.push("new",e.call(t,"typeParameters")):i.push("new "),i.push("(",zr(e,r,t),")",e.call(t,"typeAnnotation")),A(i);case"TSTypeAliasDeclaration":return A([n.declare?"declare ":"","type ",e.call(t,"id"),e.call(t,"typeParameters")," = ",e.call(t,"typeAnnotation"),";"]);case"TSTypeParameter":{i.push(e.call(t,"name"));let s=e.getParentNode(0),o=ot.TSMappedType.check(s);return n.constraint&&i.push(o?" in ":" extends ",e.call(t,"constraint")),n.default&&i.push(" = ",e.call(t,"default")),A(i)}case"TSTypeAssertion":return i.push("<",e.call(t,"typeAnnotation"),"> ",e.call(t,"expression")),A(i);case"TSTypeParameterDeclaration":case"TSTypeParameterInstantiation":return A(["<",P(", ").join(e.map(t,"params")),">"]);case"TSEnumDeclaration":{i.push(n.declare?"declare ":"",n.const?"const ":"","enum ",e.call(t,"id"));let s=P(`,
`).join(e.map(t,"members"));return s.isEmpty()?i.push(" {}"):i.push(` {
`,s.indent(r.tabWidth),`
}`),A(i)}case"TSExpressionWithTypeArguments":return A([e.call(t,"expression"),e.call(t,"typeParameters")]);case"TSInterfaceBody":{let s=P(`
`).join(e.map(t,"body").map(o=>fo(o)!==";"?o.concat(";"):o));return s.isEmpty()?P("{}",r):A([`{
`,s.indent(r.tabWidth),`
}`])}case"TSImportType":return i.push("import(",e.call(t,"argument"),")"),n.qualifier&&i.push(".",e.call(t,"qualifier")),n.typeParameters&&i.push(e.call(t,"typeParameters")),A(i);case"TSImportEqualsDeclaration":return n.isExport&&i.push("export "),i.push("import ",e.call(t,"id")," = ",e.call(t,"moduleReference")),Ya(A(i));case"TSExternalModuleReference":return A(["require(",e.call(t,"expression"),")"]);case"TSModuleDeclaration":return e.getParentNode().type==="TSModuleDeclaration"?i.push("."):(n.declare&&i.push("declare "),n.global||(n.id.type==="StringLiteral"||n.id.type==="Literal"&&typeof n.id.value=="string"||n.loc&&n.loc.lines&&n.id.loc&&n.loc.lines.sliceString(n.loc.start,n.id.loc.start).indexOf("module")>=0?i.push("module "):i.push("namespace "))),i.push(e.call(t,"id")),n.body&&(i.push(" "),i.push(e.call(t,"body"))),A(i);case"TSModuleBlock":{let s=e.call(o=>es(o,r,t),"body");return s.isEmpty()?i.push("{}"):i.push(`{
`,s.indent(r.tabWidth),`
}`),A(i)}case"TSInstantiationExpression":return i.push(e.call(t,"expression"),e.call(t,"typeParameters")),A(i);case"V8IntrinsicIdentifier":return A(["%",e.call(t,"name")]);case"TopicReference":return P("#");case"ClassHeritage":case"ComprehensionBlock":case"ComprehensionExpression":case"Glob":case"GeneratorExpression":case"LetStatement":case"LetExpression":case"GraphExpression":case"GraphIndexExpression":case"XMLDefaultDeclaration":case"XMLAnyName":case"XMLQualifiedIdentifier":case"XMLFunctionQualifiedIdentifier":case"XMLAttributeSelector":case"XMLFilterExpression":case"XML":case"XMLElement":case"XMLList":case"XMLEscape":case"XMLText":case"XMLStartTag":case"XMLEndTag":case"XMLPointTag":case"XMLName":case"XMLAttribute":case"XMLCdata":case"XMLComment":case"XMLProcessingInstruction":default:debugger;throw new Error("unknown type: "+JSON.stringify(n.type))}}function ZP(e,r){let t=[],n=e.getValue();return n.decorators&&n.decorators.length>0&&!Ob(e)?e.each(function(i){t.push(r(i),`
`)},"decorators"):ol(n)&&n.declaration&&n.declaration.decorators&&e.each(function(i){t.push(r(i),`
`)},"declaration","decorators"),A(t)}function es(e,r,t){let n=[];e.each(function(a){let l=a.getValue();l&&(l.type==="EmptyStatement"&&!(l.comments&&l.comments.length>0)||(ot.Comment.check(l)||ot.Statement.check(l)||Sp.assert(l),n.push({node:l,printed:t(a)})))});let i=null,s=n.length,o=[];return n.forEach(function(a,l){let u=a.printed,c=a.node,p=u.length>1,d=l>0,m=l<s-1,f,h,g=c&&c.loc&&c.loc.lines,y=g&&r.reuseWhitespace&&_b(c,g);if(d)if(y){let x=g.skipSpaces(y.start,!0),C=x?x.line:1,D=y.start.line-C;f=Array(D+1).join(`
`)}else f=p?`

`:`
`;else f="";if(m)if(y){let x=g.skipSpaces(y.end),D=(x?x.line:g.length)-y.end.line;h=Array(D+1).join(`
`)}else h=p?`

`:`
`;else h="";o.push(e1(i,f),u),m?i=h:h&&o.push(h)}),A(o)}function e1(e,r){if(!e&&!r)return P("");if(!e)return P(r);if(!r)return P(e);let t=P(e),n=P(r);return n.length>t.length?n:t}function Yb(e){let r=[];e.declare&&r.push("declare ");let t=e.accessibility||e.access;return typeof t=="string"&&r.push(t," "),e.static&&r.push("static "),e.override&&r.push("override "),e.abstract&&r.push("abstract "),e.readonly&&r.push("readonly "),r}function lp(e,r,t){let n=e.getNode(),i=n.kind,s=[],o=n.value;ot.FunctionExpression.check(o)||(o=n),s.push(...Yb(n)),o.async&&s.push("async "),o.generator&&s.push("*"),(i==="get"||i==="set")&&s.push(i," ");let a=e.call(t,"key");return n.computed&&(a=A(["[",a,"]"])),s.push(a),n.optional&&s.push("?"),n===o?(s.push(e.call(t,"typeParameters"),"(",zr(e,r,t),")",e.call(t,"returnType")),n.body?s.push(" ",e.call(t,"body")):s.push(";")):(s.push(e.call(t,"value","typeParameters"),"(",e.call(l=>zr(l,r,t),"value"),")",e.call(t,"value","returnType")),o.body?s.push(" ",e.call(t,"value","body")):s.push(";")),A(s)}function bb(e,r,t){let n=e.map(t,"arguments"),i=lo(r,"parameters"),s=P(", ").join(n);return s.getLineLength(1)>r.wrapColumn?(s=P(`,
`).join(n),A([`(
`,s.indent(r.tabWidth),i?`,
)`:`
)`])):A(["(",s,")"])}function zr(e,r,t){let n=e.getValue(),i,s=[];n.params?(i=n.params,s=e.map(t,"params")):n.parameters&&(i=n.parameters,s=e.map(t,"parameters")),n.defaults&&e.each(function(a){let l=a.getName(),u=s[l];u&&a.getValue()&&(s[l]=A([u," = ",t(a)]))},"defaults"),n.rest&&s.push(A(["...",e.call(t,"rest")]));let o=P(", ").join(s);return o.length>1||o.getLineLength(1)>r.wrapColumn?(o=P(`,
`).join(s),lo(r,"parameters")&&!n.rest&&i[i.length-1].type!=="RestElement"?o=A([o,`,
`]):o=A([o,`
`]),A([`
`,o.indent(r.tabWidth)])):o}function Xb(e,r,t){let n=e.getValue();if(n.assertions&&n.assertions.length>0){let i=[" assert {"],s=e.map(t,"assertions"),o=P(", ").join(s);return o.length>1||o.getLineLength(1)>r.wrapColumn?i.push(`
`,P(`,
`).join(s).indent(r.tabWidth),`
}`):i.push(" ",o," }"),A(i)}return P("")}function Db(e,r,t){let n=e.getValue(),i=["export "];n.exportKind&&n.exportKind==="type"&&(n.declaration||i.push("type "));let s=r.objectCurlySpacing;if(ot.Declaration.assert(n),(n.default||n.type==="ExportDefaultDeclaration")&&i.push("default "),n.declaration)i.push(e.call(t,"declaration"));else if(n.specifiers){if(n.specifiers.length===1&&n.specifiers[0].type==="ExportBatchSpecifier")i.push("*");else if(n.specifiers.length===0)i.push("{}");else if(n.specifiers[0].type==="ExportDefaultSpecifier"){let a=[],l=[];if(e.each(function(u){u.getValue().type==="ExportDefaultSpecifier"?a.push(t(u)):l.push(t(u))},"specifiers"),a.forEach((u,c)=>{c>0&&i.push(", "),i.push(u)}),l.length>0){let u=P(", ").join(l);u.getLineLength(1)>r.wrapColumn&&(u=A([P(`,
`).join(l).indent(r.tabWidth),","])),a.length>0&&i.push(", "),u.length>1?i.push(`{
`,u,`
}`):r.objectCurlySpacing?i.push("{ ",u," }"):i.push("{",u,"}")}}else i.push(s?"{ ":"{",P(", ").join(e.map(t,"specifiers")),s?" }":"}");n.source&&i.push(" from ",e.call(t,"source"),Xb(e,r,t))}let o=A(i);return fo(o)!==";"&&!(n.declaration&&(n.declaration.type==="FunctionDeclaration"||n.declaration.type==="ClassDeclaration"||n.declaration.type==="TSModuleDeclaration"||n.declaration.type==="TSInterfaceDeclaration"||n.declaration.type==="TSEnumDeclaration"))&&(o=A([o,";"])),o}function no(e,r){return Ob(e)||r.unshift("declare "),A(r)}function io(e,r){return e.call(function(t){let n=t.getValue();return n?n==="plus"?P("+"):n==="minus"?P("-"):r(t):P("")},"variance")}function li(e,r){return e.length>1?A([" ",e]):A([`
`,Ya(e).indent(r.tabWidth)])}function fo(e){let r=e.lastPos();do{let t=e.charAt(r);if(/\S/.test(t))return t}while(e.prevPos(r))}function xb(e){return fo(e)==="}"}function qa(e){return e.replace(/['"]/g,r=>r==='"'?"'":'"')}function ts(e){let r=gn(e,"value"),t=gn(e,"extra");if(t&&typeof t.raw=="string"&&r==t.rawValue)return t.raw;if(e.type==="Literal"){let n=e.raw;if(typeof n=="string"&&r==n)return n}}function Wa(e){return JSON.stringify(e).replace(/[\u2028\u2029]/g,function(r){return"\\u"+r.charCodeAt(0).toString(16)})}function so(e,r){switch(Sp.assert(e),r.quote){case"auto":{let t=Wa(e),n=qa(Wa(qa(e)));return t.length>n.length?n:t}case"single":return qa(Wa(qa(e)));case"double":default:return Wa(e)}}function Ya(e){let r=fo(e);return!r||`
};`.indexOf(r)<0?A([e,";"]):e}function t1(e,r){return new XP(r).print(e)}var Ga;function Qb(){if(Ga)return Ga;let e=r1();return Ga={parse(r,t){return Cb.parse(r,{...e,...t})}},Ga}function r1(){return{sourceType:"module",strictMode:!1,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,startLine:1,tokens:!0,plugins:["asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","classStaticBlock","decimal","decorators-legacy","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importAssertions","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{proposal:"minimal"}],["recordAndTuple",{syntaxType:"hash"}],"throwExpressions","topLevelAwait","v8intrinsic","jsx","typescript"]}}var n1=Object.defineProperty,i1=(e,r,t)=>r in e?n1(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Eb=(e,r,t)=>(i1(e,typeof r!="symbol"?r+"":r,t),t),Nt=class extends Error{constructor(r,t){if(super(""),Eb(this,"rawMessage"),Eb(this,"options"),this.name="MagicastError",this.rawMessage=r,this.options=t,t?.ast&&t?.code&&t.ast.loc){let{line:n,column:i}=t.ast.loc.start,s=t.code.split(`
`),o=Math.max(0,n-3),a=Math.min(s.length,n+3),l=s.slice(o,a).map((u,c)=>(u=`${(o+c+1).toString().padStart(3," ")} | ${u}`,o+c===n-1&&(u+=`
${" ".repeat(6+i)}^`),u));r+=`

${l.join(`
`)}
`}this.message=r}},s1=new Set(["Literal","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","RegExpLiteral","BigIntLiteral"]),Zb=new Set(["string","number","boolean","bigint","symbol","undefined"]),lt=is;function o1(e){return/^[$A-Z_a-z][\w$]*$/.test(e)}var wp="__magicast_proxy";function Kt(e,r=new Set){if(e===void 0)return lt.identifier("undefined");if(e===null)return lt.literal(null);if(Zb.has(typeof e))return lt.literal(e);if(r.has(e))throw new Nt("Can not serialize circular reference");if(r.add(e),e[wp])return e.$ast;if(e instanceof RegExp){let t=lt.regExpLiteral(e.source,e.flags);return delete t.extra.raw,t}return e instanceof Set?lt.newExpression(lt.identifier("Set"),[lt.arrayExpression([...e].map(t=>Kt(t,r)))]):e instanceof Date?lt.newExpression(lt.identifier("Date"),[lt.literal(e.toISOString())]):e instanceof Map?lt.newExpression(lt.identifier("Map"),[lt.arrayExpression([...e].map(([t,n])=>lt.arrayExpression([Kt(t,r),Kt(n,r)])))]):Array.isArray(e)?lt.arrayExpression(e.map(t=>Kt(t,r))):typeof e=="object"?lt.objectExpression(Object.entries(e).map(([t,n])=>lt.property("init",/^[$A-Z_a-z][\w$]*$/g.test(t)?lt.identifier(t):lt.literal(t),Kt(n,r)))):lt.literal(e)}function a1(e,r={}){let t=r;return t[wp]=!0,t.$ast=e,t.$type||(t.$type="object"),t}var l1={enumerable:!0,configurable:!0};function fr(e,r,t){let n=a1(e,r);return new Proxy({},{ownKeys(){return Object.keys(n).filter(i=>i!==wp&&!i.startsWith("$"))},getOwnPropertyDescriptor(){return l1},has(i,s){return s in n},...t,get(i,s,o){if(s in n)return n[s];if(t.get)return t.get(i,s,o)},set(i,s,o,a){return s in n?(n[s]=o,!0):t.set?t.set(i,s,o,a):!1}})}var tr=is,up=new WeakMap;function u1(e,r,t){if(up.has(r))return up.get(r);let n=fr(r,{get $declaration(){return e},get imported(){return r.type==="ImportDefaultSpecifier"?"default":r.type==="ImportNamespaceSpecifier"?"*":r.imported.type==="Identifier"?r.imported.name:r.imported.value},set imported(i){if(r.type!=="ImportSpecifier")throw new Nt("Changing import name is not yet implemented");r.imported.type==="Identifier"?r.imported.name=i:r.imported.value=i},get local(){return r.local.name},set local(i){r.local.name=i},get from(){return e.source.value},set from(i){if(i===e.source.value)return;e.specifiers=e.specifiers.filter(o=>o!==r),e.specifiers.length===0&&(t.body=t.body.filter(o=>o!==e));let s=t.body.find(o=>o.type==="ImportDeclaration"&&o.source.value===i);s?s.specifiers.push(r):t.body.unshift(tr.importDeclaration([r],tr.stringLiteral(i)))},toJSON(){return{imported:this.imported,local:this.local,from:this.from}}},{ownKeys(){return["imported","local","from","toJSON"]}});return up.set(r,n),n}function c1(e,r){let t=()=>{let o=[];for(let a of e.body)if(a.type==="ImportDeclaration")for(let l of a.specifiers)o.push(u1(a,l,e));return o},n=(o,a,l)=>{let u=t(),c=u.find(f=>f.local===o),p=a.local||o;if(c)return c.imported=a.imported,c.local=p,c.from=a.from,!0;let d=a.imported==="default"?tr.importDefaultSpecifier(tr.identifier(p)):a.imported==="*"?tr.importNamespaceSpecifier(tr.identifier(p)):tr.importSpecifier(tr.identifier(a.imported),tr.identifier(p)),m=u.find(f=>f.from===a.from)?.$declaration;if(m)m.specifiers.push(d);else if(l==="prepend"||u.length===0)e.body.unshift(tr.importDeclaration([d],tr.stringLiteral(a.from)));else{let f=u.at(-1).$declaration,h=e.body.indexOf(f);e.body.splice(h+1,0,tr.importDeclaration([d],tr.stringLiteral(a.from)))}return!0},i=o=>{let a=t().find(c=>c.local===o);if(!a)return!1;let l=a.$declaration,u=a.$ast;return l.specifiers=l.specifiers.filter(c=>c!==u),l.specifiers.length===0&&(e.body=e.body.filter(c=>c!==l)),!0};return fr(e,{$type:"imports",$add(o){n(o.local||o.imported,o,"prepend")},$prepend(o){n(o.local||o.imported,o,"prepend")},$append(o){n(o.local||o.imported,o,"append")},get $items(){return t()},toJSON(){return t().reduce((o,a)=>(o[a.local]=a,o),{})}},{get(o,a){return t().find(l=>l.local===a)},set(o,a,l){return n(a,l,"prepend")},deleteProperty(o,a){return i(a)},ownKeys(){return t().map(o=>o.local)},has(o,a){return t().some(l=>l.local===a)}})}function ll(e,r,t){let n=s=>r[s],i=(s,o)=>{r[s]=o};return fr(e,{$type:"array",push(s){r.push(Kt(s))},pop(){return jt(r.pop(),t)},unshift(s){r.unshift(Kt(s))},shift(){return jt(r.shift(),t)},splice(s,o,...a){return r.splice(s,o,...a.map(u=>Kt(u))).map(u=>jt(u,t))},find(s){return r.map(o=>jt(o,t)).find(s)},findIndex(s){return r.map(o=>jt(o,t)).findIndex(s)},includes(s){return r.map(o=>jt(o,t)).includes(s)},toJSON(){return r.map(s=>jt(s,t))}},{get(s,o){if(o==="length")return r.length;if(o===Symbol.iterator)return function*(){for(let u of r)yield jt(u,t)};if(typeof o=="symbol")return;let a=+o;if(Number.isNaN(a))return;let l=n(a);if(l)return jt(l,t)},set(s,o,a){if(typeof o=="symbol")return!1;let l=+o;return Number.isNaN(l)?!1:(i(l,Kt(a)),!0)},deleteProperty(s,o){if(typeof o=="symbol")return!1;let a=+o;return Number.isNaN(a)?!1:(r[a]=Kt(void 0),!0)},ownKeys(){return["length",...r.map((s,o)=>o.toString())]}})}function p1(e,r){if("elements"in e)return ll(e,e.elements,r)}function eD(e,r){if(e.type!=="CallExpression")throw new Nt("Not a function call");function t(i){if(i.type==="Identifier")return i.name;if(i.type==="MemberExpression")return`${t(i.object)}.${t(i.property)}`;throw new Nt("Not implemented")}let n=ll(e,e.arguments,r);return fr(e,{$type:"function-call",$callee:t(e.callee),$args:n},{})}function d1(e,r){if(e.type!=="ArrowFunctionExpression")throw new Nt("Not an arrow function expression");let t=ll(e,e.params,r);return fr(e,{$type:"arrow-function-expression",$params:t,$body:jt(e.body,r)},{})}var f1=is;function m1(e,r){if(!("properties"in e))return;let t=s=>{for(let o of e.properties){if("key"in o&&"name"in o.key&&o.key.name===s)return o.value;if(o.type==="ObjectProperty"&&(o.key.type==="StringLiteral"||o.key.type==="NumericLiteral"||o.key.type==="BooleanLiteral")&&o.key.value.toString()===s)return o.value.value??o.value}},n=(s,o=!1)=>{if("key"in s&&"name"in s.key)return s.key.name;if(s.type==="ObjectProperty"&&(s.key.type==="StringLiteral"||s.key.type==="NumericLiteral"||s.key.type==="BooleanLiteral"))return s.key.value.toString();if(o)throw new Nt(`Casting "${s.type}" is not supported`,{ast:s,code:r?.$code})},i=(s,o)=>{let a=e.properties.find(l=>n(l)===s);a?a.value=o:o1(s)?e.properties.push({type:"Property",key:{type:"Identifier",name:s},value:o}):e.properties.push({type:"ObjectProperty",key:f1.stringLiteral(s),value:o})};return fr(e,{$type:"object",toJSON(){return e.properties.reduce((s,o)=>("key"in o&&"name"in o.key&&(s[o.key.name]=jt(o.value,r)),s),{})}},{get(s,o){let a=t(o);if(a)return jt(a,r)},set(s,o,a){return typeof o!="string"&&(o=String(o)),i(o,Kt(a)),!0},deleteProperty(s,o){typeof o!="string"&&(o=String(o));let a=e.properties.findIndex(l=>"key"in l&&"name"in l.key&&l.key.name===o);return a!==-1&&e.properties.splice(a,1),!0},ownKeys(){return e.properties.map(s=>n(s,!0)).filter(Boolean)}})}function tD(e,r){if(e.type!=="NewExpression")throw new Nt("Not a new expression");function t(i){if(i.type==="Identifier")return i.name;if(i.type==="MemberExpression")return`${t(i.object)}.${t(i.property)}`;throw new Nt("Not implemented")}let n=ll(e,e.arguments,r);return fr(e,{$type:"new-expression",$callee:t(e.callee),$args:n},{})}function h1(e){if(e.type!=="Identifier")throw new Nt("Not an identifier");return fr(e,{$type:"identifier",$name:e.name},{})}function g1(e){if(e.type!=="LogicalExpression")throw new Nt("Not a logical expression");return fr(e,{$type:"logicalExpression"},{})}function y1(e){if(e.type!=="MemberExpression")throw new Nt("Not a member expression");return fr(e,{$type:"memberExpression"},{})}var cp=new WeakMap;function jt(e,r){if(Zb.has(typeof e))return e;if(s1.has(e.type))return e.value;if(cp.has(e))return cp.get(e);let t;switch(e.type){case"ObjectExpression":{t=m1(e,r);break}case"ArrayExpression":{t=p1(e,r);break}case"CallExpression":{t=eD(e,r);break}case"ArrowFunctionExpression":{t=d1(e,r);break}case"NewExpression":{t=tD(e,r);break}case"Identifier":{t=h1(e);break}case"LogicalExpression":{t=g1(e);break}case"MemberExpression":{t=y1(e);break}case"TSAsExpression":case"TSSatisfiesExpression":{t=jt(e.expression,r);break}default:throw new Nt(`Casting "${e.type}" is not supported`,{ast:e,code:r?.$code})}return cp.set(e,t),t}var oo=is;function b1(e,r){let t=i=>{let s=i==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let o of e.body)if(o.type===s){if(i==="default")return o.declaration;if(o.declaration&&"declarations"in o.declaration){let a=o.declaration.declarations[0];if("name"in a.id&&a.id.name===i)return a.init}}},n=(i,s)=>{let o=i==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration",a=Kt(s);for(let l of e.body)if(l.type===o){if(i==="default"){l.declaration=a;return}if(l.declaration&&"declarations"in l.declaration){let u=l.declaration.declarations[0];if("name"in u.id&&u.id.name===i){u.init=a;return}}}e.body.push(i==="default"?oo.exportDefaultDeclaration(a):oo.exportNamedDeclaration(oo.variableDeclaration("const",[oo.variableDeclarator(oo.identifier(i),a)])))};return fr(e,{$type:"exports"},{get(i,s){let o=t(s);if(o)return jt(o,r)},set(i,s,o){return n(s,o),!0},ownKeys(){return e.body.flatMap(i=>i.type==="ExportDefaultDeclaration"?["default"]:i.type==="ExportNamedDeclaration"&&i.declaration&&"declarations"in i.declaration?i.declaration.declarations.map(s=>"name"in s.id?s.id.name:""):[]).filter(Boolean)},deleteProperty(i,s){let o=s==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let a=0;a<e.body.length;a++){let l=e.body[a];if(l.type===o){if(s==="default")return e.body.splice(a,1),!0;if(l.declaration&&"declarations"in l.declaration){let u=l.declaration.declarations[0];if("name"in u.id&&u.id.name===s)return e.body.splice(a,1),!0}}}return!1}})}function D1(e,r){let t=e.program;if(t.type!=="Program")throw new Nt(`Cannot proxify ${e.type} as module`);let n={$code:r,$type:"module"},i=fr(t,n,{ownKeys(){return["imports","exports","generate"]}});return n.exports=b1(t,i),n.imports=c1(t),n.generate=s=>Ap(i,s),i}function rD(e,r={}){let t={wrapColumn:r.wrapColumn===void 0,indent:r.tabWidth===void 0||r.useTabs===void 0,quote:r.quote===void 0,arrowParens:r.arrowParensAlways===void 0,trailingComma:r.trailingComma===void 0},n=2,i=0,s=0,o=0,a=0,l=/(?<doubleQuote>"[^"]+")|(?<singleQuote>'[^']+')|(?<singleParam>\([^),]+\)\s*=>)|(?<trailingComma>,\s*[\]}])/g,u={doubleQuote:0,singleQuote:0,singleParam:0,trailingComma:0},c=(e||"").split(`
`),p=!1;for(let d of c){let m=d.trim();if(m.length!==0){if(t.wrapColumn&&d.length>o&&(o=d.length),t.indent){let f=d.match(/^\s+/)?.[0]||"";f.length>0&&(f.length>0&&f.length<n&&(n=f.length),f[0]==="	"?i++:f.length>0&&i--)}if(m.at(-1)===";"?s++:m.length>0&&s--,t.quote||t.arrowParens){let f=m.matchAll(l);for(let h of f)if(h.groups)for(let g in u)h.groups[g]&&u[g]++}t.trailingComma&&((d.startsWith("}")||d.startsWith("]"))&&(p?a++:a--),p=m.endsWith(","))}}return{wrapColumn:o,useTabs:i>0,tabWidth:n,quote:u.singleQuote>u.doubleQuote?"single":"double",arrowParensAlways:u.singleParam>0,trailingComma:a>0||u.trailingComma>0,useSemi:s>0,arrayBracketSpacing:void 0,objectCurlySpacing:void 0,...r}}function nD(e,r){let t=jb(e,{parser:r?.parser||Qb(),...r});return D1(t,e)}function iD(e,r){let t=jb("("+e+")",{parser:r?.parser||Qb(),...r}),n=t.program.body[0];n.type==="ExpressionStatement"&&(n=n.expression),n.extra?.parenthesized&&(n.extra.parenthesized=!1);let i={$ast:t,$code:" "+e+" ",$type:"module"};return jt(n,i)}function Ap(e,r={}){let t=e.$ast||e,n=r.format===!1||!("$code"in e)?{}:rD(e.$code,r.format),{code:i,map:s}=t1(t,{...r,...n});return{code:i,map:s}}async function x1(e,r={}){let t=await Xa.promises.readFile(e,"utf8");return r.sourceFileName=r.sourceFileName??e,nD(t,r)}async function E1(e,r,t){let n="$ast"in e?e.$ast:e,{code:i,map:s}=Ap(n,t);await Xa.promises.writeFile(r,i),s&&await Xa.promises.writeFile(r+".map",s)}var Ha=is,C1={functionCall(e,...r){let t=Ha.callExpression(Ha.identifier(e),r.map(n=>Kt(n)));return eD(t)},newExpression(e,...r){let t=Ha.newExpression(Ha.identifier(e),r.map(n=>Kt(n)));return tD(t)},literal(e){return Kt(e)},raw(e){return iD(e)}};var $n=q(require("@sentry/node"),1);async function lD(e,r){let t=await(0,gt.readdir)(e,{withFileTypes:!0}),n=[];for(let i of t){let s=ve.default.join(e,i.name);if(i.isDirectory()){if(!r.has(i.name)){let o=await lD(s,r);n.push(...o)}}else n.push(s)}return n}async function uD(e){let r=new Set,t=(...u)=>{if(process.env.DEBUG){let c=new Date,p=`${String(c.getMinutes()).padStart(2,"0")}:${String(c.getSeconds()).padStart(2,"0")}.${String(c.getMilliseconds()).padStart(3,"0")}`;console.debug(p,"[builder-dev-tools]",...u)}},n=async u=>{let c=(0,sD.createHash)("md5");return c.update(u),c.digest("hex")},i=ve.default.normalize(e.cwd),s=Np(ve.default.normalize(e.cwd))??i,o=go(ve.default.normalize(e.cwd))??s,a={...ve.default,getCwdDir:()=>i,getRepoRootDir:()=>s,getAppRootDir:()=>o,cwd:()=>process.cwd(),exists:async u=>{try{return await(0,gt.access)(u),!0}catch{return!1}},magicast:vp,existsSync:u=>(0,Ze.existsSync)(u),readdir:async(u,c)=>{let p=await(0,gt.readdir)(u);return c?p.map(d=>ve.default.join(u,d)):p},readdirRecursive:async(u,c)=>lD(u,new Set(c)),readdirSync:u=>(0,Ze.readdirSync)(u),readFile:async u=>{try{return await(0,gt.readFile)(u,"utf-8")}catch(c){if(c.code==="ENOENT")return null;throw t(c,u),c}},readFileSync(u){try{return(0,Ze.readFileSync)(u,"utf-8")}catch(c){if(c.code==="ENOENT")return null;throw t(c,u),c}},spawnSync:ss.spawnSync,stat:async u=>await(0,gt.stat)(u),statSync:u=>(0,Ze.statSync)(u),unlinkSync:u=>{(0,Ze.unlinkSync)(u)},unlink:async u=>{await(0,gt.unlink)(u)},writeFile:async(u,c)=>{u=ve.default.normalize(u);let p={path:u,basename:ve.default.basename(u),dirname:ve.default.dirname(u),extname:ve.default.extname(u)};await(0,gt.mkdir)(ve.default.dirname(u),{recursive:!0}),await(0,gt.writeFile)(u,c);for(let d of r)await d(p)},hash:n,getDeviceId:()=>n(`${(0,ho.hostname)()}:${(0,ho.homedir)()}`),formatCode:async(u,c)=>{let p=null;try{p=await Tp.default.resolveConfig(u)}catch{}try{return Tp.default.format(c,{...p,filepath:u})}catch{}return c},on:(u,c)=>{u==="change"&&r.add(c)},off:(u,c)=>{u==="change"&&r.delete(c)},debug:t,launchEditor:async u=>{try{let c=u.filePath;typeof u.line=="number"&&(c+=`:${u.line}`,typeof u.column=="number"&&(c+=`:${u.column}`)),(0,aD.default)(c,"code",(p,d)=>{$n.captureException(new Error(`Failed to launch editor for ${d}`),{extra:{pathFile:p}})})}catch(c){$n.captureException(new Error("Failed to launch editor",{cause:c}))}},platform:()=>({runtime:"node",os:process.platform}),getRepoInfo:async()=>{let u=ve.default.normalize(e.cwd);return{remoteUrl:S1(u),defaultBranch:w1(u),commit:A1(u),currentBranch:v1(u)}},getFrameworks:()=>[],ts:oD.default,Sentry:$n,version:Re,sdkVersion:null,ignoreMissingConfig:e.ignoreMissingConfig,kind:null},l=await Jn(a);return a.getFrameworks=()=>l,a}function cD(){let e=(0,ho.homedir)();return ve.default.join(e,".config","builder","dev-tools.json")}function Pp(e,r){return typeof e=="object"&&e!=null&&r in e}async function os(){let e=cD();try{let r=await(0,gt.readFile)(e,"utf-8");if(typeof r=="string")return JSON.parse(r)}catch(r){if(r.code==="ENOENT")return null}return null}async function Ip(e){let r=cD();e=typeof e=="object"&&e!=null?e:{},await(0,gt.mkdir)(ve.default.dirname(r),{recursive:!0}),await(0,gt.writeFile)(r,JSON.stringify(e??{},null,2))}function S1(e){try{return((0,ss.spawnSync)("git",["config","--get","remote.origin.url"],{cwd:e}).stdout||"").toString().trim()}catch(r){return $n.captureException(new Error("Error getting git remote URL:",{cause:r})),""}}function w1(e){let r="master";try{let t=(0,ss.spawnSync)("git",["branch","-r"],{cwd:e});return t.stdout&&t.stdout.toString().trim().split(`
`).map(i=>i.trim()).includes("origin/main")?"main":r}catch(t){return $n.captureException(new Error("Error getting git default branch name:",{cause:t})),r}}function A1(e){try{return((0,ss.spawnSync)("git",["rev-parse","HEAD"],{cwd:e}).stdout||"").toString().trim()}catch(r){return $n.captureException(new Error("Error getting git commit:",{cause:r})),""}}function v1(e){try{return((0,ss.spawnSync)("git",["branch","--show-current"],{cwd:e}).stdout||"").toString().trim()}catch(r){return $n.captureException(new Error("Error getting current branch name:",{cause:r})),""}}function Np(e){let r=ve.default.resolve("/");for(let t=0;t<20;t++){let n=ve.default.join(e,"package.json");if((0,Ze.existsSync)(n))return e;if(e===r)break;e=ve.default.dirname(e)}return null}function go(e){let r=ve.default.resolve("/");for(let t=0;t<20;t++){if((0,Ze.existsSync)(ve.default.join(e,"package.json"))||(0,Ze.existsSync)(ve.default.join(e,"remix.config.js"))||(0,Ze.existsSync)(ve.default.join(e,"remix.config.mjs"))||(0,Ze.existsSync)(ve.default.join(e,"remix.config.ts"))||(0,Ze.existsSync)(ve.default.join(e,"vite.config.js"))||(0,Ze.existsSync)(ve.default.join(e,"vite.config.ts"))||(0,Ze.existsSync)(ve.default.join(e,"vite.config.mjs"))||(0,Ze.existsSync)(ve.default.join(e,"next.config.js"))||(0,Ze.existsSync)(ve.default.join(e,"next.config.ts"))||(0,Ze.existsSync)(ve.default.join(e,"angular.json"))||(0,Ze.existsSync)(ve.default.join(e,"project.json"))||(0,Ze.existsSync)(ve.default.join(e,"tsconfig.json")))return e;if(e===r)break;e=ve.default.dirname(e)}return null}b();b();var St=[];for(let e=0;e<256;++e)St.push((e+256).toString(16).slice(1));function pD(e,r=0){return(St[e[r+0]]+St[e[r+1]]+St[e[r+2]]+St[e[r+3]]+"-"+St[e[r+4]]+St[e[r+5]]+"-"+St[e[r+6]]+St[e[r+7]]+"-"+St[e[r+8]]+St[e[r+9]]+"-"+St[e[r+10]]+St[e[r+11]]+St[e[r+12]]+St[e[r+13]]+St[e[r+14]]+St[e[r+15]]).toLowerCase()}b();var dD=q(require("crypto")),cl=new Uint8Array(256),ul=cl.length;function Fp(){return ul>cl.length-16&&(dD.default.randomFillSync(cl),ul=0),cl.slice(ul,ul+=16)}b();b();var fD=q(require("crypto")),kp={randomUUID:fD.default.randomUUID};function T1(e,r,t){if(kp.randomUUID&&!r&&!e)return kp.randomUUID();e=e||{};let n=e.random||(e.rng||Fp)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(let i=0;i<16;++i)r[t+i]=n[i];return r}return pD(n)}var _p=T1;var Rp=q(require("os"),1);async function mD(e){let r=process.env.NODE_ENV!=="test",t=await yD(),n=await gD();qr.init(r?"2532be1b0436a18cb938b21fc7fa9faf":"",{logLevel:qr.Types.LogLevel.None,flushIntervalMillis:500});let i=new qr.Identify;await qr.identify(i,{device_id:t,user_id:n,platform:Rp.default.type(),os_name:process.platform,os_version:Rp.default.release()}).promise,Wr.init({dsn:"https://3252dddc08dbb5bf406dc33bf3c13633@o117565.ingest.us.sentry.io/4505630794448896",tracesSampleRate:.5,release:iy,environment:process.env.NODE_ENV,enabled:r,integrations:[Wr.nativeNodeFetchIntegration(),Wr.httpIntegration(),...Wr.getAutoPerformanceIntegrations()],beforeSend:(s,o)=>((e||s.level!=="warning")&&console.error(`ERROR ID: ${s.event_id}`,o.originalException??o.syntheticException),s),tracePropagationTargets:[Zt]}),Wr.setUser({username:process.env.USER||process.env.USERNAME||"unknown"})}async function Te(e,r){let t={...r,app:"dev-tools-cli",package:"cli"},n=await gD(),i=await yD();return await qr.track(e,t,{user_id:n,device_id:i}).promise}var pl,Op;async function hD(e){pl=e;let r=await os();await Ip({...r,userId:e})}async function gD(){if(pl)return pl;let e=await os(),r;return Pp(e,"userId")&&(r=e.userId),pl=r,r}async function yD(){if(Op)return Op;let e=await os(),r=_p();return Pp(e,"deviceId")?r=e.deviceId:await Ip({...e,deviceId:r}),Op=r,r}b();var DD=q(et(),1),xD=require("undici");var ED=q(et(),1);var bD="0.0.0";var Lp=q(require("process"),1),pt=async(e,r)=>{let t="fetch"in globalThis?globalThis.fetch:xD.fetch;try{let n=await t(e,{...r,headers:{...r?.headers,...I1()}});if(!n.ok&&n.status===429){let i=await n.json(),s=i.severity??"high",o=i.message??"Rate limit exceeded. Please try again later.";return console.log(),s==="high"?n.error((0,DD.red)(`${n.status} ${o}

`)):n.warn((0,ED.yellow)(`${n.status} ${o}

`)),await Q(1)}return n}catch(n){let i=typeof e=="string"?e:e instanceof URL?e.toString():e.url,s=r?.method||"GET",o=n instanceof Error?n.message:String(n),a=new Error(`Fetch failed for ${s} ${i}: ${o}`);throw n instanceof Error&&(a.cause=n),a.requestContext={url:i,method:s,headers:r?.headers},a}};function I1(){let r={darwin:"Macintosh",win32:"Windows NT",linux:"Linux",android:"Android",ios:"iPhone"}[Lp.default.platform]||"Unknown",t=Lp.default.platform==="win32"?"10.0":"";return{"User-Agent":`Mozilla/5.0 (${r}${t?"; "+t:""}) builder-cli/${bD}`,"Sec-Ch-Ua-Platform":r}}b();var SD=q(require("@sentry/node"),1);var wD=/[^\x00-\x7F]/g,Mp=e=>{try{let r=new URL(e);if(!e.startsWith("https://www.figma.com/design/"))return null;let t=r.searchParams.get("node-id")?.replaceAll("-",":"),n=r.pathname.split("/")[2];return t&&n?{fileID:n,nodeId:t}:null}catch{return null}},N1="https://api.figma.com/v1/",$p=async(e,r,t,{auth:n,params:i})=>{let s=new URL(`${N1}${t}`),o={};if(n.oauth?o.Authorization=`Bearer ${n.access_token}`:o["X-FIGMA-TOKEN"]=n.access_token,i)for(let l in i)i[l]!=null&&s.searchParams.set(l,i[l].toString());let a=await pt(s,{headers:o});if(!a.ok){if(a.status===403){U.error("Seems like figma auth is expired or it's invalid, let's try to");let l=await yt(e,r,{force:!0,figmaAuth:!0});return $p(e,r,t,{auth:l.figmaAuth,params:i})}throw new Error(`Figma REST ${a.statusText}: ${await a.text()}`)}return a.json()},AD=async(e,r,t,n,i,s)=>(await $p(e,r,`files/${n}/nodes`,{auth:t,params:{ids:i,depth:s}})).nodes;function Gr(e){return e=e.replace(wD,""),e=e.replace(/[\W\d]/g," "),e=e.trim(),e=F1(e),e=e.charAt(0).toUpperCase()+e.slice(1),e}function F1(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(r,t){return t===0?r.toLowerCase():r.toUpperCase()}).replace(/\s+/g,"")}var k1=/^[a-f0-9]{40}$/;async function vD(e,r,t){let n=JSON.stringify({token:r}),i=new URL(`${Zt}/mappings/figma-components/get`);e.builderPublicKey&&i.searchParams.set("apiKey",e.builderPublicKey),e.userId&&i.searchParams.set("userId",e.userId),t&&console.log("FETCH",i,n);let s={"Content-Type":"application/json"};e.builderPrivateKey&&(s.Authorization=`Bearer ${e.builderPrivateKey}`);let o=await pt(i,{method:"POST",body:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.builderPrivateKey}`}});if(!o.ok)throw new Error(`Failed to generate completion:
`+await o.text());let a=await o.json();if(!Array.isArray(a.figmaComponents))throw new Error("Invalid response from Figma API");return a.figmaComponents.map(l=>["",l])}function TD(e){return e.some(r=>!!Mp(r))}async function PD(e,r,t,n,i){return(await Promise.all(i.map(async o=>{let a,l;if(o.match(k1))try{if(t){let p;try{p=await $p(e,r,`components/${o}`,{auth:t}),a=p.meta.file_key,l=p.meta.node_id}catch{U.warning("Failed to fetch component from Figma API.")}}}catch(p){throw SD.captureException(p),p}if(!a||!l){let p=Mp(o);if(!p)return ge(`Invalid Figma URL, use Cmd+L while selecting a figma component to get a link to selection.
   Or make sure the command is copied correctly from the Figma plugin and the same builder space is being used.`),await Q(1);p&&({fileID:a,nodeId:l}=p)}if(!t)return[];let u=await AD(e,r,t,a,l),c=await _1(u[l],l);return c?[[o,c]]:[]}))).flat().filter(M1)}async function _1(e,r){let t=e.document;if(t.type!=="COMPONENT"&&t.type!=="COMPONENT_SET"){let i=`Seems like the pasted URL points to a ${t.type} node, not a COMPONENT or COMPONENT_SET.`;return t.type==="INSTANCE"&&(i+=`
Double click and select "Go to main component", then copy the URL to the figma COMPONENT`),ge(i),await Q(1)}let n=e.components[r]?.key??e.componentSets[r]?.key;return n?(e.document.key=n,O1(r,t)):(ge("Pasted URL does not correspond to a component or component set"),await Q(1))}function O1(e,r){let{inputs:t,nameMap:n}=R1(r);return{type:r.type,name:r.name,jsx:r.type==="COMPONENT_SET"?Bp(r.children[0],n,0,0):Bp(r,n,0,0),inputs:t,key:r.key,description:r.description,documentationLinks:[],instanceId:e.includes(":")?e:r.id,documentName:"",tree:""}}var Bp=(e,r,t,n,i=-1)=>{let s="  ".repeat(Math.max(i+1,0)),o="",a=e.type,l=a==="GROUP"||a==="FRAME"||i<0&&"children"in e,u="",c=i>=0;if(c){let p="";if(e.type==="INSTANCE"){if(e.componentPropertyReferences&&e.componentPropertyReferences.mainComponent)return o+=`${s}{figma["${r(e.componentPropertyReferences.mainComponent)}"]}
`,o;u=e.type}u===""&&(u=e.type),(e.type!=="TEXT"||!e.autoRename)&&(p+=` name="${e.name}"`),e.componentPropertyReferences&&e.componentPropertyReferences.visible&&(p+=` visible={figma["${r(e.componentPropertyReferences.visible)}"]}`),o+=`${s}<${u}${p}`}if(e.type==="TEXT")c&&(o+=`>
`),e.componentPropertyReferences&&e.componentPropertyReferences.characters?o+=`${s}  {figma["${r(e.componentPropertyReferences.characters)}"]}
`:o+=`${s}  ${e.characters}
`,c&&(o+=`${s}</${u}>
`);else if(l&&"children"in e&&e.children.length>0){c&&(o+=`>
`);let p=0;for(let d of e.children)o+=Bp(d,r,p,e.children.length,i+1),p++;c&&(o+=`${s}</${u}>
`)}else c&&(o+=`/>
`);return o};function R1(e){let r=[],t={};try{t=e.componentPropertyDefinitions??{}}catch(l){console.error("Invalid Component Property Definitions",l)}let n=e.type==="COMPONENT_SET"?e.children:[e],i=new Map,s=[],o=Object.keys(t),a=L1(o);for(let l of n){let u=ID(l,{types:["INSTANCE","TEXT"]});for(let c of u){s.push(c);let p=c.componentPropertyReferences;p&&p.visible&&(p.characters&&i.set(p.characters,a(p.visible)),p.mainComponent&&i.set(p.mainComponent,a(p.visible)))}}for(let l of o){let u=t[l];switch(u.type){case"TEXT":{r.push({id:l,name:a(l),value:u.defaultValue,type:"string",baseType:"text",isDefault:!0,ref:i.get(l)});break}case"BOOLEAN":{r.push({id:l,name:a(l),value:!!u.defaultValue,baseType:"boolean",isDefault:!0,type:"boolean"});break}case"VARIANT":{r.push({id:l,name:a(l),value:u.defaultValue,type:u.variantOptions?.map(c=>`'${c}'`).join(" | ")??"string",baseType:"variant",variantOptions:u.variantOptions??[],isDefault:!0,ref:i.get(l)});break}case"INSTANCE_SWAP":{r.push({id:l,name:a(l),value:String(u.defaultValue),type:"React.ReactNode",baseType:"slot",isDefault:!0,ref:i.get(l)});break}}}return{inputs:r,nameMap:a}}function L1(e){let r=new Map,t=new Map;return e.forEach(n=>{let i=CD(n);t.has(i)?(r.has(n)&&(r.set(t.get(i),t.get(i)),r.delete(i)),r.set(n,n)):(r.set(n,i),t.set(i,n))}),n=>{let i=r.get(n)??CD(n);if(!i)throw new Error("No value for key "+n);return i}}function CD(e){return typeof e=="string"?e.replace(/#\d+:\d+$/,"").replace(wD,"").trim():""}function ID(e,r){let t=r.types,n=[];return t.includes(e.type)&&n.push(e),"children"in e&&n.push(...e.children.flatMap(i=>ID(i,r))),n}async function dl(e,r,t,n,i){if(i.length>0){let s=await B1(e,r,t,i);for(let o of n)if(o.figmaUrl&&!o.figmaKey){let a=s[o.figmaUrl];a&&(o.figmaKey=a)}}}var B1=async(e,r,t,n)=>{if(!t)return{};let i=new Map,s={};return n.forEach(o=>{let a=Mp(o);if(!a){e.Sentry?.captureException(new Error("Invalid Figma URL, use Cmd+L while selecting a figma component to get a link to selection"),{extra:{figmaUrl:o},level:"warning"});return}let l=i.get(a.fileID);l||(l=[],i.set(a.fileID,l)),l.includes(a.nodeId)||l.push(a.nodeId),s[o]=`${a.fileID}/${a.nodeId}`}),await Promise.all(Array.from(i.entries()).map(async([o,a])=>{let l=await AD(e,r,t,o,a.join(","),0);for(let u of a){let c=l[u],p=c.components[u]?.key??c.componentSets[u]?.key;p||e.Sentry?.withScope(m=>{m.addAttachment({data:JSON.stringify(l,null,2),filename:`${o}.json`}),e.Sentry?.captureException(new Error("Cannot resolve figma component key for NodeID"),{extra:{nodeId:u,fileID:o},level:"warning"})});let d=`${o}/${u}`;for(let m of n)s[m]===d&&(s[m]=p)}})),s};function M1(e){return e!=null}b();var ue=q(et(),1);b();var Vt=require("path"),Gt=require("fs"),jn=q(et(),1),zp=require("glob");b();b();b();var fl=require("http");b();b();b();b();b();b();var ND=require("console"),FD=require("http"),kD=require("https");function as(e){let r=Date.now();return new Promise((t,n)=>{let s=$1(e.url)({protocol:e.url.protocol,host:e.url.host,port:e.url.port,path:e.url.pathname+e.url.search,method:e.method,headers:e.headers},o=>{let a="";o.on("data",l=>{a+=l}),o.on("end",()=>{if((0,ND.debug)(`${e.method} ${e.url.href}, duration: ${Date.now()-r}ms`),typeof o.statusCode=="number"&&o.statusCode>=200&&o.statusCode<300)if(typeof o.headers["content-type"]!="string"||!o.headers["content-type"].includes("application/json"))n(`Response from ${e.url.href} content-type is ${o.headers["content-type"]}`);else try{t(JSON.parse(a))}catch(l){n(`Response from ${e.url.href} is not valid JSON: ${a}
${l}`)}else n(`Request to ${e.url.href} failed with status ${o.statusCode}: ${a}`)})}).on("error",o=>{n(`Error fetching ${e.url.href}, ${o}`)});e.body&&(s.setHeader("Content-Type","application/json"),s.write(e.body)),s.end()})}function $1(e){if(e.protocol==="https:")return kD.request;if(e.protocol==="http:")return FD.request;throw new Error(`Unsupported protocol ${e.protocol}`)}async function _D(e){let r=new URL(`https://cdn.builder.io/api/v3/query/${e.publicApiKey}/${e.model}`);return r.searchParams.set("omit","meta.componentsUsed"),r.searchParams.set("apiKey",e.publicApiKey),r.searchParams.set("userAttributes.urlPath",e.pageUrl),r.searchParams.set("options.page.model",`"${e.model}"`),r.searchParams.set("cachebust","true"),(await as({url:r,method:"GET"}))[e.model]}async function OD(e,r){if(r.kind===Ss.VCP)return!0;let t=new URL("https://cdn.builder.io/api/v2/admin"),n={query:`query {
      models {
        id
        name
      }
    }`};e.debug(`Get model id for model name "${r.model}"`);let s=(await as({url:t,method:"POST",headers:{Authorization:`Bearer ${r.privateAuthKey}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)})).data.models.find(l=>l.name===r.model);if(!s)return e.debug(`No model found for model name "${r.model}"`),!1;e.debug(`Data query, modelId: "${s.id}", urlPath: "${r.pageUrl}"`);let o=new URL("https://cdn.builder.io/api/v3/data");o.searchParams.set("limit","1"),o.searchParams.set("cachebust","true"),o.searchParams.set("collection","content"),o.searchParams.set("query.published.$ne","archived"),o.searchParams.set("query.query.$elemMatch.$and[0].property","urlPath"),o.searchParams.set("query.query.$elemMatch.$and[0].operator","is"),o.searchParams.set("query.query.$elemMatch.$and[0].value",r.pageUrl),o.searchParams.set("query.modelId",s.id),o.searchParams.set("apiKey",r.publicApiKey);let a=await as({url:o,method:"GET"});return e.debug(`Data results (${a.results.length}): ${o.href}`),a.results.length>0}async function RD(e,r){let t=new URL(`https://cdn.builder.io/api/v3/content/${r.model}`);t.searchParams.set("apiKey",r.publicApiKey),t.searchParams.set("cachebust","true"),t.searchParams.set("cb",Date.now().toString()),r.pageUrl&&(t.searchParams.set("url",r.pageUrl),e.debug(`get model: "${r.model}", pageUrl: "${r.pageUrl}":`,t.href)),r.id&&(t.searchParams.set("query.id",r.id),e.debug(`get model: "${r.model}", id: "${r.id}":`,t.href));let n=await as({url:t,method:"GET"});return e.debug(`get content results: ${n.results.length}`),n}async function LD(e,r){let t=new URL(`https://cdn.builder.io/api/v1/write/${r.model}`);e.debug(`writing "${r.model}" content:`,t.href),await as({url:t,method:"POST",headers:{Authorization:`Bearer ${r.privateAuthKey}`},body:r.body})}b();var ls="page",BD="integration-welcome-screens",MD="8d9ee72a33344b4b867918b442ebd0af";async function $D(e,r){let t=await RD(e,{model:BD,publicApiKey:MD,id:r.templateContentId});if(!Array.isArray(t?.results)||t.results.length===0||!t.results[0].data?.blocks)throw new Error(`No Builder content found for id ${r.templateContentId}`);let n=JSON.stringify(t.results[0].data.blocks),i=U1(r.publicApiKey,r.pathname,r.title,n);await LD(e,{privateAuthKey:r.privateAuthKey,model:ls,body:i})}function U1(e,r,t,n){return JSON.stringify({name:t,ownerId:e,published:"published",query:[{property:"urlPath",value:[r],operator:"is"}],data:{title:t,blocksString:n}})}async function UD(e,r,t,n){e.debug(`connect builder with public key: ${r}`),e.publicApiKey=r;let i=e.closeAppServer(),s=await e.setPublicApiKey({publicApiKey:r});e.debug(`set public key: process.env.${s.envKey}=${r}`),process.env[s.envKey]=r;let o=await e.builderPageOptions();e.debug(`builder model: ${ls}, path: ${o.pathname}, template: ${o.templateContentId}`);let a=await OD(e,{model:ls,pageUrl:o.pathname,publicApiKey:r,privateAuthKey:t,kind:n});if(!a){await $D(e,{templateContentId:o.templateContentId,pathname:o.pathname,title:o.title,publicApiKey:r,privateAuthKey:t});let c=5,p=0;for(;!a&&p<c;){await new Promise(m=>setTimeout(m,1e3));let d=await _D({model:ls,pageUrl:o.pathname,publicApiKey:r,privateAuthKey:t});p++,d&&d.length>0&&(a=!0)}}await i,e.debug("ensure builder setup");let l=[];n===Ss.VCP?l=await e.ensureFigmaImportPage():l=await e.ensureBuilderSetup(),s.modifiedType&&l.push({filePath:s.file,modifiedType:s.modifiedType}),l.forEach(c=>{c.displayFilePath=e.relative(e.getAppRootDir(),c.filePath)}),l.sort((c,p)=>c.filePath.localeCompare(p.filePath)),l.length>0?(e.debug(`modified files: ${l.map(c=>c.displayFilePath).join(", ")}`),await e.restartAppServer(),await new Promise(c=>setTimeout(c,500))):e.debug("no modified files");let u={success:!0,pathname:o.localePathname||o.pathname,modifiedFiles:l,platform:e.platform(),kind:n};return n===Ss.VCP&&(u.pathname="/"),e.debug(`connected builder: ${u.pathname}`),u}async function jD(e){let r=await e.builderPageOptions();e.debug(`validateBuilder, pathname: ${r.pathname}, localePathname: ${r.localePathname}, isValid: ${e.isValid}`);let t={isValid:e.isValid,pathname:r.localePathname||r.pathname,platform:e.platform()};if(e.isValid)return t;let n=await e.getPublicApiKey();return n.envValue?(e.debug(`public api key: ${n.envValue}, ${n.file}`),e.publicApiKey=n.envValue,e.debug("builder connection is valid"),t.isValid=!0,e.isValid=!0,t):(e.debug("missing public api key"),t)}async function KD(e,r){let t={type:r.type};switch(r.type){case"getCache":{t.data=await e.getCache();break}case"setCache":{await e.setCache(r.data);break}case"connectBuilder":{t.data=await UD(e,r.data.publicApiKey,r.data.privateAuthKey,r.data.kind);break}case"enableDevTools":{t.data=V1(e,r.data.enabled);break}case"getRegistry":{t.data=await e.getRegistry(r.data);break}case"launchEditor":{t.data=await e.launchEditor(r.data);break}case"validateBuilder":{t.data=await jD(e);break}case"loadComponent":{t.data=await e.loadComponent(r.data);break}case"registerComponent":{t.data=await e.registerComponent(r.data),e.serverShouldRestart=!0;break}case"setComponentInfo":{t.data=await e.setRegisteredComponentInfo(r.data),e.serverShouldRestart=!0;break}case"setComponentInput":{t.data=await e.setRegisteredComponentInput(r.data),e.serverShouldRestart=!0;break}case"unregisterComponent":{t.data=await e.unregisterComponent(r.data),e.serverShouldRestart=!0;break}case"getFrameworks":{t.data=e.getFrameworks();break}case"readdir":{Up(e,r.path)?t.data=await e.readdir(r.path,!0):t.errors=[`Invalid file request: ${r.path}`];break}case"readFile":{Up(e,r.path)?t.data=await e.readFile(r.path):t.errors=[`Invalid file request: ${r.path}`];break}case"writeFile":{Up(e,r.path)?await e.writeFile(r.path,r.content):t.errors=[`Invalid file request: ${r.path}`];break}case"ensureFigmaImportPage":{t.data=await e.ensureFigmaImportPage();break}case"transileFile":{t.data=await hf(e,r);break}case"transileModule":{t.data=iu(e,r);break}case"getPastSyncInfo":{t.data=await e.getPastSyncInfo?.(r.data);break}case"resyncSnippet":{t.data=await e.resyncSnippet?.(r.data);break}case"localConfig":{t.data=await os();break}default:{t.errors=[`Unknown request type: ${JSON.stringify(r)}`];let n=r}}return t}function Up(e,r){if(!r||r.includes(".."))return!1;r=r.replace(/\\/g,"/");let t=r.split("/"),n=t[t.length-1];if(n.length>0){let i=n.split(".").pop();if(i&&(i=`.${i}`.toLocaleLowerCase(),i=i.split("?")[0],!K1.includes(i)))return!1}return j1(e,r),!1}function j1(e,r){if(!r)return!1;r=e.normalize(e.resolve(r));let t=e.getAppRootDir();return!(!r.startsWith(t)&&!r.includes("node_modules"))}var K1=[".js",".jsx",".ts",".tsx",".json",".css",".scss",".sass",".less",".html",".htm",".xml",".svg",".png",".jpg",".jpeg",".gif",".ico",".webp",".woff",".woff2",".ttf",".eot",".mp4",".webm",".ogg",".md",".txt",".csv",".pdf"];function V1(e,r){return!r&&e.serverShouldRestart&&setTimeout(()=>{console.log(`
Restarting server after Builder Devtools update...
`),e.restartAppServer()},10),e.enableAppWatch(!r),{enabled:r,platform:e.platform()}}b();async function VD(e){return qD(e,`"use strict";(()=>{var fi=Object.create;var Mt=Object.defineProperty;var mi=Object.getOwnPropertyDescriptor;var vi=Object.getOwnPropertyNames;var gi=Object.getPrototypeOf,hi=Object.prototype.hasOwnProperty;var yi=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),bi=(t,e)=>{for(var r in e)Mt(t,r,{get:e[r],enumerable:!0})},Ei=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vi(e))!hi.call(t,i)&&i!==r&&Mt(t,i,{get:()=>e[i],enumerable:!(n=mi(e,i))||n.enumerable});return t};var _i=(t,e,r)=>(r=t!=null?fi(gi(t)):{},Ei(e||!t||!t.__esModule?Mt(r,"default",{value:t,enumerable:!0}):r,t));var jn=yi((Qe,Ct)=>{(function(t,e){"use strict";var r="0.7.33",n="",i="?",o="function",s="undefined",u="object",d="string",p="major",a="model",c="name",l="type",f="vendor",m="version",_="architecture",b="console",v="mobile",y="tablet",T="smarttv",L="wearable",k="embedded",w=350,C="Amazon",R="Apple",K="ASUS",z="BlackBerry",Q="Browser",P="Chrome",Ce="Edge",ce="Firefox",_e="Google",Me="Huawei",Re="LG",Oe="Microsoft",Be="Motorola",Te="Opera",we="Samsung",ke="Sharp",fe="Sony",me="Xiaomi",Ve="Zebra",U="Facebook",et=function(S,O){var I={};for(var q in S)O[q]&&O[q].length%2===0?I[q]=O[q].concat(S[q]):I[q]=S[q];return I},tt=function(S){for(var O={},I=0;I<S.length;I++)O[S[I].toUpperCase()]=S[I];return O},Pr=function(S,O){return typeof S===d?Fe(O).indexOf(Fe(S))!==-1:!1},Fe=function(S){return S.toLowerCase()},di=function(S){return typeof S===d?S.replace(/[^\\d\\.]/g,n).split(".")[0]:e},Nt=function(S,O){if(typeof S===d)return S=S.replace(/^\\s\\s*/,n),typeof O===s?S:S.substring(0,w)},He=function(S,O){for(var I=0,q,x,nt,D,qe,ie;I<O.length&&!qe;){var Or=O[I],kr=O[I+1];for(q=x=0;q<Or.length&&!qe;)if(qe=Or[q++].exec(S),qe)for(nt=0;nt<kr.length;nt++)ie=qe[++x],D=kr[nt],typeof D===u&&D.length>0?D.length===2?typeof D[1]==o?this[D[0]]=D[1].call(this,ie):this[D[0]]=D[1]:D.length===3?typeof D[1]===o&&!(D[1].exec&&D[1].test)?this[D[0]]=ie?D[1].call(this,ie,D[2]):e:this[D[0]]=ie?ie.replace(D[1],D[2]):e:D.length===4&&(this[D[0]]=ie?D[3].call(this,ie.replace(D[1],D[2])):e):this[D]=ie||e;I+=2}},Ut=function(S,O){for(var I in O)if(typeof O[I]===u&&O[I].length>0){for(var q=0;q<O[I].length;q++)if(Pr(O[I][q],S))return I===i?e:I}else if(Pr(O[I],S))return I===i?e:I;return S},pi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Cr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Rr={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[m,[c,"Chrome"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[m,[c,"Edge"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[c,m],[/opios[\\/ ]+([\\w\\.]+)/i],[m,[c,Te+" Mini"]],[/\\bopr\\/([\\w\\.]+)/i],[m,[c,Te]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[c,m],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[m,[c,"UC"+Q]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[m,[c,"WeChat(Win) Desktop"]],[/micromessenger\\/([\\w\\.]+)/i],[m,[c,"WeChat"]],[/konqueror\\/([\\w\\.]+)/i],[m,[c,"Konqueror"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[m,[c,"IE"]],[/yabrowser\\/([\\w\\.]+)/i],[m,[c,"Yandex"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[c,/(.+)/,"$1 Secure "+Q],m],[/\\bfocus\\/([\\w\\.]+)/i],[m,[c,ce+" Focus"]],[/\\bopt\\/([\\w\\.]+)/i],[m,[c,Te+" Touch"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[m,[c,"Coc Coc"]],[/dolfin\\/([\\w\\.]+)/i],[m,[c,"Dolphin"]],[/coast\\/([\\w\\.]+)/i],[m,[c,Te+" Coast"]],[/miuibrowser\\/([\\w\\.]+)/i],[m,[c,"MIUI "+Q]],[/fxios\\/([-\\w\\.]+)/i],[m,[c,ce]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+Q]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[c,/(.+)/,"$1 "+Q],m],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[c,/_/g," "],m],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[c,m],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[c],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[c,U],m],[/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[c,m],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[m,[c,"GSA"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[m,[c,P+" Headless"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[c,P+" WebView"],m],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[m,[c,"Android "+Q]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[c,m],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[m,[c,"Mobile Safari"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[m,c],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[c,[m,Ut,pi]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[c,m],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[c,"Netscape"],m],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[m,[c,ce+" Reality"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i],[c,m],[/(cobalt)\\/([\\w\\.]+)/i],[c,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,Fe]],[/((?:i[346]|x)86)[;\\)]/i],[[_,"ia32"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[_,"arm64"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[_,/ower/,n,Fe]],[/(sun4\\w)[;\\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[_,Fe]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[f,we],[l,y]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[a,[f,we],[l,v]],[/((ipod|iphone)\\d+,\\d+)/i],[a,[f,R],[l,v]],[/(ipad\\d+,\\d+)/i],[a,[f,R],[l,y]],[/\\((ip(?:hone|od)[\\w ]*);/i],[a,[f,R],[l,v]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[a,[f,R],[l,y]],[/(macintosh);/i],[a,[f,R]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[a,[f,Me],[l,y]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[a,[f,Me],[l,v]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[a,/_/g," "],[f,me],[l,v]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[a,/_/g," "],[f,me],[l,y]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[a,[f,"OPPO"],[l,v]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[a,[f,"Vivo"],[l,v]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[a,[f,"Realme"],[l,v]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[a,[f,Be],[l,v]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[a,[f,Be],[l,y]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[f,Re],[l,y]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[a,[f,Re],[l,v]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[a,[f,"Lenovo"],[l,y]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[a,/_/g," "],[f,"Nokia"],[l,v]],[/(pixel c)\\b/i],[a,[f,_e],[l,y]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[a,[f,_e],[l,v]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[a,[f,fe],[l,v]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[a,"Xperia Tablet"],[f,fe],[l,y]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[a,[f,"OnePlus"],[l,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[a,[f,C],[l,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[a,/(.+)/g,"Fire Phone $1"],[f,C],[l,v]],[/(playbook);[-\\w\\),; ]+(rim)/i],[a,f,[l,y]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[a,[f,z],[l,v]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[a,[f,K],[l,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[a,[f,K],[l,v]],[/(nexus 9)/i],[a,[f,"HTC"],[l,y]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i],[f,[a,/_/g," "],[l,v]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[a,[f,"Acer"],[l,y]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[a,[f,"Meizu"],[l,v]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[a,[f,ke],[l,v]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[f,a,[l,v]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[f,a,[l,y]],[/(surface duo)/i],[a,[f,Oe],[l,y]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[a,[f,"Fairphone"],[l,v]],[/(u304aa)/i],[a,[f,"AT&T"],[l,v]],[/\\bsie-(\\w*)/i],[a,[f,"Siemens"],[l,v]],[/\\b(rct\\w+) b/i],[a,[f,"RCA"],[l,y]],[/\\b(venue[\\d ]{2,7}) b/i],[a,[f,"Dell"],[l,y]],[/\\b(q(?:mv|ta)\\w+) b/i],[a,[f,"Verizon"],[l,y]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[a,[f,"Barnes & Noble"],[l,y]],[/\\b(tm\\d{3}\\w+) b/i],[a,[f,"NuVision"],[l,y]],[/\\b(k88) b/i],[a,[f,"ZTE"],[l,y]],[/\\b(nx\\d{3}j) b/i],[a,[f,"ZTE"],[l,v]],[/\\b(gen\\d{3}) b.+49h/i],[a,[f,"Swiss"],[l,v]],[/\\b(zur\\d{3}) b/i],[a,[f,"Swiss"],[l,y]],[/\\b((zeki)?tb.*\\b) b/i],[a,[f,"Zeki"],[l,y]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[f,"Dragon Touch"],a,[l,y]],[/\\b(ns-?\\w{0,9}) b/i],[a,[f,"Insignia"],[l,y]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[a,[f,"NextBook"],[l,y]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],a,[l,v]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[f,"LvTel"],a,[l,v]],[/\\b(ph-1) /i],[a,[f,"Essential"],[l,v]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[a,[f,"Envizen"],[l,y]],[/\\b(trio[-\\w\\. ]+) b/i],[a,[f,"MachSpeed"],[l,y]],[/\\btu_(1491) b/i],[a,[f,"Rotor"],[l,y]],[/(shield[\\w ]+) b/i],[a,[f,"Nvidia"],[l,y]],[/(sprint) (\\w+)/i],[f,a,[l,v]],[/(kin\\.[onetw]{3})/i],[[a,/\\./g," "],[f,Oe],[l,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[a,[f,Ve],[l,y]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[a,[f,Ve],[l,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,a,[l,b]],[/droid.+; (shield) bui/i],[a,[f,"Nvidia"],[l,b]],[/(playstation [345portablevi]+)/i],[a,[f,fe],[l,b]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[a,[f,Oe],[l,b]],[/smart-tv.+(samsung)/i],[f,[l,T]],[/hbbtv.+maple;(\\d+)/i],[[a,/^/,"SmartTV"],[f,we],[l,T]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[f,Re],[l,T]],[/(apple) ?tv/i],[f,[a,R+" TV"],[l,T]],[/crkey/i],[[a,P+"cast"],[f,_e],[l,T]],[/droid.+aft(\\w)( bui|\\))/i],[a,[f,C],[l,T]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[a,[f,ke],[l,T]],[/(bravia[\\w ]+)( bui|\\))/i],[a,[f,fe],[l,T]],[/(mitv-\\w{5}) bui/i],[a,[f,me],[l,T]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i],[[f,Nt],[a,Nt],[l,T]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[l,T]],[/((pebble))app/i],[f,a,[l,L]],[/droid.+; (glass) \\d/i],[a,[f,_e],[l,L]],[/droid.+; (wt63?0{2,3})\\)/i],[a,[f,Ve],[l,L]],[/(quest( 2)?)/i],[a,[f,U],[l,L]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[f,[l,k]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[a,[l,v]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[a,[l,y]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[l,y]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[l,v]],[/(android[-\\w\\. ]{0,9});.+buil/i],[a,[f,"Generic"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[m,[c,Ce+"HTML"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[m,[c,"Blink"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[c,m],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[m,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,m],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[c,[m,Ut,Cr]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[c,"Windows"],[m,Ut,Cr]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[m,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[c,"Mac OS"],[m,/_/g,"."]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[m,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[c,m],[/\\(bb(10);/i],[m,[c,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[m,[c,"Symbian"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[m,[c,ce+" OS"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[m,[c,"webOS"]],[/crkey\\/([\\d\\.]+)/i],[m,[c,P+"cast"]],[/(cros) [\\w]+ ([\\w\\.]+\\w)/i],[[c,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[c,m],[/(sunos) ?([\\w\\.\\d]*)/i],[[c,"Solaris"],m],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[c,m]]},Z=function(S,O){if(typeof S===u&&(O=S,S=e),!(this instanceof Z))return new Z(S,O).getResult();var I=S||(typeof t!==s&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:n),q=O?et(Rr,O):Rr;return this.getBrowser=function(){var x={};return x[c]=e,x[m]=e,He.call(x,I,q.browser),x.major=di(x.version),x},this.getCPU=function(){var x={};return x[_]=e,He.call(x,I,q.cpu),x},this.getDevice=function(){var x={};return x[f]=e,x[a]=e,x[l]=e,He.call(x,I,q.device),x},this.getEngine=function(){var x={};return x[c]=e,x[m]=e,He.call(x,I,q.engine),x},this.getOS=function(){var x={};return x[c]=e,x[m]=e,He.call(x,I,q.os),x},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return I},this.setUA=function(x){return I=typeof x===d&&x.length>w?Nt(x,w):x,this},this.setUA(I),this};Z.VERSION=r,Z.BROWSER=tt([c,m,p]),Z.CPU=tt([_]),Z.DEVICE=tt([a,f,l,b,v,T,y,L,k]),Z.ENGINE=Z.OS=tt([c,m]),typeof Qe!==s?(typeof Ct!==s&&Ct.exports&&(Qe=Ct.exports=Z),Qe.UAParser=Z):typeof define===o&&define.amd?define(function(){return Z}):typeof t!==s&&(t.UAParser=Z);var Ae=typeof t!==s&&(t.jQuery||t.Zepto);if(Ae&&!Ae.ua){var rt=new Z;Ae.ua=rt.getResult(),Ae.ua.get=function(){return rt.getUA()},Ae.ua.set=function(S){rt.setUA(S);var O=rt.getResult();for(var I in O)Ae.ua[I]=O[I]}}})(typeof window=="object"?window:Qe)});var oe=(t,e)=>{Vt(t);let r=t.querySelector("aside");r.dataset.view=e,r.classList.remove("section-ready"),setTimeout(()=>{r.classList.add("section-ready")},200)},Ar=t=>{Array.from(t.querySelectorAll(".back-button")).forEach(e=>{e.addEventListener("click",r=>{Vt(t),r.preventDefault(),r.stopPropagation();let n=r.target;oe(t,n?.dataset.back||"nav-home")})})},Bt=(t,e)=>{Vt(t);let r=t.querySelector("aside"),n=document.createElement("div");n.className="ui-toast",n.innerHTML=e,r.appendChild(n),setTimeout(()=>{n.classList.add("ui-toast-show"),setTimeout(()=>{n.classList.remove("ui-toast-show"),setTimeout(()=>{n.remove()},500)},4e3)},30)},Vt=t=>{let e=t.querySelector("aside");Array.from(e.querySelectorAll(".ui-toast")).forEach(n=>{n.classList.remove("ui-toast-show")})},it=()=>{let t=Dr();return localStorage.getItem(t)!=="true"},Ft=t=>{let e=Dr();t?localStorage.removeItem(e):localStorage.setItem(e,"true")},Dr=()=>Ti("disableEdit"),Ti=t=>\`builder.__LOCAL_APP_ID__.\${t}\`,Nr=()=>{let e=document.body.querySelector("[builder-content-id]")?.getAttribute("builder-content-id");return je(e)},je=(t,e)=>{let r="/content";t&&(r+="/"+t+"/edit");let n=new URL(r,"https://builder.io");t&&e&&n.searchParams.set("selectedBlock",e);let i=new URL(location.pathname,location.href);return n.searchParams.set("overridePreviewUrl",i.href),n.href},ot="__DEV_TOOLS_URL__",G={components:[],registryPath:"",registryDisplayPath:"",frameworks:[],dependencies:[],publicApiKey:void 0,devToolsVersion:""},le=t=>{G.components=t.components,G.registryPath=t.registryPath,G.registryDisplayPath=t.registryDisplayPath,G.dependencies=t.dependencies,G.publicApiKey=t.publicApiKey};function Ur(t){let e=null,r=document.querySelector("builder-dev-tools-menu"),n=()=>{t.hide()},i=u=>{let d=u.target;if(!d){n();return}if(d.closest("builder-dev-tools-edit"))return;let p=d.closest("[builder-content-id]"),a=d.closest("[builder-id]");if(!p||!a){t.hide();return}let c=t.show(p,a);!c||c===e||(r.highlightOpener(),e=c)};document.addEventListener("pointerover",i,{passive:!0}),document.addEventListener("pointerleave",n,{passive:!0}),document.addEventListener("pointercancel",n,{passive:!0}),document.addEventListener("visibilitychange",n,{passive:!0}),window.addEventListener("popstate",n,{passive:!0});let o=history.pushState;history.pushState=function(...u){t.hide(),o.apply(this,u)};let s=history.replaceState;history.replaceState=function(...u){t.hide(),s.apply(this,u)}}var st=class extends HTMLElement{openInBuilder=null;block=null;constructor(){super()}connectedCallback(){this.setAttribute("aria-hidden","true");let e=this.attachShadow({mode:"open"});e.innerHTML='<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}:host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}#content-highlight,#block{position:absolute}#content-highlight{border:3px solid var(--primary-color);background-color:var(--primary-color-alpha)}a{position:absolute;top:-33px;left:0;display:block;padding:5px 10px 8px;pointer-events:auto;z-index:100;text-decoration:none}a:hover{text-decoration:none}a span{display:block;padding:3px 6px;font-size:10px;font-weight:300;border-radius:3px;text-align:center;text-decoration:none;pointer-events:none;background-color:var(--edit-color);color:var(--text-color);white-space:nowrap}a:hover span{background-color:var(--edit-color-highlight)}a:hover~.outline{border-color:var(--edit-color-highlight)}#open-in-editor{display:none}.outline{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid var(--edit-color);background-color:var(--edit-color-alpha)}</style><div id="block"> <a id="open-in-builder" target="builder"><span>Open In Builder</span></a> <a id="open-in-editor" href="#open-in-editor"><span>Open In Editor</span></a> <div class="outline"></div> </div>',this.openInBuilder=e.getElementById("open-in-builder"),this.block=e.getElementById("block"),Ur(this)}show(e,r){if(!it())return this.hide(),null;let n=e.getAttribute("builder-content-id"),i=r.getAttribute("builder-id");if(!n||!i)return this.hide(),null;let o=this.block,s=this.openInBuilder,u=r.getBoundingClientRect();o.style.top=u.top+window.scrollY-1+"px",o.style.left=u.left+window.scrollX+"px",o.style.width=u.width+"px",o.style.height=u.height+1+"px";let d=s.getBoundingClientRect();if(d.width>u.width){let p=d.width-u.width;s.style.left=p/2*-1+"px"}else s.style.left="";return s.href=je(n,i),this.style.display="block",i}hide(){this.style.display=""}};var Mr="preview-url";var Br="_b-uid";var Vr="/~builder-connect";var Fr="/~builder-dev-tools";var Hr="https://cdn.builder.io/api/v1/proxy-api?url=https://api2.amplitude.com/2/httpapi";var qr=()=>se({type:"validateBuilder"}),De=t=>se({type:"launchEditor",data:t}),jr=t=>se({type:"getRegistry",data:t}),Gr=t=>se({type:"loadComponent",data:t}),Kr=t=>se({type:"registerComponent",data:t}),Wr=t=>se({type:"setComponentInfo",data:t}),at=t=>se({type:"setComponentInput",data:t}),$r=t=>se({type:"unregisterComponent",data:t}),Yr=t=>se({type:"enableDevTools",data:{enabled:t}}),zr=()=>se({type:"localConfig"}),se=async t=>{let e=new URL(Fr,ot),r;try{r=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(i){throw console.error(\`Devtools Fetch Error, \${e.href}\`,i),new Error("Builder Devtools Fetch Error")}if((r.headers.get("content-type")||"").includes("application/json")){let i=await r.json();if(r.ok)return i.data;if(Array.isArray(i.errors)&&i.errors.length>0)throw i.errors.forEach(o=>console.error(o)),new Error(\`Builder Devtools Fetch Error: \${i.errors[0]}\`)}throw new Error(\`Builder Devtools Fetch Error: \${r.status}, \${await r.text()}\`)};var Qr=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}],ut=["color","date","email","file","longText","richText","string"],ct=["number"],lt=["boolean"],dt=["list"],pt=["object"];function ft(t){return ut.includes(t)?"string":ct.includes(t)?"number":lt.includes(t)?"boolean":dt.includes(t)?"array":pt.includes(t)?"object":"string"}var Io=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(t=>t.toLowerCase()));var Ht=function(t,e){return Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ht(t,e)};function ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ht(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var E=function(){return E=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},E.apply(this,arguments)};function Ge(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function g(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(a){try{p(n.next(a))}catch(c){s(c)}}function d(a){try{p(n.throw(a))}catch(c){s(c)}}function p(a){a.done?o(a.value):i(a.value).then(u,d)}p((n=n.apply(t,e||[])).next())})}function h(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(p){return function(a){return d([p,a])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){r.label=p[1];break}if(p[0]===6&&r.label<o[1]){r.label=o[1],o=p;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(p);break}o[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(t,r)}catch(a){p=[6,a],i=0}finally{n=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function J(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function ee(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var mt={};bi(mt,{IdentifyOperation:()=>B,LogLevel:()=>Y,PluginType:()=>N,RevenueProperty:()=>re,ServerZone:()=>Se,SpecialEventType:()=>de,Status:()=>M,TransportType:()=>Ie});var B;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(B||(B={}));var re;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE_CURRENCY="$currency",t.REVENUE="$revenue"})(re||(re={}));var de;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(de||(de={}));var Y;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(Y||(Y={}));var N;(function(t){t.BEFORE="before",t.ENRICHMENT="enrichment",t.DESTINATION="destination"})(N||(N={}));var Se;(function(t){t.US="US",t.EU="EU",t.STAGING="STAGING"})(Se||(Se={}));var M;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(M||(M={}));var Ie;(function(t){t.XHR="xhr",t.SendBeacon="beacon",t.Fetch="fetch"})(Ie||(Ie={}));var qt="-",xe="AMP",jt="".concat(xe,"_unsent"),Gt="https://api2.amplitude.com/2/httpapi",Xr="https://api.eu.amplitude.com/2/httpapi",Zr="https://api2.amplitude.com/batch",Jr="https://api.eu.amplitude.com/batch";var wi=1e3,vt=function(t){if(Object.keys(t).length>wi)return!1;for(var e in t){var r=t[e];if(!Kt(e,r))return!1}return!0},Kt=function(t,e){var r,n;if(typeof t!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var o=J(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(Array.isArray(u))return!1;if(typeof u=="object")i=i&&vt(u);else if(!["number","string"].includes(typeof u))return!1;if(!i)return!1}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}else{if(e==null)return!1;if(typeof e=="object")return vt(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0};var ne=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return E({},this._properties)},t.prototype.set=function(e,r){return this._safeSet(B.SET,e,r),this},t.prototype.setOnce=function(e,r){return this._safeSet(B.SET_ONCE,e,r),this},t.prototype.append=function(e,r){return this._safeSet(B.APPEND,e,r),this},t.prototype.prepend=function(e,r){return this._safeSet(B.PREPEND,e,r),this},t.prototype.postInsert=function(e,r){return this._safeSet(B.POSTINSERT,e,r),this},t.prototype.preInsert=function(e,r){return this._safeSet(B.PREINSERT,e,r),this},t.prototype.remove=function(e,r){return this._safeSet(B.REMOVE,e,r),this},t.prototype.add=function(e,r){return this._safeSet(B.ADD,e,r),this},t.prototype.unset=function(e){return this._safeSet(B.UNSET,e,qt),this},t.prototype.clearAll=function(){return this._properties={},this._properties[B.CLEAR_ALL]=qt,this},t.prototype._safeSet=function(e,r,n){if(this._validate(e,r,n)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[r]=n,this._propertySet.add(r),!0}return!1},t.prototype._validate=function(e,r,n){return this._properties[B.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:e===B.ADD?typeof n=="number":e!==B.UNSET&&e!==B.REMOVE?Kt(r,n):!0},t}();var en=function(t,e,r){var n=typeof t=="string"?{event_type:t}:t;return E(E(E({},n),r),e&&{event_properties:e})},Ke=function(t,e){var r=E(E({},e),{event_type:de.IDENTIFY,user_properties:t.getUserProperties()});return r},tn=function(t,e,r,n){var i,o=E(E({},n),{event_type:de.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return o},rn=function(t,e,r){var n,i=new ne;i.set(t,e);var o=E(E({},r),{event_type:de.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[t]=e,n)});return o},nn=function(t,e){return E(E({},e),{event_type:de.REVENUE,event_properties:t.getEventProperties()})};var ve=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=M.Unknown),{event:t,code:e,message:r}};var on=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,r){return g(this,void 0,void 0,function(){return h(this,function(n){switch(n.label){case 0:return[4,e.setup(r,this.client)];case 1:return n.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e,r){var n;return g(this,void 0,void 0,function(){var i,o;return h(this,function(s){switch(s.label){case 0:return i=this.plugins.findIndex(function(u){return u.name===e}),i===-1?(r.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2]):(o=this.plugins[i],this.plugins.splice(i,1),[4,(n=o.teardown)===null||n===void 0?void 0:n.call(o)]);case 1:return s.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var r=this;return new Promise(function(n){r.queue.push([e,n]),r.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},e))},t.prototype.apply=function(e){return g(this,void 0,void 0,function(){var r,n,i,o,s,u,d,f,m,p,a,c,l,f,m,_,b,v,y,T,L,k;return h(this,function(w){switch(w.label){case 0:if(!e)return[2];r=A(e,1),n=r[0],i=A(e,2),o=i[1],s=this.plugins.filter(function(C){return C.type===N.BEFORE}),w.label=1;case 1:w.trys.push([1,6,7,8]),u=J(s),d=u.next(),w.label=2;case 2:return d.done?[3,5]:(f=d.value,[4,f.execute(E({},n))]);case 3:if(m=w.sent(),m===null)return o({event:n,code:0,message:""}),[2];n=m,w.label=4;case 4:return d=u.next(),[3,2];case 5:return[3,8];case 6:return p=w.sent(),y={error:p},[3,8];case 7:try{d&&!d.done&&(T=u.return)&&T.call(u)}finally{if(y)throw y.error}return[7];case 8:a=this.plugins.filter(function(C){return C.type===N.ENRICHMENT}),w.label=9;case 9:w.trys.push([9,14,15,16]),c=J(a),l=c.next(),w.label=10;case 10:return l.done?[3,13]:(f=l.value,[4,f.execute(E({},n))]);case 11:if(m=w.sent(),m===null)return o({event:n,code:0,message:""}),[2];n=m,w.label=12;case 12:return l=c.next(),[3,10];case 13:return[3,16];case 14:return _=w.sent(),L={error:_},[3,16];case 15:try{l&&!l.done&&(k=c.return)&&k.call(c)}finally{if(L)throw L.error}return[7];case 16:return b=this.plugins.filter(function(C){return C.type===N.DESTINATION}),v=b.map(function(C){var R=E({},n);return C.execute(R).catch(function(K){return ve(R,0,String(K))})}),Promise.all(v).then(function(C){var R=A(C,1),K=R[0];o(K)}),[2]}})})},t.prototype.flush=function(){return g(this,void 0,void 0,function(){var e,r,n,i=this;return h(this,function(o){switch(o.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(s){return i.apply(s)}))];case 1:return o.sent(),r=this.plugins.filter(function(s){return s.type===N.DESTINATION}),n=r.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(n)];case 2:return o.sent(),[2]}})})},t}();var sn="Event tracked successfully",an="Unexpected error occurred",un="Event rejected due to exceeded retry count",cn="Event skipped due to optOut config",ln="Event rejected due to missing API key",dn="Invalid API key",pn="Client not initialized";var X=function(t){return{promise:t||Promise.resolve()}};var Wt=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new on(this),this.name=e}return t.prototype._init=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){switch(r.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return r.sent(),[2]}})})},t.prototype.runQueuedFunctions=function(e){return g(this,void 0,void 0,function(){var r,n,i,o,s,u,d;return h(this,function(p){switch(p.label){case 0:r=this[e],this[e]=[],p.label=1;case 1:p.trys.push([1,6,7,8]),n=J(r),i=n.next(),p.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,o()]);case 3:p.sent(),p.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return s=p.sent(),u={error:s},[3,8];case 7:try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(u)throw u.error}return[7];case 8:return[2]}})})},t.prototype.track=function(e,r,n){var i=en(e,r,n);return X(this.dispatch(i))},t.prototype.identify=function(e,r){var n=Ke(e,r);return X(this.dispatch(n))},t.prototype.groupIdentify=function(e,r,n,i){var o=tn(e,r,n,i);return X(this.dispatch(o))},t.prototype.setGroup=function(e,r,n){var i=rn(e,r,n);return X(this.dispatch(i))},t.prototype.revenue=function(e,r){var n=nn(e,r);return X(this.dispatch(n))},t.prototype.add=function(e){return this.config?X(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),X())},t.prototype.remove=function(e){return this.config?X(this.timeline.deregister(e,this.config)):(this.q.push(this.remove.bind(this,e)),X())},t.prototype.dispatchWithCallback=function(e,r){if(!this.config)return r(ve(e,0,pn));this.process(e).then(r)},t.prototype.dispatch=function(e){return g(this,void 0,void 0,function(){var r=this;return h(this,function(n){return this.config?[2,this.process(e)]:[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,i))})]})})},t.prototype.process=function(e){return g(this,void 0,void 0,function(){var i,r,n,i;return h(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.config.optOut?[2,ve(e,0,cn)]:[4,this.timeline.push(e)];case 1:return i=o.sent(),i.code===200?this.config.loggerProvider.log(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return r=o.sent(),this.config.loggerProvider.error(r),n=String(r),i=ve(e,0,n),[2,i];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,!!e));return}this.config.optOut=!!e},t.prototype.flush=function(){return X(this.timeline.flush())},t}();var gt=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setCurrency=function(e){return this.currency=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return vt(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?E({},this.properties):{};return e[re.REVENUE_PRODUCT_ID]=this.productId,e[re.REVENUE_QUANTITY]=this.quantity,e[re.REVENUE_PRICE]=this.price,e[re.REVENUE_TYPE]=this.revenueType,e[re.REVENUE_CURRENCY]=this.currency,e[re.REVENUE]=this.revenue,e},t}();var fn=function(t,e){var r=Math.max(e,1);return t.reduce(function(n,i,o){var s=Math.floor(o/r);return n[s]||(n[s]=[]),n[s].push(i),n},[])};var ht="Amplitude Logger ",mn=function(){function t(){this.logLevel=Y.None}return t.prototype.disable=function(){this.logLevel=Y.None},t.prototype.enable=function(e){e===void 0&&(e=Y.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Y.Verbose||console.log("".concat(ht,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Y.Warn||console.warn("".concat(ht,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Y.Error||console.error("".concat(ht,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<Y.Debug||console.log("".concat(ht,"[Debug]: ").concat(e.join(" ")))},t}();var yt=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Y.Warn,loggerProvider:new mn,optOut:!1,serverUrl:Gt,serverZone:Se.US,useBatch:!1}},$t=function(){function t(e){var r,n,i,o;this._optOut=!1;var s=yt();this.apiKey=e.apiKey,this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:s.useBatch,this.loggerProvider.enable(this.logLevel);var u=Yt(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=u.serverZone,this.serverUrl=u.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}();var Si=function(t,e){return t===Se.EU?e?Jr:Xr:e?Zr:Gt},Yt=function(t,e,r){if(t===void 0&&(t=""),e===void 0&&(e=yt().serverZone),r===void 0&&(r=yt().useBatch),t)return{serverUrl:t,serverZone:void 0};var n=["US","EU"].includes(e)?e:yt().serverZone;return{serverZone:n,serverUrl:Si(n,r)}};function Ii(t){return t instanceof Error?t.message:String(t)}function bt(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body))}catch{}return e}var zt=function(){function t(){this.name="amplitude",this.type=N.DESTINATION,this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return t.prototype.setup=function(e){var r;return g(this,void 0,void 0,function(){var n,i=this;return h(this,function(o){switch(o.label){case 0:return this.config=e,this.storageKey="".concat(jt,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=o.sent(),this.saveEvents(),n&&n.length>0&&Promise.all(n.map(function(s){return i.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var r=this;return new Promise(function(n){var i={event:e,attempts:0,callback:function(o){return n(o)},timeout:0};r.addToQueue(i)})},t.prototype.addToQueue=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r.filter(function(o){return o.attempts<e.config.flushMaxRetries?(o.attempts+=1,!0):(e.fulfillRequest([o],500,un),!1)});i.forEach(function(o){if(e.queue=e.queue.concat(o),o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0,e.schedule(0)},o.timeout)}),this.saveEvents()},t.prototype.schedule=function(e){var r=this;this.scheduled||(this.scheduled=setTimeout(function(){r.flush(!0).then(function(){r.queue.length>0&&r.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),g(this,void 0,void 0,function(){var r,n,i,o=this;return h(this,function(s){switch(s.label){case 0:return r=[],n=[],this.queue.forEach(function(u){return u.timeout===0?r.push(u):n.push(u)}),this.queue=n,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=fn(r,this.config.flushQueueSize),[4,Promise.all(i.map(function(u){return o.send(u,e)}))];case 1:return s.sent(),[2]}})})},t.prototype.send=function(e,r){return r===void 0&&(r=!0),g(this,void 0,void 0,function(){var n,i,o,s,u;return h(this,function(d){switch(d.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,ln)];n={api_key:this.config.apiKey,events:e.map(function(p){var a=p.event,c=a.extra,l=Ge(a,["extra"]);return l}),options:{min_id_length:this.config.minIdLength}},d.label=1;case 1:return d.trys.push([1,3,,4]),i=Yt(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,n)];case 2:return o=d.sent(),o===null?(this.fulfillRequest(e,0,an),[2]):r?(this.handleResponse(o,e),[3,4]):("body"in o?this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(bt(o))):this.fulfillRequest(e,o.statusCode,o.status),[2]);case 3:return s=d.sent(),this.config.loggerProvider.error(s),u=Ii(s),this.fulfillRequest(e,0,u),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,r){var n=e.status;switch(n){case M.Success:{this.handleSuccessResponse(e,r);break}case M.Invalid:{this.handleInvalidResponse(e,r);break}case M.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case M.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,sn)},t.prototype.handleInvalidResponse=function(e,r){var n=this;if(e.body.missingField||e.body.error.startsWith(dn)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var i=ee(ee(ee(ee([],A(Object.values(e.body.eventsWithInvalidFields)),!1),A(Object.values(e.body.eventsWithMissingFields)),!1),A(Object.values(e.body.eventsWithInvalidIdLengths)),!1),A(e.body.silencedEvents),!1).flat(),o=new Set(i),s=r.filter(function(u,d){if(o.has(d)){n.fulfillRequest([u],e.statusCode,e.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(bt(e)),this.addToQueue.apply(this,ee([],A(s),!1))},t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(bt(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,ee([],A(r),!1))},t.prototype.handleRateLimitResponse=function(e,r){var n=this,i=Object.keys(e.body.exceededDailyQuotaUsers),o=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,u=new Set(i),d=new Set(o),p=new Set(s),a=r.filter(function(c,l){if(c.event.user_id&&u.has(c.event.user_id)||c.event.device_id&&d.has(c.event.device_id)){n.fulfillRequest([c],e.statusCode,e.body.error);return}return p.has(l)&&(c.timeout=n.throttleTimeout),!0});a.length>0&&this.config.loggerProvider.warn(bt(e)),this.addToQueue.apply(this,ee([],A(a),!1))},t.prototype.handleOtherResponse=function(e){var r=this;this.addToQueue.apply(this,ee([],A(e.map(function(n){return n.timeout=n.attempts*r.retryTimeout,n})),!1))},t.prototype.fulfillRequest=function(e,r,n){this.saveEvents(),e.forEach(function(i){return i.callback(ve(i.event,r,n))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(r){return r.event}));this.config.storageProvider.set(this.storageKey,e)}},t}();var xi=function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(\`
\`).slice(2+t).map(function(r){return r.trim()})},V=function(t){return function(){var e=E({},t.config),r=e.loggerProvider,n=e.logLevel;return{logger:r,logLevel:n}}},Li=function(t,e){var r,n;e=e.replace(/\\[(\\w+)\\]/g,".$1"),e=e.replace(/^\\./,"");try{for(var i=J(e.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s in t)t=t[s];else return}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t},F=function(t,e){return function(){var r,n,i={};try{for(var o=J(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[u]=Li(t,u)}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}},H=function(t,e,r,n,i){return i===void 0&&(i=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=r(),d=u.logger,p=u.logLevel;if(p&&p<Y.Debug||!p||!d)return t.apply(i,o);var a={type:"invoke public method",name:e,args:o,stacktrace:xi(1),time:{start:new Date().toISOString()},states:{}};n&&a.states&&(a.states.before=n());var c=t.apply(i,o);return c&&c.promise?c.promise.then(function(){n&&a.states&&(a.states.after=n()),a.time&&(a.time.end=new Date().toISOString()),d.debug(JSON.stringify(a,null,2))}):(n&&a.states&&(a.states.after=n()),a.time&&(a.time.end=new Date().toISOString()),d.debug(JSON.stringify(a,null,2))),c}};var ge=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,ge)};var Et=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return g(this,void 0,void 0,function(){return h(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return g(this,void 0,void 0,function(){var r;return h(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},t.prototype.set=function(e,r){return g(this,void 0,void 0,function(){return h(this,function(n){return this.memoryStorage.set(e,r),[2]})})},t.prototype.remove=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return g(this,void 0,void 0,function(){return h(this,function(e){return this.memoryStorage.clear(),[2]})})},t}();var Le=function(){function t(){}return t.prototype.send=function(e,r){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var r,n,i,o,s,u,d,p,a,c,l,f,m,_,b,v,y,T,L,k,w,C;if(typeof e!="object")return null;var R=e.code||0,K=this.buildStatus(R);switch(K){case M.Success:return{status:K,statusCode:R,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case M.Invalid:return{status:K,statusCode:R,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(u=e.events_with_invalid_fields)!==null&&u!==void 0?u:{},eventsWithMissingFields:(d=e.events_with_missing_fields)!==null&&d!==void 0?d:{},eventsWithInvalidIdLengths:(p=e.events_with_invalid_id_lengths)!==null&&p!==void 0?p:{},epsThreshold:(a=e.eps_threshold)!==null&&a!==void 0?a:0,exceededDailyQuotaDevices:(c=e.exceeded_daily_quota_devices)!==null&&c!==void 0?c:{},silencedDevices:(l=e.silenced_devices)!==null&&l!==void 0?l:[],silencedEvents:(f=e.silenced_events)!==null&&f!==void 0?f:[],throttledDevices:(m=e.throttled_devices)!==null&&m!==void 0?m:{},throttledEvents:(_=e.throttled_events)!==null&&_!==void 0?_:[]}};case M.PayloadTooLarge:return{status:K,statusCode:R,body:{error:(b=e.error)!==null&&b!==void 0?b:""}};case M.RateLimit:return{status:K,statusCode:R,body:{error:(v=e.error)!==null&&v!==void 0?v:"",epsThreshold:(y=e.eps_threshold)!==null&&y!==void 0?y:0,throttledDevices:(T=e.throttled_devices)!==null&&T!==void 0?T:{},throttledUsers:(L=e.throttled_users)!==null&&L!==void 0?L:{},exceededDailyQuotaDevices:(k=e.exceeded_daily_quota_devices)!==null&&k!==void 0?k:{},exceededDailyQuotaUsers:(w=e.exceeded_daily_quota_users)!==null&&w!==void 0?w:{},throttledEvents:(C=e.throttled_events)!==null&&C!==void 0?C:[]}};case M.Timeout:default:return{status:K,statusCode:R}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?M.Success:e===429?M.RateLimit:e===413?M.PayloadTooLarge:e===408?M.Timeout:e>=400&&e<500?M.Invalid:e>=500?M.Failed:M.Unknown},t}();var Pi=function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Ci(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),Ci=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Ri=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(r){e(r)}),this.queue=[])},t}(),he=function(){return he=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},he.apply(this,arguments)};function _t(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vn(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}var Tt=function(t,e){var r,n,i=["string","number","boolean","undefined"],o=typeof t,s=typeof e;if(o!==s)return!1;try{for(var u=_t(i),d=u.next();!d.done;d=u.next()){var p=d.value;if(p===o)return t===e}}catch(b){r={error:b}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var a=Array.isArray(t),c=Array.isArray(e);if(a!==c)return!1;if(a&&c){for(var l=0;l<t.length;l++)if(!Tt(t[l],e[l]))return!1}else{var f=Object.keys(t).sort(),m=Object.keys(e).sort();if(!Tt(f,m))return!1;var _=!0;return Object.keys(t).forEach(function(b){Tt(t[b],e[b])||(_=!1)}),_}return!0},Oi="$set",ki="$unset",Ai="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n});var Di=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,r=he({},this.identity.userProperties),n=he(he({},this.identity),{userProperties:r});return{setUserId:function(i){return n.userId=i,this},setDeviceId:function(i){return n.deviceId=i,this},setUserProperties:function(i){return n.userProperties=i,this},setOptOut:function(i){return n.optOut=i,this},updateUserProperties:function(i){var o,s,u,d,p,a,c=n.userProperties||{};try{for(var l=_t(Object.entries(i)),f=l.next();!f.done;f=l.next()){var m=vn(f.value,2),_=m[0],b=m[1];switch(_){case Oi:try{for(var v=(u=void 0,_t(Object.entries(b))),y=v.next();!y.done;y=v.next()){var T=vn(y.value,2),L=T[0],k=T[1];c[L]=k}}catch(R){u={error:R}}finally{try{y&&!y.done&&(d=v.return)&&d.call(v)}finally{if(u)throw u.error}}break;case ki:try{for(var w=(p=void 0,_t(Object.keys(b))),C=w.next();!C.done;C=w.next()){var L=C.value;delete c[L]}}catch(R){p={error:R}}finally{try{C&&!C.done&&(a=w.return)&&a.call(w)}finally{if(p)throw p.error}}break;case Ai:c={};break}}}catch(R){o={error:R}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return n.userProperties=c,this},commit:function(){return e.setIdentity(n),this}}},t.prototype.getIdentity=function(){return he({},this.identity)},t.prototype.setIdentity=function(e){var r=he({},this.identity);this.identity=he({},e),Tt(r,this.identity)||this.listeners.forEach(function(n){n(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),We=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,gn=function(){function t(){this.identityStore=new Di,this.eventBridge=new Ri,this.applicationContextProvider=new Pi}return t.getInstance=function(e){return We.analyticsConnectorInstances||(We.analyticsConnectorInstances={}),We.analyticsConnectorInstances[e]||(We.analyticsConnectorInstances[e]=new t),We.analyticsConnectorInstances[e]},t}();var pe=function(t){return t===void 0&&(t="$default_instance"),gn.getInstance(t)},Qt=function(t,e){pe(e).identityStore.editIdentity().setUserId(t).commit()},Xt=function(t,e){pe(e).identityStore.editIdentity().setDeviceId(t).commit()},Zt=function(t,e){pe(e).identityStore.editIdentity().setOptOut(t).commit()};var $=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global};var Ne=function(){var t,e=$();if(!(!((t=e?.location)===null||t===void 0)&&t.search))return{};var r=e.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(i,o){var s=o.split("=",2),u=hn(s[0]),d=hn(s[1]);return d&&(i[u]=d),i},{});return n},hn=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}};var yn="utm_campaign",bn="utm_content",En="utm_id",_n="utm_medium",Tn="utm_source",wn="utm_term",Jt="dclid",er="fbclid",tr="gbraid",rr="gclid",nr="ko_click_id",ir="li_fat_id",or="msclkid",sr="rtd_cid",ar="ttclid",ur="twclid",cr="wbraid";var Pe={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var $e=function(){function t(){}return t.prototype.parse=function(){return g(this,void 0,void 0,function(){return h(this,function(e){return[2,E(E(E(E({},Pe),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=Ne(),r=e[yn],n=e[bn],i=e[En],o=e[_n],s=e[Tn],u=e[wn];return{utm_campaign:r,utm_content:n,utm_id:i,utm_medium:o,utm_source:s,utm_term:u}},t.prototype.getReferrer=function(){var e,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},t.prototype.getClickIds=function(){var e,r=Ne();return e={},e[Jt]=r[Jt],e[er]=r[er],e[tr]=r[tr],e[rr]=r[rr],e[nr]=r[nr],e[ir]=r[ir],e[or]=r[or],e[sr]=r[sr],e[ar]=r[ar],e[ur]=r[ur],e[cr]=r[cr],e},t}();var Ye=function(t,e,r){return e===void 0&&(e=""),r===void 0&&(r=10),[xe,e,t.substring(0,r)].filter(Boolean).join("_")},lr=function(t){return"".concat(xe.toLowerCase(),"_").concat(t.substring(0,6))};var dr=function(t){return typeof t=="boolean"?t:!!t?.fileDownloads},pr=function(t){return typeof t=="boolean"?t:!!t?.formInteractions},Sn=function(t){return typeof t=="boolean"?t:!!(t?.pageViews===!0||t?.pageViews&&typeof t.pageViews=="object")},fr=function(t){return typeof t=="boolean"?t:!!t?.sessions},mr=function(t){var e,r=!((e=t.attribution)===null||e===void 0)&&e.trackPageViews?"attribution":function(){return!1},n=void 0,i="Page View",o=Sn(t.defaultTracking);return o&&(r=void 0,i=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(r=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(n=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(i=t.defaultTracking.pageViews.eventType))),{trackOn:r,trackHistoryChanges:n,eventType:i}};var vr=function(){var t,e,r,n;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(n=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:i)!==null&&n!==void 0?n:""};var gr=function(){function t(){this.name="identity",this.type=N.BEFORE,this.identityStore=pe().identityStore}return t.prototype.execute=function(e){return g(this,void 0,void 0,function(){var r;return h(this,function(n){return r=e.user_properties,r&&this.identityStore.editIdentity().updateUserProperties(r).commit(),[2,e]})})},t.prototype.setup=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){return e.instanceName&&(this.identityStore=pe(e.instanceName).identityStore),[2]})})},t}();var ze=function(){function t(e){this.options=E({},e)}return t.prototype.isEnabled=function(){return g(this,void 0,void 0,function(){var e,r,n,i;return h(this,function(o){switch(o.label){case 0:if(!$())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),r="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,e.set(r,t.testValue)];case 2:return o.sent(),[4,e.get(r)];case 3:return n=o.sent(),[2,n===t.testValue];case 4:return i=o.sent(),[2,!1];case 5:return[4,e.remove(r)];case 6:return o.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return g(this,void 0,void 0,function(){var r;return h(this,function(n){switch(n.label){case 0:return[4,this.getRaw(e)];case 1:if(r=n.sent(),!r)return[2,void 0];try{try{r=decodeURIComponent(atob(r))}catch{}return[2,JSON.parse(r)]}catch{return[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var r;return g(this,void 0,void 0,function(){var n,i,o;return h(this,function(s){return n=$(),i=(r=n?.document.cookie.split("; "))!==null&&r!==void 0?r:[],o=i.find(function(u){return u.indexOf(e+"=")===0}),o?[2,o.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,r){var n;return g(this,void 0,void 0,function(){var i,o,s,u,d,p;return h(this,function(a){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,o=r!==null?i:-1,s=void 0,o&&(u=new Date,u.setTime(u.getTime()+o*24*60*60*1e3),s=u),d="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r)))),s&&(d+="; expires=".concat(s.toUTCString())),d+="; path=/",this.options.domain&&(d+="; domain=".concat(this.options.domain)),this.options.secure&&(d+="; Secure"),this.options.sameSite&&(d+="; SameSite=".concat(this.options.sameSite)),p=$(),p&&(p.document.cookie=d)}catch{}return[2]})})},t.prototype.remove=function(e){return g(this,void 0,void 0,function(){return h(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:return r.sent(),[2]}})})},t.prototype.reset=function(){return g(this,void 0,void 0,function(){return h(this,function(e){return[2]})})},t}();var hr=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return g(this,void 0,void 0,function(){var i,o,s;return h(this,function(u){switch(u.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,i)];case 1:return o=u.sent(),[4,o.text()];case 2:s=u.sent();try{return[2,this.buildResponse(JSON.parse(s))]}catch{return[2,this.buildResponse({code:o.status})]}return[2]}})})},e}(Le);var In=function(t){var e={};for(var r in t){var n=t[r];n&&(e[r]=n)}return e};var yr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,n={},i=$(),o=void 0,s,u=A(t,2),d=u[0],p=u[1];d&&"init"in d?(r=d,p&&(n=p)):d&&(n=d);var a=function(){return g(void 0,void 0,void 0,function(){var b,v,y;return h(this,function(T){switch(T.label){case 0:return v={event_type:(y=n.eventType)!==null&&y!==void 0?y:"Page View"},b=[{}],[4,Ni()];case 1:return[2,(v.event_properties=E.apply(void 0,[E.apply(void 0,b.concat([T.sent()])),{page_domain:typeof location<"u"&&location.hostname||"",page_location:typeof location<"u"&&location.href||"",page_path:typeof location<"u"&&location.pathname||"",page_title:typeof document<"u"&&document.title||"",page_url:typeof location<"u"&&location.href.split("?")[0]||""}]),v)]}})})},c=function(){return typeof n.trackOn>"u"||typeof n.trackOn=="function"&&n.trackOn()},l=typeof location<"u"?location.href:null,f=function(){return g(void 0,void 0,void 0,function(){var b,v,y,T,L;return h(this,function(k){switch(k.label){case 0:return b=location.href,v=Mi(n.trackHistoryChanges,b,l||"")&&c(),l=b,v?(o?.log("Tracking page view event"),r!=null?[3,1]:(y=void 0,[3,3])):[3,4];case 1:return L=(T=r).track,[4,a()];case 2:y=L.apply(T,[k.sent()]),k.label=3;case 3:k.label=4;case 4:return[2]}})})},m=function(){f()},_={name:"page-view-tracking",type:N.ENRICHMENT,setup:function(b,v){return g(void 0,void 0,void 0,function(){var y,T,L,k,w;return h(this,function(C){switch(C.label){case 0:return r=r??v,r?(o=b.loggerProvider,o.log("Installing @amplitude/plugin-page-view-tracking-browser"),n.trackOn=!((k=b.attribution)===null||k===void 0)&&k.trackPageViews?"attribution":n.trackOn,!v&&(!((w=b.attribution)===null||w===void 0)&&w.trackPageViews)&&(o.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser."),b.attribution.trackPageViews=!1),n.trackHistoryChanges&&i&&(i.addEventListener("popstate",m),s=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(R,K,z){var Q=A(z,3),P=Q[0],Ce=Q[1],ce=Q[2];R.apply(K,[P,Ce,ce]),f()}})),c()?(o.log("Tracking page view event"),L=(T=r).track,[4,a()]):[3,2]):(y=d?"Options":"undefined",b.loggerProvider.error("Argument of type '".concat(y,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:L.apply(T,[C.sent()]),C.label=2;case 2:return[2]}})})},execute:function(b){return g(void 0,void 0,void 0,function(){var v;return h(this,function(y){switch(y.label){case 0:return n.trackOn==="attribution"&&Ui(b)?(o?.log("Enriching campaign event to page view event with campaign parameters"),[4,a()]):[3,2];case 1:v=y.sent(),b.event_type=v.event_type,b.event_properties=E(E({},b.event_properties),v.event_properties),y.label=2;case 2:return[2,b]}})})},teardown:function(){return g(void 0,void 0,void 0,function(){return h(this,function(b){return i&&(i.removeEventListener("popstate",m),s&&(i.history.pushState=s)),[2]})})}};return _.__trackHistoryPageView=f,_},Ni=function(){return g(void 0,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t=In,[4,new $e().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},Ui=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,r=e[B.SET]||{},n=e[B.UNSET]||{},i=ee(ee([],A(Object.keys(r)),!1),A(Object.keys(n)),!1);return Object.keys(Pe).every(function(o){return i.includes(o)})}return!1},Mi=function(t,e,r){switch(t){case"pathOnly":return e.split("?")[0]!==r.split("?")[0];default:return e!==r}};var Ln=function(t,e,r){return e===void 0&&(e=""),r===void 0&&(r=10),[xe,e,t.substring(0,r)].filter(Boolean).join("_")},xn=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},Pn=function(t,e,r){var n,i=t.referrer,o=t.referring_domain,s=Ge(t,["referrer","referring_domain"]),u=e||{},d=u.referrer,p=u.referring_domain,a=Ge(u,["referrer","referring_domain"]);if(t.referring_domain&&(!((n=r.excludeReferrers)===null||n===void 0)&&n.includes(t.referring_domain)))return!1;var c=JSON.stringify(s)!==JSON.stringify(a),l=xn(o||"")!==xn(p||"");return!e||c||l},Cn=function(t,e){var r=E(E({},Pe),t),n=Object.entries(r).reduce(function(i,o){var s,u=A(o,2),d=u[0],p=u[1];return i.setOnce("initial_".concat(d),(s=p??e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),p?i.set(d,p):i.unset(d)},new ne);return Ke(n)};var br=function(){for(var t=this,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i,o={},s=A(r,2),u=s[0],d=s[1];u&&"init"in u?(i=u,d&&(o=d)):u&&(o=u);var p=(e=o.excludeReferrers)!==null&&e!==void 0?e:[];typeof location<"u"&&p.unshift(location.hostname),o=E(E({disabled:!1,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1},o),{excludeReferrers:p});var a={name:"web-attribution",type:N.BEFORE,setup:function(c,l){var f;return g(this,void 0,void 0,function(){var m,_,b,v,y,T,L,k;return h(this,function(w){switch(w.label){case 0:return i=i??l,i?o.disabled?(c.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked."),[2]):(c.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),!l&&!(!((f=c.attribution)===null||f===void 0)&&f.disabled)&&(c.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser."),c.attribution={disabled:!0}),_=c.cookieStorage,b=Ln(c.apiKey,"MKTG"),[4,Promise.all([new $e().parse(),_.get(b)])]):(m=u?"Options":"undefined",c.loggerProvider.error("Argument of type '".concat(m,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:return v=A.apply(void 0,[w.sent(),2]),y=v[0],T=v[1],L=this.__pluginEnabledOverride,(L??Pn(y,T,o))&&(o.resetSessionOnNewCampaign&&(i.setSessionId(Date.now()),c.loggerProvider.log("Created a new session for new campaign.")),c.loggerProvider.log("Tracking attribution."),k=Cn(y,o),i.track(k),_.set(b,y)),[2]}})})},execute:function(c){return g(t,void 0,void 0,function(){return h(this,function(l){return[2,c]})})}};return a.__pluginEnabledOverride=void 0,a};var wt=1e3,Er=function(){function t(e){this.loggerProvider=e?.loggerProvider}return t.prototype.isEnabled=function(){return g(this,void 0,void 0,function(){var e,r,n,i,o;return h(this,function(s){switch(s.label){case 0:if(!$())return[2,!1];e=String(Date.now()),r=new t,n="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,r.set(n,e)];case 2:return s.sent(),[4,r.get(n)];case 3:return i=s.sent(),[2,i===e];case 4:return o=s.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return g(this,void 0,void 0,function(){var r,n;return h(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return r=i.sent(),r?[2,JSON.parse(r)]:[2,void 0];case 2:return n=i.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var r;return g(this,void 0,void 0,function(){return h(this,function(n){return[2,((r=$())===null||r===void 0?void 0:r.localStorage.getItem(e))||void 0]})})},t.prototype.set=function(e,r){var n,i;return g(this,void 0,void 0,function(){var o,s,u;return h(this,function(d){o=Array.isArray(r)&&r.length>wt;try{s=JSON.stringify(o?r.slice(0,wt):r),(n=$())===null||n===void 0||n.localStorage.setItem(e,s)}catch{}return o&&(u=r.length-wt,(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(u," events because the queue length exceeded ").concat(wt,"."))),[2]})})},t.prototype.remove=function(e){var r;return g(this,void 0,void 0,function(){return h(this,function(n){try{(r=$())===null||r===void 0||r.localStorage.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return g(this,void 0,void 0,function(){return h(this,function(r){try{(e=$())===null||e===void 0||e.localStorage.clear()}catch{}return[2]})})},t}();var Rn=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={done:4},r}return e.prototype.send=function(r,n){return g(this,void 0,void 0,function(){var i=this;return h(this,function(o){return[2,new Promise(function(s,u){typeof XMLHttpRequest>"u"&&u(new Error("XHRTransport is not supported."));var d=new XMLHttpRequest;d.open("POST",r,!0),d.onreadystatechange=function(){if(d.readyState===i.state.done)try{var p=d.responseText,a=JSON.parse(p),c=i.buildResponse(a);s(c)}catch(l){u(l)}},d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Accept","*/*"),d.send(JSON.stringify(n))})]})})},e}(Le);var On=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return g(this,void 0,void 0,function(){var i=this;return h(this,function(o){return[2,new Promise(function(s,u){var d=$();if(!d?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var p=JSON.stringify(n),a=d.navigator.sendBeacon(r,JSON.stringify(n));return s(a?i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:p.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(c){u(c)}})]})})},e}(Le);var Ue=function(){var t=new Et,e={deviceManufacturer:!0,deviceModel:!0,ipAddress:!0,language:!0,osName:!0,osVersion:!0,platform:!0};return{cookieExpiration:365,cookieSameSite:"Lax",cookieSecure:!1,cookieStorage:t,cookieUpgrade:!0,disableCookies:!1,domain:"",sessionTimeout:30*60*1e3,trackingOptions:e,transportProvider:new hr}},kn=function(t){ae(e,t);function e(r,n){var i=this,o,s,u,d,p,a,c,l,f,m=Ue();return i=t.call(this,E(E({flushIntervalMillis:1e3,flushMaxRetries:5,flushQueueSize:30,transportProvider:m.transportProvider},n),{apiKey:r}))||this,i._optOut=!1,i.cookieStorage=(o=n?.cookieStorage)!==null&&o!==void 0?o:m.cookieStorage,i.deviceId=n?.deviceId,i.lastEventId=n?.lastEventId,i.lastEventTime=n?.lastEventTime,i.optOut=!!n?.optOut,i.sessionId=n?.sessionId,i.userId=n?.userId,i.appVersion=n?.appVersion,i.attribution=n?.attribution,i.cookieExpiration=(s=n?.cookieExpiration)!==null&&s!==void 0?s:m.cookieExpiration,i.cookieSameSite=(u=n?.cookieSameSite)!==null&&u!==void 0?u:m.cookieSameSite,i.cookieSecure=(d=n?.cookieSecure)!==null&&d!==void 0?d:m.cookieSecure,i.cookieUpgrade=(p=n?.cookieUpgrade)!==null&&p!==void 0?p:m.cookieUpgrade,i.defaultTracking=n?.defaultTracking,i.disableCookies=(a=n?.disableCookies)!==null&&a!==void 0?a:m.disableCookies,i.defaultTracking=n?.defaultTracking,i.domain=(c=n?.domain)!==null&&c!==void 0?c:m.domain,i.partnerId=n?.partnerId,i.sessionTimeout=(l=n?.sessionTimeout)!==null&&l!==void 0?l:m.sessionTimeout,i.trackingOptions=(f=n?.trackingOptions)!==null&&f!==void 0?f:m.trackingOptions,i}return Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){this._deviceId!==r&&(this._deviceId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){this._userId!==r&&(this._userId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){this._sessionId!==r&&(this._sessionId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut!==r&&(this._optOut=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){this._lastEventTime!==r&&(this._lastEventTime=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){this._lastEventId!==r&&(this._lastEventId=r,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var r,n={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};(r=this.cookieStorage)===null||r===void 0||r.set(Ye(this.apiKey),n)},e}($t);var An=function(t,e){return g(void 0,void 0,void 0,function(){var r,n,i,o,s,u,d,p,a,c,l,f,m,_,b;return h(this,function(v){switch(v.label){case 0:return r=Ue(),n=(_=e?.deviceId)!==null&&_!==void 0?_:ge(),i=e?.lastEventId,o=e?.lastEventTime,s=e?.optOut,u=e?.sessionId,d=e?.userId,p=e?.cookieStorage,a=e?.domain,c=kn.bind,l=[void 0,t],f=[E({},e)],m={cookieStorage:p,deviceId:n,domain:a,lastEventId:i,lastEventTime:o,optOut:s,sessionId:u},[4,Vi(e)];case 1:return[2,new(c.apply(kn,l.concat([E.apply(void 0,f.concat([(m.storageProvider=v.sent(),m.trackingOptions=E(E({},r.trackingOptions),e?.trackingOptions),m.transportProvider=(b=e?.transportProvider)!==null&&b!==void 0?b:_r(e?.transport),m.userId=d,m)]))])))]}})})},St=function(t,e){return e===void 0&&(e=Ue()),g(void 0,void 0,void 0,function(){var r,n,i;return h(this,function(o){switch(o.label){case 0:return r=E(E({},e),t),n=t?.cookieStorage,i=!n,i?[3,2]:[4,n.isEnabled()];case 1:i=!o.sent(),o.label=2;case 2:return i?[2,Bi(r)]:[2,n]}})})},Bi=function(t){return g(void 0,void 0,void 0,function(){var e,r;return h(this,function(n){switch(n.label){case 0:return e=new ze({domain:t.domain,expirationDays:t.cookieExpiration,sameSite:t.cookieSameSite,secure:t.cookieSecure}),r=t.disableCookies,r?[3,2]:[4,e.isEnabled()];case 1:r=!n.sent(),n.label=2;case 2:return r?(e=new Er,[4,e.isEnabled()]):[3,4];case 3:n.sent()||(e=new Et),n.label=4;case 4:return[2,e]}})})},Vi=function(t){return g(void 0,void 0,void 0,function(){var e,r,n,i,o,s,u,d,p;return h(this,function(a){switch(a.label){case 0:if(e=t&&Object.prototype.hasOwnProperty.call(t,"storageProvider"),r=t&&t.loggerProvider,!(!e||t.storageProvider))return[3,9];a.label=1;case 1:a.trys.push([1,7,8,9]),n=J([t?.storageProvider,new Er({loggerProvider:r})]),i=n.next(),a.label=2;case 2:return i.done?[3,6]:(o=i.value,s=o,s?[4,o.isEnabled()]:[3,4]);case 3:s=a.sent(),a.label=4;case 4:if(s)return[2,o];a.label=5;case 5:return i=n.next(),[3,2];case 6:return[3,9];case 7:return u=a.sent(),d={error:u},[3,9];case 8:try{i&&!i.done&&(p=n.return)&&p.call(n)}finally{if(d)throw d.error}return[7];case 9:return[2,void 0]}})})},_r=function(t){return t===Ie.XHR?new Rn:t===Ie.SendBeacon?new On:Ue().transportProvider},Dn=function(t){return g(void 0,void 0,void 0,function(){var e,r,n,i,o,o,s,u,d,p;return h(this,function(a){switch(a.label){case 0:return[4,new ze().isEnabled()];case 1:if(!a.sent()||!t&&typeof location>"u")return[2,""];for(e=t??location.hostname,r=e.split("."),n=[],i="AMP_TLDTEST",o=r.length-2;o>=0;--o)n.push(r.slice(o).join("."));o=0,a.label=2;case 2:return o<n.length?(s=n[o],u={domain:"."+s},d=new ze(u),[4,d.set(i,1)]):[3,7];case 3:return a.sent(),[4,d.get(i)];case 4:return p=a.sent(),p?[4,d.remove(i)]:[3,6];case 5:return a.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})};var W="[Amplitude]",It="".concat(W," Page Viewed"),Tr="".concat(W," Form Started"),Nn="".concat(W," Form Submitted"),Un="".concat(W," File Downloaded"),wr="session_start",Sr="session_end",Mn="".concat(W," File Extension"),Bn="".concat(W," File Name"),Vn="".concat(W," Link ID"),Fn="".concat(W," Link Text"),Hn="".concat(W," Link URL"),xt="".concat(W," Form ID"),Lt="".concat(W," Form Name"),Pt="".concat(W," Form Destination");var qn=function(t,e){return g(void 0,void 0,void 0,function(){var r,n,i,o,s,u,d,p,a,c,l;return h(this,function(f){switch(f.label){case 0:return[4,St(e)];case 1:return r=f.sent(),n=lr(t),[4,r.getRaw(n)];case 2:return i=f.sent(),i?((l=e.cookieUpgrade)!==null&&l!==void 0?l:Ue().cookieUpgrade)?[4,r.remove(n)]:[3,4]:[2,{optOut:!1}];case 3:f.sent(),f.label=4;case 4:return o=A(i.split("."),6),s=o[0],u=o[1],d=o[2],p=o[3],a=o[4],c=o[5],[2,{deviceId:s,userId:Fi(u),sessionId:Ir(p),lastEventId:Ir(c),lastEventTime:Ir(a),optOut:!!d}]}})})},Ir=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},Fi=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}};var Kn=_i(jn());var Gn="1.13.4";var Hi="Web",qi="$remote",Wn=function(){function t(){this.name="context",this.type=N.BEFORE,this.library="amplitude-ts/".concat(Gn),typeof navigator<"u"&&(this.userAgent=navigator.userAgent),this.uaResult=new Kn.default(this.userAgent).getResult()}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var r,n;return g(this,void 0,void 0,function(){var i,o,s,u,d,p,a,c;return h(this,function(l){return i=new Date().getTime(),o=this.uaResult.browser.name,s=this.uaResult.browser.version,u=this.uaResult.device.model||this.uaResult.os.name,d=this.uaResult.device.vendor,p=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1,a=(n=e.event_id)!==null&&n!==void 0?n:p+1,this.config.lastEventId=a,e.time||(this.config.lastEventTime=i),c=E(E(E(E(E(E(E(E(E(E(E(E({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:Hi}),this.config.trackingOptions.osName&&{os_name:o}),this.config.trackingOptions.osVersion&&{os_version:s}),this.config.trackingOptions.deviceManufacturer&&{device_manufacturer:d}),this.config.trackingOptions.deviceModel&&{device_model:u}),this.config.trackingOptions.language&&{language:vr()}),this.config.trackingOptions.ipAddress&&{ip:qi}),{insert_id:ge(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent}),[2,c]})})},t}();var ji={page_domain:"".concat(W," Page Domain"),page_location:"".concat(W," Page Location"),page_path:"".concat(W," Page Path"),page_title:"".concat(W," Page Title"),page_url:"".concat(W," Page URL")},$n=function(){var t="@amplitude/plugin-default-page-view-event-enrichment-browser",e=N.ENRICHMENT,r=function(){return g(void 0,void 0,void 0,function(){return h(this,function(i){return[2,void 0]})})},n=function(i){return g(void 0,void 0,void 0,function(){return h(this,function(o){return i.event_type===It&&i.event_properties&&(i.event_properties=Object.entries(i.event_properties).reduce(function(s,u){var d=A(u,2),p=d[0],a=d[1],c=ji[p];return c?s[c]=a:s[p]=a,s},{})),[2,i]})})};return{name:t,type:e,setup:r,execute:n}};var Yn=function(){var t,e=[],r=function(p,a,c){p.addEventListener(a,c),e.push({element:p,type:a,handler:c})},n=function(){e.forEach(function(p){var a=p.element,c=p.type,l=p.handler;a?.removeEventListener(c,l)}),e=[]},i="@amplitude/plugin-file-download-tracking-browser",o=N.ENRICHMENT,s=function(p,a){return g(void 0,void 0,void 0,function(){var c,l,f;return h(this,function(m){return a?typeof document>"u"?[2]:(c=function(_){var b;try{b=new URL(_.href,window.location.href)}catch{return}var v=l.exec(b.href),y=v?.[1];y&&r(_,"click",function(){var T;y&&a.track(Un,(T={},T[Mn]=y,T[Bn]=b.pathname,T[Vn]=_.id,T[Fn]=_.text,T[Hn]=_.href,T))})},l=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,f=Array.from(document.getElementsByTagName("a")),f.forEach(c),typeof MutationObserver<"u"&&(t=new MutationObserver(function(_){_.forEach(function(b){b.addedNodes.forEach(function(v){v.nodeName==="A"&&c(v),"querySelectorAll"in v&&typeof v.querySelectorAll=="function"&&Array.from(v.querySelectorAll("a")).map(c)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(p.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])})})},u=function(p){return g(void 0,void 0,void 0,function(){return h(this,function(a){return[2,p]})})},d=function(){return g(void 0,void 0,void 0,function(){return h(this,function(p){return t?.disconnect(),n(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:d}};var zn=function(){var t,e=[],r=function(p,a,c){p.addEventListener(a,c),e.push({element:p,type:a,handler:c})},n=function(){e.forEach(function(p){var a=p.element,c=p.type,l=p.handler;a?.removeEventListener(c,l)}),e=[]},i="@amplitude/plugin-form-interaction-tracking-browser",o=N.ENRICHMENT,s=function(p,a){return g(void 0,void 0,void 0,function(){var c,l;return h(this,function(f){return a?typeof document>"u"?[2]:(c=function(m){var _=!1;r(m,"change",function(){var b;_||a.track(Tr,(b={},b[xt]=m.id,b[Lt]=m.name,b[Pt]=m.action,b)),_=!0}),r(m,"submit",function(){var b,v;_||a.track(Tr,(b={},b[xt]=m.id,b[Lt]=m.name,b[Pt]=m.action,b)),a.track(Nn,(v={},v[xt]=m.id,v[Lt]=m.name,v[Pt]=m.action,v)),_=!1})},l=Array.from(document.getElementsByTagName("form")),l.forEach(c),typeof MutationObserver<"u"&&(t=new MutationObserver(function(m){m.forEach(function(_){_.addedNodes.forEach(function(b){b.nodeName==="FORM"&&c(b),"querySelectorAll"in b&&typeof b.querySelectorAll=="function"&&Array.from(b.querySelectorAll("form")).map(c)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(p.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])})})},u=function(p){return g(void 0,void 0,void 0,function(){return h(this,function(a){return[2,p]})})},d=function(){return g(void 0,void 0,void 0,function(){return h(this,function(p){return t?.disconnect(),n(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:d}};var Rt=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.name,o=n.args,s=n.resolve,u=t&&t[i];if(typeof u=="function"){var d=u.apply(t,o);typeof s=="function"&&s(d?.promise)}}return t},Ot=function(t){var e=t;return e&&e._q!==void 0};var Qn=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i){return r===void 0&&(r=""),X(this._init(E(E({},i),{userId:n,apiKey:r})))},e.prototype._init=function(r){var n,i,o,s,u,d,p,a,c,l,f,m,_,b,v,y,T,L,k,w;return g(this,void 0,void 0,function(){var C,R,K,z,Q,P,Ce,ce,_e,Me,Re,Oe,Be,Te,we,ke,fe,me,Ve=this;return h(this,function(U){switch(U.label){case 0:return this.initializing?[2]:(this.initializing=!0,C=r,r.disableCookies?(R="",[3,5]):[3,1]);case 1:return(n=r.domain)!==null&&n!==void 0?(K=n,[3,4]):[3,2];case 2:return[4,Dn()];case 3:K=U.sent(),U.label=4;case 4:R=K,U.label=5;case 5:return C.domain=R,[4,qn(r.apiKey,r)];case 6:return z=U.sent(),[4,St(r)];case 7:return Q=U.sent(),[4,Q.get(Ye(r.apiKey))];case 8:return P=U.sent(),Ce=Ne(),ce=(s=(o=(i=r.deviceId)!==null&&i!==void 0?i:Ce.deviceId)!==null&&o!==void 0?o:P?.deviceId)!==null&&s!==void 0?s:z.deviceId,_e=(u=P?.sessionId)!==null&&u!==void 0?u:z.sessionId,Me=(p=(d=r.optOut)!==null&&d!==void 0?d:P?.optOut)!==null&&p!==void 0?p:z.optOut,Re=(a=P?.lastEventId)!==null&&a!==void 0?a:z.lastEventId,Oe=(c=P?.lastEventTime)!==null&&c!==void 0?c:z.lastEventTime,Be=(f=(l=r.userId)!==null&&l!==void 0?l:P?.userId)!==null&&f!==void 0?f:z.userId,this.previousSessionDeviceId=(m=P?.deviceId)!==null&&m!==void 0?m:z.deviceId,this.previousSessionUserId=(_=P?.userId)!==null&&_!==void 0?_:z.userId,[4,An(r.apiKey,E(E({},r),{deviceId:ce,sessionId:_e,optOut:Me,lastEventId:Re,lastEventTime:Oe,userId:Be,cookieStorage:Q}))];case 9:return Te=U.sent(),[4,t.prototype._init.call(this,Te)];case 10:return U.sent(),we=!1,(!this.config.lastEventTime||!this.config.sessionId||this.config.lastEventTime&&Date.now()-this.config.lastEventTime>this.config.sessionTimeout)&&(this.setSessionId((v=(b=r.sessionId)!==null&&b!==void 0?b:this.config.sessionId)!==null&&v!==void 0?v:Date.now()),we=!0),ke=pe(r.instanceName),ke.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new zt).promise];case 11:return U.sent(),[4,this.add(new Wn).promise];case 12:return U.sent(),[4,this.add(new gr).promise];case 13:return U.sent(),dr(this.config.defaultTracking)?[4,this.add(Yn()).promise]:[3,15];case 14:U.sent(),U.label=15;case 15:return pr(this.config.defaultTracking)?[4,this.add(zn()).promise]:[3,17];case 16:U.sent(),U.label=17;case 17:return!((y=this.config.attribution)===null||y===void 0)&&y.disabled?[3,19]:(fe=br({excludeReferrers:(T=this.config.attribution)===null||T===void 0?void 0:T.excludeReferrers,initialEmptyValue:(L=this.config.attribution)===null||L===void 0?void 0:L.initialEmptyValue,resetSessionOnNewCampaign:(k=this.config.attribution)===null||k===void 0?void 0:k.resetSessionOnNewCampaign}),fe.__pluginEnabledOverride=we||!((w=this.config.attribution)===null||w===void 0)&&w.trackNewCampaigns?void 0:!1,[4,this.add(fe).promise]);case 18:U.sent(),U.label=19;case 19:return me=mr(this.config),me.eventType=me.eventType||It,[4,this.add(yr(me)).promise];case 20:return U.sent(),[4,this.add($n()).promise];case 21:return U.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 22:return U.sent(),ke.eventBridge.setEventReceiver(function(et){Ve.track(et.eventType,et.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId},e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}(r!==this.config.userId||r===void 0)&&(this.config.userId=r,Qt(r,this.config.instanceName))},e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId},e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.deviceId=r,Xt(r,this.config.instanceName)},e.prototype.setOptOut=function(r){Zt(r,this.config.instanceName),t.prototype.setOptOut.call(this,r)},e.prototype.reset=function(){this.setDeviceId(ge()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId},e.prototype.setSessionId=function(r){var n;if(!this.config){this.q.push(this.setSessionId.bind(this,r));return}if(r!==this.config.sessionId){var i=this.getSessionId(),o=this.config.lastEventTime,s=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r,this.config.lastEventTime=void 0,fr(this.config.defaultTracking)&&(i&&o&&this.track(Sr,void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:i,time:o+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(wr,void 0,{event_id:++s,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=_r(r)},e.prototype.identify=function(r,n){if(Ot(r)){var i=r._q;r._q=[],r=Rt(new ne,i)}return n?.user_id&&this.setUserId(n.user_id),n?.device_id&&this.setDeviceId(n.device_id),t.prototype.identify.call(this,r,n)},e.prototype.groupIdentify=function(r,n,i,o){if(Ot(i)){var s=i._q;i._q=[],i=Rt(new ne,s)}return t.prototype.groupIdentify.call(this,r,n,i,o)},e.prototype.revenue=function(r,n){if(Ot(r)){var i=r._q;r._q=[],r=Rt(new gt,i)}return t.prototype.revenue.call(this,r,n)},e.prototype.process=function(r){return g(this,void 0,void 0,function(){var n,i,o;return h(this,function(s){return n=Date.now(),i=this.config.lastEventTime||Date.now(),o=n-i,r.event_type!==wr&&r.event_type!==Sr&&(!r.session_id||r.session_id===this.getSessionId())&&o>this.config.sessionTimeout&&this.setSessionId(n),[2,t.prototype.process.call(this,r)]})})},e}(Wt);var Gi=function(){var t=new Qn;return{init:H(t.init.bind(t),"init",V(t),F(t,["config"])),add:H(t.add.bind(t),"add",V(t),F(t,["config.apiKey","timeline.plugins"])),remove:H(t.remove.bind(t),"remove",V(t),F(t,["config.apiKey","timeline.plugins"])),track:H(t.track.bind(t),"track",V(t),F(t,["config.apiKey","timeline.queue.length"])),logEvent:H(t.logEvent.bind(t),"logEvent",V(t),F(t,["config.apiKey","timeline.queue.length"])),identify:H(t.identify.bind(t),"identify",V(t),F(t,["config.apiKey","timeline.queue.length"])),groupIdentify:H(t.groupIdentify.bind(t),"groupIdentify",V(t),F(t,["config.apiKey","timeline.queue.length"])),setGroup:H(t.setGroup.bind(t),"setGroup",V(t),F(t,["config.apiKey","timeline.queue.length"])),revenue:H(t.revenue.bind(t),"revenue",V(t),F(t,["config.apiKey","timeline.queue.length"])),flush:H(t.flush.bind(t),"flush",V(t),F(t,["config.apiKey","timeline.queue.length"])),getUserId:H(t.getUserId.bind(t),"getUserId",V(t),F(t,["config","config.userId"])),setUserId:H(t.setUserId.bind(t),"setUserId",V(t),F(t,["config","config.userId"])),getDeviceId:H(t.getDeviceId.bind(t),"getDeviceId",V(t),F(t,["config","config.deviceId"])),setDeviceId:H(t.setDeviceId.bind(t),"setDeviceId",V(t),F(t,["config","config.deviceId"])),reset:H(t.reset.bind(t),"reset",V(t),F(t,["config","config.userId","config.deviceId"])),getSessionId:H(t.getSessionId.bind(t),"getSessionId",V(t),F(t,["config"])),setSessionId:H(t.setSessionId.bind(t),"setSessionId",V(t),F(t,["config"])),extendSession:H(t.extendSession.bind(t),"extendSession",V(t),F(t,["config"])),setOptOut:H(t.setOptOut.bind(t),"setOptOut",V(t),F(t,["config"])),setTransport:H(t.setTransport.bind(t),"setTransport",V(t),F(t,["config"]))}},j=Gi();var cc=j.add,lc=j.extendSession,dc=j.flush,pc=j.getDeviceId,fc=j.getSessionId,mc=j.getUserId,vc=j.groupIdentify,Xn=j.identify,Zn=j.init,gc=j.logEvent,hc=j.remove,yc=j.reset,bc=j.revenue,Ec=j.setDeviceId,_c=j.setGroup,Tc=j.setOptOut,wc=j.setSessionId,Sc=j.setTransport,Ic=j.setUserId,ye=j.track;var te=t=>{window.dispatchEvent(new CustomEvent("builderdevtools",{detail:{eventName:t}}))};async function Ki(){return zr()}var Jn=async()=>{let t=new URL(window.location.href),e=t.hash,r=\`#\${Br}=\`,n=Math.random().toString(36).substring(2,15),i=await Ki();Zn("f1d2eb79aecd01b28c8a371ea5d1751c",i?.userId||n,{logLevel:mt.LogLevel.None,serverUrl:Hr,flushIntervalMillis:500});let o=new ne;Xn(o,{device_id:i?.deviceId,user_id:i?.userId||n});let s="anonymous";e.startsWith(r)&&(s=e.slice(r.length),s&&(Wi(s),t.hash="",window.history.replaceState({},"",t.href))),te("init")};var Wi=t=>{if(typeof t=="string"&&t.length>0){let e=Ze();Xe({...e,builderUserId:t})}},Ze=()=>{let t=localStorage.getItem(ei);if(t)try{let e=JSON.parse(t);return(!e.ctas||typeof e.ctas!="object")&&(e=Xe({...e,ctas:{}})),e.menuOpenedTs&&(e=Xe({...e,ctas:{...e.ctas,menuOpened:e.menuOpenedTs}}),delete e.menuOpenedTs),e}catch(e){console.error(e)}return Xe({firstVisitTs:Date.now(),ctas:{},builderUserId:""})},Xe=t=>{try{localStorage.setItem(ei,JSON.stringify(t))}catch(e){console.error(e)}return t},xr=t=>!!Ze().ctas[t],Lr=t=>{let e=Ze();return Xe({...e,ctas:{...e.ctas,[t]:Date.now()}})},ei="builderDevtools";function ti(t){$i(t),Yi(t),zi(t),Qi(t)}function $i(t){let e=t.getElementById("input-register");e.addEventListener("change",async r=>{r.stopPropagation();let n=t.getElementById("input-name"),i=t.querySelector(".nav-cmp-input");i.classList.add("input-loading"),i.classList.remove("input-enabled");let o=n.dataset.id,s=n.dataset.prop,u=await at({cmpId:o,name:s,registerInput:e.checked});te("registryUpdate"),le(u),Je(t,o,s),be(t,o),i.classList.remove("input-loading")})}function Yi(t){t.getElementById("input-open-source").addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();let n=r.target,i=G.components.find(o=>o.id===n?.dataset.id);i&&De({filePath:i.filePath})})}function zi(t){let e=t.getElementById("input-name"),r=e.closest(".ui-text-input"),n="",i;e.addEventListener("focus",o=>{clearTimeout(i),r.classList.remove("saved"),o.stopPropagation(),n=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),r.classList.remove("saved"),e.value!==n){if(e.value.trim().length<3){e.value=n;return}r.classList.add("saved"),i=setTimeout(()=>{r.classList.remove("saved")},3e3);let s=e.dataset.id,u=e.dataset.prop,d=await at({cmpId:s,name:u,friendlyName:e.value});te("registryUpdate"),le(d),ue(t),be(t,s),Je(t,s,u)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),r.classList.remove("saved"),o.key==="Escape"?(e.value=n,e.blur()):o.key==="Enter"&&e.blur()})}function Qi(t){let e=t.getElementById("input-type");e.addEventListener("change",async r=>{r.stopPropagation();let n=e.dataset.id,i=e.dataset.prop,o=await at({cmpId:n,name:i,type:e.value});te("registryUpdate"),le(o),ue(t),be(t,n),Je(t,n,i)})}function Je(t,e,r){let n=G.components.find(l=>l.id===e);if(!n)return null;let i=n.inputs.find(l=>l.name===r);if(!i)return null;let o=t.querySelector(".nav-cmp-input");i.isRegistered?o.classList.add("input-enabled"):o.classList.remove("input-enabled");let s=t.getElementById("input-register");s.checked=!!i.isRegistered;let u=t.getElementById("cmp-input-title");u.innerText=n.name+": "+(i.friendlyName||i.name);let d=t.getElementById("input-open-source");d.innerText=\`Open \${n.displayFilePath}\`,d.dataset.id=n.id;let p=t.getElementById("cmp-prop-name");p.innerText=i.name;let a=t.getElementById("cmp-prop-type");a.innerText=ft(i.type);let c=t.getElementById("input-name");return c.dataset.id=n.id,c.dataset.prop=i.name,c.value=i.friendlyName||i.name,Xi(t,n,i),i}function Xi(t,e,r){let n=t.getElementById("input-type");n.dataset.id=e.id,n.dataset.prop=r.name,n.innerHTML="";let i=r.type,o=ut.includes(i),s=ct.includes(i),u=lt.includes(i),d=dt.includes(i),p=pt.includes(i);Qr.forEach(a=>{let c=document.createElement("option");c.value=a.value,c.innerText=a.text,c.disabled=ut.includes(a.value)&&!o||ct.includes(a.value)&&!s||lt.includes(a.value)&&!u||dt.includes(a.value)&&!d||pt.includes(a.value)&&!p,n.appendChild(c)}),n.value=i}function ri(t){Zi(t),Ji(t),eo(t),ro(t),to(t)}function Zi(t){t.getElementById("cmp-register").addEventListener("change",r=>{r.stopPropagation(),kt(t,"update")})}async function kt(t,e){let r=t.querySelector(".nav-cmp-detail"),n=t.getElementById("cmp-error"),i=t.getElementById("cmp-register"),o=i.closest(".ui-switch");r.classList.remove("cmp-enabled"),i.checked&&r.classList.add("cmp-loading");try{let s=i.dataset.id,u;e==="load"?u=await Gr({cmpId:s}):i.checked?(u=await Kr({cmpId:s}),te("registryUpdate"),ye("interaction",{type:"click",name:"register component",detail:s})):(u=await $r({cmpId:s}),te("registryUpdate"),ye("interaction",{type:"click",name:"unregister component",detail:s})),le(u),ue(t);let d=be(t,s);e==="update"&&d&&(i.checked?(r.classList.add("cmp-enabled"),Bt(t,\`<strong>\${d.name}</strong> is now registered in <strong>\${G.registryDisplayPath}</strong> and available for use in the Builder Visual Editor\`)):Bt(t,\`<strong>\${d.name}</strong> has been unregistered from <strong>\${G.registryDisplayPath}</strong> and removed from the Builder Visual Editor\`))}catch(s){console.error(s),n.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${s.message||s}</p>\`,o.style.display="none"}r.classList.remove("cmp-loading")}function Ji(t){let e=t.getElementById("cmp-name"),r=e.closest(".ui-text-input"),n="",i;e.addEventListener("focus",o=>{clearTimeout(i),r.classList.remove("saved"),o.stopPropagation(),n=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),r.classList.remove("saved"),e.value!==n){if(e.value.trim().length<3){e.value=n;return}r.classList.add("saved"),i=setTimeout(()=>{r.classList.remove("saved")},3e3);let s=e.dataset.id,u=await Wr({cmpId:s,name:e.value});te("registryUpdate"),le(u),ue(t),be(t,s)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),r.classList.remove("saved"),o.key==="Escape"?(e.value=n,e.blur()):o.key==="Enter"&&e.blur()})}function be(t,e){let r=G.components.find(a=>a.id===e);if(!r)return null;let n=t.getElementById("cmp-register"),i=t.getElementById("cmp-error"),o=n.closest(".ui-switch");o.style.display="",i.innerHTML="",n.dataset.id=r.id,n.checked=!!r.isRegistered;let s=t.querySelector(".nav-cmp-detail");r.isRegistered?s.classList.add("cmp-enabled"):s.classList.remove("cmp-enabled");let u=t.getElementById("cmp-name");u.dataset.id=r.id,u.value=r.name;let d=t.getElementById("cmp-open-source");d.innerText=\`Open \${r.displayFilePath}\`,d.dataset.id=r.id;let p=t.getElementById("cmp-detail-title");return p.innerText=\`\${r.name} Component\`,no(t,r),r}function eo(t){t.getElementById("cmp-open-source").addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();let n=r.target,i=G.components.find(o=>o.id===n?.dataset.id);i&&(De({filePath:i.filePath}),ye("interaction",{type:"click",name:"open component source file",detail:i.filePath}))})}function to(t){t.getElementById("btn-inputs-reload").addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),kt(t,"load")})}function ro(t){t.getElementById("cmp-detail-inputs").addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();let i=r.target?.closest("button"),o=i?.dataset.id,s=i?.dataset.propName;Je(t,o,s)&&oe(t,"nav-cmp-input")})}function no(t,e){let r=t.getElementById("cmp-detail-inputs"),n=e.inputs.filter(i=>!i.hideFromUI);n.length>0?(r.innerHTML="",n.forEach(i=>{r.appendChild(io(e,i))})):r.innerHTML=\`<p class="cmp-inputs-empty">\${e.name} component does not have any props</p>\`}function io(t,e){let r=document.createElement("button");r.dataset.id=t.id,r.dataset.propName=e.name,r.className="cmp-input-item nav-list-item",e.isRegistered||r.classList.add("cmp-input-item-unregistered");let n=document.createElement("span"),i=ft(e.type);n.className=\`nav-list-item-icon input-icon input-icon-\${i}\`,r.appendChild(n);let o=document.createElement("span");o.innerText=e.friendlyName||e.name,r.appendChild(o);let s=document.createElement("span");return s.className="nav-list-item-note",s.innerText=e.type,r.appendChild(s),r}function oi(t){t.getElementById("open-builder-registry").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),De({filePath:G.registryPath,line:1,column:1})}),t.getElementById("cmp-list").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation();let u=o.target?.dataset.id,d=G.components.find(p=>p.id===u);if(d){let p=t.querySelector(".nav-cmp-detail .section-content");p.scrollTop=0,be(t,d.id),oe(t,"nav-cmp-detail"),d.isRegistered&&kt(t,"load")}});let n=t.getElementById("component-search"),i=t.getElementById("clear-search");n?.addEventListener("input",o=>{let s=o.target.value.toLowerCase(),u=s?G.components.filter(d=>d.name.toLowerCase().includes(s)||d.displayFilePath?.toLowerCase().includes(s)):G.components;ue(t,u),i.style.display=s?"flex":"none"}),i?.addEventListener("click",()=>{n.value="",ue(t),i.style.display="none"}),n?.addEventListener("keydown",o=>{o.key==="Escape"&&(n.value="",ue(t),i.style.display="none")})}function si(t){let e=jr();oo(t,e)}async function oo(t,e){let r=t.getElementById("cmp-list"),n=t.querySelector(".nav-cmp-list");n.classList.add("nav-loading");let i=t.getElementById("open-builder-registry");try{let o=await e;le(o),ue(t),G.registryDisplayPath?i.innerText="Open "+o.registryDisplayPath:i.innerText=""}catch(o){r.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${o.message||o}</p>\`,console.error(o)}n.classList.remove("nav-loading")}function ue(t,e){let r=t.getElementById("cmp-list");r.innerHTML="";let n=e||G.components,i=n.filter(s=>s.isRegistered),o=n.filter(s=>!s.isRegistered);if(e&&e.length===0){let s=document.createElement("p");s.className="no-results",s.innerText="No matching components found",r.appendChild(s);return}ni(r,"Registered Components",i),ni(r,"Unregistered Components",o)}function ni(t,e,r){if(r.length>0){let n=document.createElement("h4");n.innerText=e,t.appendChild(n),r.forEach(i=>{t.appendChild(so(i))})}}function so(t){let e=document.getElementById("component-search")?.value.toLowerCase(),r=document.createElement("button");r.dataset.id=t.id,r.className="cmp-item nav-list-item",t.isRegistered&&r.classList.add("registered");let n=document.createElement("span");n.className="nav-list-item-icon",t.image&&(n.style.backgroundImage=\`url(\${t.image})\`),r.appendChild(n);let i=document.createElement("span");i.className="nav-list-item-name",i.innerHTML=ii(t.name,e),r.appendChild(i);let o=document.createElement("span");return o.className="nav-list-item-note",o.innerHTML=ii(t.displayFilePath||"",e),r.appendChild(o),r}function ii(t,e){if(!e)return t;let r=new RegExp(\`(\${e})\`,"gi");return t.replace(r,'<span class="search-highlight">$1</span>')}var ai=t=>{t.querySelector(".menu-toggle").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),Ee(t,!0)}),t.getElementById("close").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),Ee(t,!1)}),t.getElementById("hit").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),Ee(t,!1)}),Ar(t),t.addEventListener("click",e=>e.stopPropagation()),ao(t)},Ee=(t,e)=>{e?(document.body.classList.add("builder-no-scroll"),t.host.classList.add("show-builder-menu"),te("menuOpen"),Lr("menuOpened"),ye("interaction",{type:"click",name:"open dev-tools menu"})):(document.body.classList.remove("builder-no-scroll"),t.host.classList.remove("show-builder-menu"),te("menuClose"),setTimeout(()=>{oe(t,"nav-home")},300)),Yr(e)},ao=t=>{if(!xr("menuOpened")){uo(t);return}let e=Ze();if(!((Date.now()-e.firstVisitTs)/1e3/60<10)&&!xr("feedback")){Lr("feedback"),co(t);return}},uo=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="#open-dev-tools",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>Open Builder Devtools</h3>
      <p>Start registering your components</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),e.classList.remove("menu-toggle-tooltip-show"),Ee(t,!0)})},1e3)},co=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform",e.target="_blank",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>How's Devtools working for you?</h3>
      <p>We'd love your feedback!</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",()=>{e.classList.remove("menu-toggle-tooltip-show")})},1e3)};function ui(t){t.getElementById("go-to-builder").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),Ee(t,!1),window.open(Nr(),"builder")}),t.getElementById("components-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation();let u=t.querySelector(".nav-cmp-list .section-content");u.scrollTop=0,oe(t,"nav-cmp-list"),si(t)}),t.getElementById("settings-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),oe(t,"nav-settings")}),t.getElementById("add-page-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),Ee(t,!1),window.open(je(),"builder")}),t.getElementById("import-from-figma").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),Ee(t,!1),window.open("https://www.figma.com/community/plugin/747985167520967365/builder-io-ai-powered-figma-to-code-react-vue-tailwind-more")})}function ci(t){let e=t.getElementById("enable-edit");e.addEventListener("change",r=>{r.stopPropagation(),Ft(e.checked)}),e.checked=it(),Ft(e.checked)}var At=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=\`<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}.menu-toggle{position:absolute;right:0;bottom:0;pointer-events:auto;padding:8px;background:transparent;border:none;appearance:none}.menu-toggle div{position:relative;width:64px;height:64px;pointer-events:none;border-radius:50%;background:#000;border:1px solid white;box-shadow:#00000054 0 0 8px}.menu-toggle:hover div{background-color:var(--background-color);border:1px solid rgb(220,220,220)}.menu-toggle svg{position:absolute;top:15px;left:15px;width:33px;height:32px}div.highlight-bg{position:absolute;top:-1px;left:-1px;background-color:#1a1a1a;pointer-events:none;transition:all .4s ease-out;opacity:0}.menu-toggle-highlight-no-transition div.highlight-bg{transition:none}.menu-toggle-highlight div.highlight-bg{opacity:1}.menu-toggle-tooltip{position:absolute;bottom:0;right:0;width:382px;height:72px;padding:0;text-align:left;appearance:none;background-color:transparent;border:none;pointer-events:none;transform:translate3d(320px,0,0);opacity:0;transition:all .15s ease-in-out;color:#fff}.menu-toggle-tooltip.menu-toggle-tooltip-show{pointer-events:auto;opacity:1;transform:translateZ(0)}.menu-toggle-tooltip-content{position:absolute;inset:0 95px 10px 0;padding:8px 12px;background-color:var(--primary-color);box-shadow:#00000054 0 0 20px;border-radius:2px}.menu-toggle-tooltip-content:before{content:"";position:absolute;bottom:15px;right:-6px;width:30px;height:30px;background-color:var(--primary-color);transform:rotate(45deg)}.menu-toggle-tooltip:hover .menu-toggle-tooltip-content,.menu-toggle-tooltip:hover .menu-toggle-tooltip-content:before{background-color:var(--primary-color-highlight)}.menu-toggle-tooltip-content h3{margin:0;font-size:16px}.menu-toggle-tooltip-content p{margin:0;font-size:12px}section{position:absolute;display:grid;grid-template-rows:64px auto 64px;top:0;left:0;width:100%;height:100%;padding:0;pointer-events:none}.section-content{margin:0;padding:0 0 10px;font-weight:300;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;overflow-y:auto}.section-content .error{color:var(--error-color);font-weight:700}section a{text-decoration:none;color:var(--text-color)}section h3,section p{margin-left:16px;margin-right:16px}.info{font-size:12px}ul.list{list-style:none;padding:0;margin:0}ul.list li{display:block;padding:0;margin:0}ul.list a,ul.list button{display:grid;grid-template-columns:24px auto;grid-gap:16px;padding:12px;margin:8px 0;border:none;background:transparent;appearance:none;width:100%;font-weight:300;text-align:left;text-decoration:none;color:var(--text-color)}ul.list a:hover,ul.list button:hover{text-decoration:none;color:var(--text-color);background-color:var(--button-background-color-hover)}ul.list a span,ul.list button span{display:block;font-size:16px;font-weight:500;line-height:1.5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}header{position:relative;display:grid;grid-template-columns:44px 1fr;gap:8px;padding-left:8px;border-bottom:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}header>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nav-home header>div{margin-right:56px}header h2{margin:7px 0 0;font-size:18px;font-weight:500;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p{margin:2px 0 0;font-size:12px;font-weight:300;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button{display:block;margin:0;padding:0;width:100%;font-size:12px;font-weight:300;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button:hover{text-decoration:underline;color:var(--primary-color)}.builder-logo{margin:12px 0 0 8px}#close{display:block;position:absolute;appearance:none;background:transparent;border:none;border-radius:50%;margin:0;padding:0;right:4px;top:8px;width:48px;height:48px;z-index:1;opacity:.7}#close:hover{opacity:1;background-color:var(--button-background-color-hover)}#close svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}.back-button{position:relative;display:block;margin:7px 0 0 -2px;width:48px;height:48px;background:transparent;border:none;appearance:none;border-radius:50%}.back-button:hover{background-color:var(--button-background-color-hover)}.back-button svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}footer{border-top:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}section.nav-cmp-list{grid-template-rows:64px auto 120px}footer a{text-decoration:underline;color:var(--primary-color)}footer a:hover{color:var(--primary-color);text-decoration:none}.nav-list{padding:2px 0}.nav-loading{pointer-events:none}.nav-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.nav-loading .nav-loading-icon{opacity:.5}.nav-list h4{margin:8px 8px 8px 10px;font-size:14px;font-weight:600}.nav-list .nav-list-item+h4{margin-top:30px}.nav-list-item{display:grid;grid-template-columns:1fr 1fr;gap:8px;position:relative;margin:2px 0;padding:8px 28px 8px 46px;width:100%;font-size:14px;font-weight:300;text-align:left;border:none;background:transparent;appearance:none}.nav-list-item:hover{background-color:var(--button-background-color-hover)}.nav-list-item-icon{position:absolute;top:4px;left:10px;width:24px;height:24px;object-fit:contain;filter:invert(100%);background-size:24px 24px;background-repeat:no-repeat;background-position:center center}.nav-list-item span{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;pointer-events:none}.nav-list-item:after{display:block;position:absolute;content:"";background-image:url('data:image/svg+xml,<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L7 7L1 13" stroke="%23F2F2F2" stroke-opacity="0.5" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');background-repeat:no-repeat;background-position:12px 9px;top:0;right:0;width:32px;height:32px;pointer-events:none}.nav-list-item-note{opacity:0;font-size:12px;padding-top:1px;text-align:right}.nav-list-item:hover .nav-list-item-note{opacity:.5}.ui-select{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-select h3{margin:0;font-size:14px;font-weight:500}.ui-select p{margin:8px 0;font-size:12px;font-weight:300}.ui-select .select{position:relative;margin:8px 0;border-radius:4px;padding:0;line-height:1.1;overflow:hidden;border:1px solid var(--border-color)}.ui-select select{appearance:none;background-color:transparent;border:none;outline:none;padding:8px 32px 8px 8px;margin:0;width:100%;font-size:14px;cursor:pointer;text-overflow:ellipsis;opacity:.6;color:var(--text-color)}.ui-select .select:after{content:"";top:6px;right:5px;width:24px;height:24px;position:absolute;background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="%23F2F2F2" d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>');background-repeat:no-repeat;background-position:center;pointer-events:none;opacity:.6}.ui-select .select:hover{border-color:var(--primary-color-subdued)}.ui-text-input .select:focus-within{border-color:var(--primary-color)}.ui-text-input .select:focus-within select{opacity:1}.spinner:after{content:" ";display:block;width:32px;height:32px;margin:0 auto;pointer-events:auto;border-radius:50%;border:3px solid var(--text-color);border-color:var(--text-color) transparent var(--text-color) transparent;animation:spinner .75s linear infinite}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ui-switch{display:grid;grid-template-columns:auto 48px;grid-gap:20px;margin:8px 0 16px;padding:8px 0 8px 16px;cursor:pointer}.ui-switch>*{pointer-events:none}.ui-switch input{display:none;visibility:hidden}.ui-switch .switcher{display:inline-block;border-radius:100px;width:35px;height:14px;background-color:#ccc;position:relative;top:6px;vertical-align:middle;cursor:pointer}.ui-switch input[type=checkbox]:checked+.switcher{background-color:var(--primary-color-subdued)}.ui-switch .switcher:before{content:"";display:block;width:20px;height:20px;background-color:var(--text-color);box-shadow:0 1px 3px #0009;border-radius:50%;position:absolute;top:-3px;left:0;margin-right:0;transition:all .15s}.ui-switch input[type=checkbox]:checked+.switcher:before{left:100%;margin-left:-20px;background-color:var(--primary-color)}.ui-switch h3{margin:0;font-size:14px;font-weight:500}.ui-switch p{margin:4px 0 0;font-size:12px;font-weight:300}.ui-text-input{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-text-input h3{margin:0;font-size:14px;font-weight:500}.ui-text-input p{margin:8px 0;font-size:12px;font-weight:300}.ui-text-input .input{position:relative;margin:8px 0;border:1px solid var(--border-color);border-radius:4px;background:transparent;padding:2px;overflow:hidden}.ui-text-input input{display:block;width:235px;font-size:14px;border:none;background:transparent;padding:6px;appearance:none;color:var(--text-color);opacity:.6;outline:none}.ui-text-input .input:hover{border-color:var(--primary-color-subdued)}.ui-text-input .input:focus-within{border-color:var(--primary-color)}.ui-text-input .input:focus-within input{opacity:1}.ui-text-input .input:after{content:"";position:absolute;top:5px;right:14px;width:8px;height:17px;border:2px solid rgba(51,181,51,1);border-top:none;border-left:none;transform:rotate(45deg);opacity:0;transition:opacity 80ms ease-in-out;pointer-events:none}.ui-text-input.saved .input:after{opacity:1}.ui-toast{position:fixed;bottom:8px;left:8px;right:8px;padding:6px 12px;font-size:14px;border-radius:4px;transform:translate3d(0,150%,0);opacity:0;transition:all var(--transition-time) ease-in-out;background-color:var(--primary-color-subdued);color:var(--text-color);pointer-events:none}.ui-toast.ui-toast-show{transform:translateZ(0);opacity:1;pointer-events:auto}[data-view=nav-home] .nav-home .section-content,[data-view=nav-cmp-list] .nav-cmp-list .section-content,[data-view=nav-cmp-detail] .nav-cmp-detail .section-content,[data-view=nav-cmp-input] .nav-cmp-input .section-content,[data-view=nav-settings] .nav-settings .section-content{transform:translateZ(0);pointer-events:auto}[data-view=nav-home] .nav-home header,[data-view=nav-home] .nav-home footer,[data-view=nav-cmp-list] .nav-cmp-list header,[data-view=nav-cmp-list] .nav-cmp-list footer,[data-view=nav-cmp-detail] .nav-cmp-detail header,[data-view=nav-cmp-detail] .nav-cmp-detail footer,[data-view=nav-cmp-input] .nav-cmp-input header,[data-view=nav-cmp-input] .nav-cmp-input footer,[data-view=nav-settings] .nav-settings header,[data-view=nav-settings] .nav-settings footer{opacity:1;pointer-events:auto}[data-view=nav-cmp-list] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-home .section-content,[data-view=nav-cmp-input] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-cmp-detail .section-content,[data-view=nav-settings] .nav-home .section-content{transform:translate3d(-105%,0,0)}.cmp-item .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.83 16.809C20.94 16.561 21 16.289 21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L7.988 3.99001M5.441 5.44801L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L18.544 18.56" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M14.532 10.538L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3.27002 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 3L21 21" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');opacity:.3}.cmp-item.registered .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /></svg>');opacity:.8}.search-highlight{background-color:var(--primary-color-alpha);padding:0 2px;border-radius:2px;font-weight:500}.search-container{position:sticky;top:0;z-index:10;padding:12px 16px;background:var(--background-color);border-bottom:1px solid var(--border-color)}.search-input-wrapper{position:relative;display:flex;align-items:center}.search-icon{position:absolute;left:12px;color:var(--text-color-secondary);pointer-events:none}.component-search-input{width:100%;height:36px;padding:8px 36px;border:1px solid var(--border-color);border-radius:6px;background:var(--input-background);color:var(--text-color);font-size:14px;transition:border-color .2s,box-shadow .2s}.component-search-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px var(--primary-color-alpha)}.component-search-input::placeholder{color:var(--text-color-tertiary)}.clear-search-button{position:absolute;right:8px;padding:4px;color:var(--text-color-secondary);border:none;background:transparent;border-radius:4px;cursor:pointer;opacity:0;transition:opacity .2s,background-color .2s;display:flex;align-items:center;justify-content:center}.clear-search-button:hover{background-color:var(--hover-color)}.component-search-input:not(:placeholder-shown)+.clear-search-button{opacity:1}.no-results{padding:32px 16px;text-align:center;color:var(--text-color-secondary);font-size:14px}#cmp-detail{position:relative}.cmp-loading{pointer-events:none!important}.cmp-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.cmp-loading .cmp-loading-icon{opacity:.5}.cmp-cover{position:absolute;top:160px;left:0;width:100%;height:100vh;background:var(--background-color);transform:translateZ(0);pointer-events:none;display:none}[data-view=nav-cmp-detail] .cmp-cover{display:block;pointer-events:auto}.cmp-enabled .cmp-cover{transform:translate3d(0,105%,0);pointer-events:none}.section-ready .cmp-cover{transition:all var(--transition-time) ease-in-out}.cmp-detail-inputs-container{margin:8px 0 16px;padding:0}.cmp-detail-inputs-container h3{margin:0 0 6px;padding-left:16px;padding-right:8px;font-size:14px;font-weight:500;display:flex;justify-content:space-between;align-items:center}.cmp-detail-inputs-reload{font-weight:300;font-size:.9em;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cmp-detail-inputs-reload:hover{text-decoration:underline;color:var(--primary-color)}.cmp-detail-inputs-container .cmp-inputs-empty{padding:0;margin-top:12px;font-size:12px;font-weight:300;opacity:.5;font-style:italic}.cmp-detail-inputs-container .nav-list-item-icon{opacity:.8;background-size:20px 20px;background-position:4px center}.input-icon{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path></svg>')}.input-icon-array{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-6a2 2 0 1 1 4 0v6"></path> <path d="M10 13h4"></path></svg>')}.input-icon-boolean{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16h2a2 2 0 1 0 0 -4h-2h2a2 2 0 1 0 0 -4h-2v8z"></path></svg>')}.input-icon-number{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-8l4 8v-8"></path></svg>')}.input-icon-object{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M12 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z"></path></svg>')}.input-icon-string{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 15a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-2a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1"></path></svg>')}.cmp-input-item-unregistered{opacity:.4}.cmp-input-item-unregistered .input-icon:after{content:"";position:absolute;top:11px;left:4px;width:20px;height:2px;background-color:#000;transform:rotate(-45deg)}.cmp-prop-info{border-bottom:1px solid var(--border-color)}.cmp-input-readonly{margin:16px 0;padding:0 16px;display:grid;grid-template-columns:50% 50%;gap:12px}.cmp-input-readonly h3{margin:0;font-size:14px;font-weight:500}.cmp-input-readonly span{margin-top:2px;font-size:12px;font-weight:300;opacity:.8}.cmp-input-detail{margin:16px 0}.cmp-input-detail a{color:var(--primary-color);text-decoration:none}.cmp-input-detail a:hover{text-decoration:underline}.input-cover{position:absolute;top:175px;left:0;width:100%;height:100%;background:var(--background-color);transform:translateZ(0);transition:all var(--transition-time) ease-in-out;pointer-events:auto}.input-enabled .input-cover{transform:translate3d(0,105%,0);pointer-events:none}.input-loading-icon{position:absolute;display:inline-block;top:190px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.input-loading .input-loading-icon{opacity:.5}:host{position:fixed;inset:0;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}aside{position:absolute;top:0;right:0;width:var(--menu-width);height:100%;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;background:var(--background-color);box-shadow:#000000c9 5px 0 20px;overflow:hidden;z-index:1}:host(.show-builder-menu) aside{pointer-events:auto;transform:translateZ(0)}#hit{position:absolute;inset:0;display:none}:host(.show-builder-menu) #hit{display:block;pointer-events:auto}#version{position:absolute;bottom:6px;right:6px;font-size:8px;color:#9b9b9b}</style><div id="hit"></div> <aside data-view="nav-home"> <section class="nav-home"> <header> <svg class="builder-logo" viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> <div> <h2 class="builder-home-title">Builder Devtools</h2> <p><button id="go-to-builder">Go to Builder</button></p> </div> <button id="close" aria-label="Close Menu"> <svg viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M18 6l-12 12" /> <path d="M6 6l12 12" /> </svg> </button> </header> <div class="section-content"> <ul class="list"> <li> <button id="components-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Components</span> </button> </li> <li> <button id="settings-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M10.325 4.317C10.751 2.561 13.249 2.561 13.675 4.317C13.7389 4.5808 13.8642 4.82578 14.0407 5.032C14.2172 5.23822 14.4399 5.39985 14.6907 5.50375C14.9414 5.60764 15.2132 5.65085 15.4838 5.62987C15.7544 5.60889 16.0162 5.5243 16.248 5.383C17.791 4.443 19.558 6.209 18.618 7.753C18.4769 7.98466 18.3924 8.24634 18.3715 8.51677C18.3506 8.78721 18.3938 9.05877 18.4975 9.30938C18.6013 9.55999 18.7627 9.78258 18.9687 9.95905C19.1747 10.1355 19.4194 10.2609 19.683 10.325C21.439 10.751 21.439 13.249 19.683 13.675C19.4192 13.7389 19.1742 13.8642 18.968 14.0407C18.7618 14.2172 18.6001 14.4399 18.4963 14.6907C18.3924 14.9414 18.3491 15.2132 18.3701 15.4838C18.3911 15.7544 18.4757 16.0162 18.617 16.248C19.557 17.791 17.791 19.558 16.247 18.618C16.0153 18.4769 15.7537 18.3924 15.4832 18.3715C15.2128 18.3506 14.9412 18.3938 14.6906 18.4975C14.44 18.6013 14.2174 18.7627 14.0409 18.9687C13.8645 19.1747 13.7391 19.4194 13.675 19.683C13.249 21.439 10.751 21.439 10.325 19.683C10.2611 19.4192 10.1358 19.1742 9.95929 18.968C9.7828 18.7618 9.56011 18.6001 9.30935 18.4963C9.05859 18.3924 8.78683 18.3491 8.51621 18.3701C8.24559 18.3911 7.98375 18.4757 7.752 18.617C6.209 19.557 4.442 17.791 5.382 16.247C5.5231 16.0153 5.60755 15.7537 5.62848 15.4832C5.64942 15.2128 5.60624 14.9412 5.50247 14.6906C5.3987 14.44 5.23726 14.2174 5.03127 14.0409C4.82529 13.8645 4.58056 13.7391 4.317 13.675C2.561 13.249 2.561 10.751 4.317 10.325C4.5808 10.2611 4.82578 10.1358 5.032 9.95929C5.23822 9.7828 5.39985 9.56011 5.50375 9.30935C5.60764 9.05859 5.65085 8.78683 5.62987 8.51621C5.60889 8.24559 5.5243 7.98375 5.383 7.752C4.443 6.209 6.209 4.442 7.753 5.382C8.753 5.99 10.049 5.452 10.325 4.317Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Settings</span> </button> </li> <li> <button id="add-page-link"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M14 3v4a1 1 0 0 0 1 1h4" /> <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /> <path d="M12 11l0 6" /> <path d="M9 14l6 0" /> </svg> <span>Add Builder Page</span> </button> </li> <li> <button id="import-from-figma"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-figma" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M15 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /> <path d="M6 3m0 3a3 3 0 0 1 3 -3h6a3 3 0 0 1 3 3v0a3 3 0 0 1 -3 3h-6a3 3 0 0 1 -3 -3z" /> <path d="M9 9a3 3 0 0 0 0 6h3m-3 0a3 3 0 1 0 3 3v-15" /> </svg> <span>Import From Figma</span> </button> </li> </ul> </div> <footer> <ul class="list"> <li> <a href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform" target="_blank" > <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M11.013 17.0114L10.013 18.0114L2.513 10.5834C2.0183 10.102 1.62864 9.52342 1.36854 8.88404C1.10845 8.24466 0.983558 7.55836 1.00173 6.86834C1.01991 6.17832 1.18076 5.49954 1.47415 4.87474C1.76755 4.24994 2.18713 3.69266 2.70648 3.23799C3.22583 2.78331 3.8337 2.4411 4.49181 2.23289C5.14991 2.02468 5.844 1.95499 6.53036 2.02821C7.21673 2.10143 7.8805 2.31596 8.47987 2.65831C9.07925 3.00066 9.60124 3.46341 10.013 4.01741C10.8086 2.95654 11.9931 2.2552 13.3059 2.06766C14.6186 1.88012 15.9521 2.22176 17.013 3.01741C18.0739 3.81306 18.7752 4.99755 18.9627 6.3103C19.1503 7.62305 18.8086 8.95654 18.013 10.0174" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M18.2006 19.8175L16.0286 20.9555C15.9642 20.989 15.8917 21.004 15.8192 20.9987C15.7467 20.9934 15.6771 20.9681 15.6182 20.9256C15.5593 20.8831 15.5134 20.825 15.4855 20.7579C15.4577 20.6907 15.4491 20.6172 15.4606 20.5455L15.8756 18.1345L14.1186 16.4275C14.0662 16.3768 14.0291 16.3123 14.0115 16.2416C13.9939 16.1708 13.9966 16.0965 14.0192 16.0271C14.0418 15.9578 14.0835 15.8962 14.1394 15.8494C14.1954 15.8026 14.2634 15.7725 14.3356 15.7625L16.7636 15.4105L17.8496 13.2175C17.8821 13.1521 17.9322 13.0972 17.9942 13.0588C18.0562 13.0204 18.1277 13 18.2006 13C18.2736 13 18.3451 13.0204 18.4071 13.0588C18.4691 13.0972 18.5191 13.1521 18.5516 13.2175L19.6376 15.4105L22.0656 15.7625C22.1377 15.7728 22.2054 15.8031 22.2611 15.85C22.3168 15.8968 22.3583 15.9583 22.3809 16.0275C22.4034 16.0967 22.4062 16.1708 22.3888 16.2415C22.3715 16.3122 22.3347 16.3766 22.2826 16.4275L20.5256 18.1345L20.9396 20.5445C20.9521 20.6163 20.9441 20.6902 20.9166 20.7578C20.8891 20.8254 20.8433 20.8839 20.7842 20.9267C20.7252 20.9695 20.6553 20.9949 20.5825 21C20.5098 21.005 20.4371 20.9896 20.3726 20.9555L18.2006 19.8175Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Give Feedback</span> </a> </li> </ul> <div id="version"></div> </footer> </section> <section class="nav-cmp-list"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div class="search-container"> <div class="search-input-wrapper"> <svg class="search-icon" viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M15.5 15.5L20 20M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z" /> </svg> <input type="text" id="component-search" class="component-search-input" placeholder="Search components..." autocomplete="off" spellcheck="false" /> <button id="clear-search" class="clear-search-button" type="button" aria-label="Clear search" > <svg viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M6 6l12 12M6 18L18 6" /> </svg> </button> </div> </div> <div> <h2>Custom Components</h2> <p> <button id="open-builder-registry"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-list" class="cmp-list nav-list"></div> </div> <div class="nav-loading-icon spinner"></div> <footer> <p class="info"> Expand on Builder's selection of built-in blocks by <a target="_blank" href="https://www.builder.io/c/docs/custom-components-intro" >registering components</a > from your codebase. This way, teammates can drag and drop your components within Builder's Visual Editor just like any other block. </p> </footer> </section> <section class="nav-cmp-detail"> <header> <button class="back-button" data-back="nav-cmp-list"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-detail-title"></h2> <p> <button id="cmp-open-source"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-error"></div> <label class="ui-switch"> <div> <h3>Register Component</h3> <p> Registers this component so it can be used within Builder Visual CMS </p> </div> <input type="checkbox" role="switch" id="cmp-register" /> <span class="switcher"></span> </label> <div id="cmp-detail"> <label class="ui-text-input"> <h3>Component Name</h3> <div class="input"> <input type="text" id="cmp-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="2" maxlength="30" required placeholder="e.g. My Counter" /> </div> <p> Unique name to identify this custom component within Builder. Press ESC to cancel </p> </label> <div class="cmp-detail-inputs-container"> <h3> <span>Builder Inputs (Props)</span> <button class="cmp-detail-inputs-reload" id="btn-inputs-reload"> Reload </button> </h3> <div id="cmp-detail-inputs"></div> </div> </div> </div> <div class="cmp-cover"></div> <div class="cmp-loading-icon spinner"></div> </section> <section class="nav-cmp-input"> <header> <button class="back-button" data-back="nav-cmp-detail"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-input-title"></h2> <p> <button id="input-open-source"></button> </p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable Input</h3> <p>Add this component prop as a Builder input</p> </div> <input type="checkbox" role="switch" id="input-register" /> <span class="switcher"></span> </label> <div class="cmp-prop-info"> <div class="cmp-input-readonly"> <h3>Prop Name</h3> <span id="cmp-prop-name"></span> </div> <div class="cmp-input-readonly"> <h3>Prop Type</h3> <span id="cmp-prop-type"></span> </div> </div> <div class="cmp-input-detail"> <label class="ui-text-input"> <h3>Builder Input Name</h3> <div class="input"> <input type="text" id="input-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="1" maxlength="30" required placeholder="e.g. Text" /> </div> <p> Friendly name to identify this component prop as a Builder input. Press ESC to cancel </p> </label> <label class="ui-select"> <h3>Builder Input Type</h3> <div class="select"> <select id="input-type"></select> </div> <p> Correlate to what editing UI is appropriate for this Builder input. <a href="https://www.builder.io/c/docs/custom-components-input-types" target="_blank" >Read more about input types.</a > </p> </label> </div> <div class="input-cover"></div> <div class="input-loading-icon spinner"></div> </div> </section> <section class="nav-settings"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2>Settings</h2> <p>Configure Builder's Devtools</p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable edit button in UI</h3> <p>Enables the edit button so you can edit content in Builder</p> </div> <input type="checkbox" role="switch" id="enable-edit" /> <span class="switcher"></span> </label> </div> </section> <div class="ui-toast" id="toast"></div> </aside> <button class="menu-toggle" aria-label="Toggle Builder Devtools"> <div> <div class="highlight-bg"></div> <svg viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> </div> </button>\`,ai(e),ui(e),oi(e),ri(e),ti(e),ci(e),this.setAttribute("aria-hidden","true"),e.getElementById("version").textContent="v1.6.16"}highlightOpener(){let e=this.shadowRoot.querySelector(".menu-toggle");e.classList.add("menu-toggle-highlight"),e.classList.add("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight")},20)},20)}};var lo=\`<style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>\`,Dt=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=lo+\`<main>
  <aside>
    <div class="logo"></div>

    <ul>
      <li class="highlight active">
        <div class="circle"></div>
        <div class="line"></div>
        <span>Connect Builder.io</span>
      </li>
      <li>
        <div class="circle"></div>
        <div class="line"></div>
        <span>Update App</span>
      </li>
      <li>
        <div class="circle"></div>
        <span>Setup Complete</span>
      </li>
    </ul>
  </aside>

  <section>
    <h1>Integrate Builder.io with your project</h1>

    <p>
      First, let's connect to your Builder.io space to continue with the
      integration
    </p>

    <nav>
      <a class="button next-step" href="#">
        <span id="button-text">Get Started</span>
        <span id="button-icon"></span>
      </a>
    </nav>
  </section>
</main>
\`,po();let r=new URL(Vr,ot);r.searchParams.set(Mr,location.href);let n=e.querySelectorAll(".next-step");for(let i of n)i.setAttribute("href",r.href);ye("overview step viewed")}},po=()=>{let t=document.head.querySelector("link[rel='icon'], link[rel='icon shortcut']");t?(t.href="https://cdn.builder.io/favicon.ico",t.removeAttribute("type")):(t=document.createElement("link"),t.rel="icon",t.href="https://cdn.builder.io/favicon.ico",document.head.appendChild(t))};var li=async()=>{(await qr()).isValid||fo()},fo=()=>{customElements.get("builder-dev-tools-overview")||customElements.define("builder-dev-tools-overview",Dt);let t=document.querySelector("builder-dev-tools-overview");t||(t=document.createElement("builder-dev-tools-overview"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),setTimeout(()=>{t.removeAttribute("aria-hidden")},32)};var mo=()=>{try{customElements.get("builder-dev-tools-edit")||customElements.define("builder-dev-tools-edit",st),customElements.get("builder-dev-tools-menu")||customElements.define("builder-dev-tools-menu",At);let t=document.querySelector("builder-dev-tools-menu");t||(t=document.createElement("builder-dev-tools-menu"),t.setAttribute("data-version","1.6.16"),document.body.appendChild(t));let e=document.querySelector("builder-dev-tools-edit");e||(e=document.createElement("builder-dev-tools-edit"),document.body.appendChild(e));let r=document.getElementById("builder-dev-tools-style");r||(r=document.createElement("style"),r.id="builder-dev-tools-style",r.innerHTML=".builder-no-scroll{overflow:hidden !important}",document.head.appendChild(r)),li(),Jn()}catch(t){console.error("Builder Devtools:",t)}};window.location===window.parent.location&&(console.debug("Builder.io Devtools v1.6.16"),mo());})();`)}async function zD(e){return qD(e,`<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Builder.io</title>
    <style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>
    <link rel="icon shortcut" href="https://cdn.builder.io/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <main>
      <aside>
        <div class="logo"></div>

        <ul>
          <li class="highlight completed">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Connect Builder.io</span>
          </li>
          <li id="step-update-app" class="highlight active">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Update App</span>
          </li>
          <li id="step-setup-complete">
            <div class="circle"></div>
            <span>Setup Complete</span>
          </li>
        </ul>
      </aside>

      <section id="updating" aria-hidden="false">
        <h1>Updating App to include Builder.io</h1>
        <p>
          We're making some updates so Builder can be used within this
          project.<br />
          This usually takes less than a minute to complete.
        </p>

        <nav>
          <p>
            <a id="completing" class="button" aria-disabled="true" href="#">
              <span id="button-text">Updating</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="success" aria-hidden="true">
        <h1 id="success-title">
          Connection Successful
          <div class="check-icon"></div>
        </h1>

        <p>
          Your project is now ready to work with Builder! You can close this tab
          and return to Builder or your development project to continue.
        </p>

        <div id="modified-files-message" hidden>
          <p>
            We've made a few updates to your app to help integrate Builder.io:
          </p>
          <ul id="modified-files-list"></ul>
        </div>

        <p id="restart-warning" hidden>
          Please restart the dev server to ensure the changes take effect, then
          reload this page.
        </p>

        <div id="router-message" hidden>
          <!-- Route message for react -->
          <div id="react-message-section" hidden>
            <span
              >Next, add the following path and component in your React app
              routing setup</span
            >
            <ol id="react-router-steps">
              <li>
                Update path to <strong>'/builder-demo'</strong> or
                <strong>'/*'</strong>
              </li>
              <li>
                Add <strong>'BuilderPage'</strong> component from
                <code>builder-page</code> file
              </li>
            </ol>
          </div>

          <!-- Route message for angular -->
          <div id="angular-message-section" hidden>
            <span
              >Next, add the following path for Builder page in your Angular
              routes</span
            >
            <ol id="angular-router-steps">
              <li>
                Update path to <strong>'builder-demo'</strong> or
                <strong>'**'</strong>
              </li>
              <li>
                Add <strong>'BuilderPage'</strong> component from
                <code>builder-page.component</code> file
              </li>
            </ol>
          </div>

          <a id="need-help" href="#" hidden>
            <span id="help-text">Need help?</span>
            <span id="help-icon"></span>
          </a>
          <div id="router-checkbox-div"></div>
        </div>
        <div id="router-finish-button" hidden>
          <a class="button next-step" href="#">
            <span id="button-text">Finish</span>
            <span id="button-icon"></span>
          </a>
        </div>

        <nav id="go-to-app" hidden>
          <p hidden>Your new app is ready for Builder content! Let's go!</p>
          <p>
            <a class="button next-step" href="#">
              <span id="button-text">Go</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="error" aria-hidden="true">
        <h1>Oops!</h1>
        <p>Looks like we tripped up on an issue!</p>
        <ul id="error-messages"></ul>
      </section>

      <section id="restart-server" aria-hidden="true">
        <h1>Please Restart Your Dev Server</h1>
        <p>
          We've made updates to your application, please restart your dev server
          to ensure the changes take effect.
        </p>
        <p>
          <a id="completing" class="button" aria-disabled="true" href="#">
            <span id="button-text">Please restart your dev server</span>
            <span id="button-icon"></span>
          </a>
        </p>
      </section>
    </main>
    <script>"use strict";(()=>{var Ii=Object.create;var ar=Object.defineProperty;var Si=Object.getOwnPropertyDescriptor;var Ti=Object.getOwnPropertyNames;var xi=Object.getPrototypeOf;var Pi=Object.prototype.hasOwnProperty;var Ri=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Oi=(t,e,r,i)=>{if(e&&typeof e==="object"||typeof e==="function"){for(let n of Ti(e))if(!Pi.call(t,n)&&n!==r)ar(t,n,{get:()=>e[n],enumerable:!(i=Si(e,n))||i.enumerable})}return t};var ki=(t,e,r)=>(r=t!=null?Ii(xi(t)):{},Oi(e||!t||!t.__esModule?ar(r,"default",{value:t,enumerable:true}):r,t));var li=Ri((Be,ot)=>{(function(t,e){"use strict";var r="0.7.33",i="",n="?",o="function",s="undefined",d="object",p="string",l="major",a="model",u="name",c="type",f="vendor",v="version",w="architecture",g="console",h="mobile",m="tablet",E="smarttv",P="wearable",C="embedded",I=350;var O="Amazon",k="Apple",K="ASUS",z="BlackBerry",$="Browser",R="Chrome",_e="Edge",ie="Firefox",fe="Google",Re="Huawei",be="LG",we="Microsoft",Oe="Motorola",pe="Opera",ve="Samsung",Ee="Sharp",oe="Sony",ae="Xiaomi",ke="Zebra",L="Facebook";var je=function(S,A){var T={};for(var q in S){if(A[q]&&A[q].length%2===0){T[q]=A[q].concat(S[q])}else{T[q]=S[q]}}return T},Ge=function(S){var A={};for(var T=0;T<S.length;T++){A[S[T].toUpperCase()]=S[T]}return A},tr=function(S,A){return typeof S===p?Ae(A).indexOf(Ae(S))!==-1:false},Ae=function(S){return S.toLowerCase()},wi=function(S){return typeof S===p?S.replace(/[^\\d\\.]/g,i).split(".")[0]:e},ut=function(S,A){if(typeof S===p){S=S.replace(/^\\s\\s*/,i);return typeof A===s?S:S.substring(0,I)}};var Ce=function(S,A){var T=0,q,x,He,U,De,ee;while(T<A.length&&!De){var nr=A[T],or=A[T+1];q=x=0;while(q<nr.length&&!De){De=nr[q++].exec(S);if(!!De){for(He=0;He<or.length;He++){ee=De[++x];U=or[He];if(typeof U===d&&U.length>0){if(U.length===2){if(typeof U[1]==o){this[U[0]]=U[1].call(this,ee)}else{this[U[0]]=U[1]}}else if(U.length===3){if(typeof U[1]===o&&!(U[1].exec&&U[1].test)){this[U[0]]=ee?U[1].call(this,ee,U[2]):e}else{this[U[0]]=ee?ee.replace(U[1],U[2]):e}}else if(U.length===4){this[U[0]]=ee?U[3].call(this,ee.replace(U[1],U[2])):e}}else{this[U]=ee?ee:e}}}}T+=2}},ct=function(S,A){for(var T in A){if(typeof A[T]===d&&A[T].length>0){for(var q=0;q<A[T].length;q++){if(tr(A[T][q],S)){return T===n?e:T}}}else if(tr(A[T],S)){return T===n?e:T}}return S};var Ei={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},rr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"};var ir={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[v,[u,"Chrome"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[v,[u,"Edge"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[u,v],[/opios[\\/ ]+([\\w\\.]+)/i],[v,[u,pe+" Mini"]],[/\\bopr\\/([\\w\\.]+)/i],[v,[u,pe]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[u,v],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[v,[u,"UC"+$]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[v,[u,"WeChat(Win) Desktop"]],[/micromessenger\\/([\\w\\.]+)/i],[v,[u,"WeChat"]],[/konqueror\\/([\\w\\.]+)/i],[v,[u,"Konqueror"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[v,[u,"IE"]],[/yabrowser\\/([\\w\\.]+)/i],[v,[u,"Yandex"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[u,/(.+)/,"$1 Secure "+$],v],[/\\bfocus\\/([\\w\\.]+)/i],[v,[u,ie+" Focus"]],[/\\bopt\\/([\\w\\.]+)/i],[v,[u,pe+" Touch"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[v,[u,"Coc Coc"]],[/dolfin\\/([\\w\\.]+)/i],[v,[u,"Dolphin"]],[/coast\\/([\\w\\.]+)/i],[v,[u,pe+" Coast"]],[/miuibrowser\\/([\\w\\.]+)/i],[v,[u,"MIUI "+$]],[/fxios\\/([-\\w\\.]+)/i],[v,[u,ie]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+$]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[u,/(.+)/,"$1 "+$],v],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[u,/_/g," "],v],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[u,v],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[u],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[u,L],v],[/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[u,v],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[v,[u,"GSA"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[v,[u,R+" Headless"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[u,R+" WebView"],v],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[v,[u,"Android "+$]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[u,v],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[v,[u,"Mobile Safari"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[v,u],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[u,[v,ct,Ei]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[u,v],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[u,"Netscape"],v],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[v,[u,ie+" Reality"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i],[u,v],[/(cobalt)\\/([\\w\\.]+)/i],[u,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,Ae]],[/((?:i[346]|x)86)[;\\)]/i],[[w,"ia32"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[w,"arm64"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[w,/ower/,i,Ae]],[/(sun4\\w)[;\\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[w,Ae]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[f,ve],[c,m]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[a,[f,ve],[c,h]],[/((ipod|iphone)\\d+,\\d+)/i],[a,[f,k],[c,h]],[/(ipad\\d+,\\d+)/i],[a,[f,k],[c,m]],[/\\((ip(?:hone|od)[\\w ]*);/i],[a,[f,k],[c,h]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[a,[f,k],[c,m]],[/(macintosh);/i],[a,[f,k]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[a,[f,Re],[c,m]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[a,[f,Re],[c,h]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[a,/_/g," "],[f,ae],[c,h]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[a,/_/g," "],[f,ae],[c,m]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[a,[f,"OPPO"],[c,h]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[a,[f,"Vivo"],[c,h]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[a,[f,"Realme"],[c,h]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[a,[f,Oe],[c,h]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[a,[f,Oe],[c,m]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[f,be],[c,m]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[a,[f,be],[c,h]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[a,[f,"Lenovo"],[c,m]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[a,/_/g," "],[f,"Nokia"],[c,h]],[/(pixel c)\\b/i],[a,[f,fe],[c,m]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[a,[f,fe],[c,h]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[a,[f,oe],[c,h]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[a,"Xperia Tablet"],[f,oe],[c,m]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[a,[f,"OnePlus"],[c,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[a,[f,O],[c,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[a,/(.+)/g,"Fire Phone $1"],[f,O],[c,h]],[/(playbook);[-\\w\\),; ]+(rim)/i],[a,f,[c,m]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[a,[f,z],[c,h]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[a,[f,K],[c,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[a,[f,K],[c,h]],[/(nexus 9)/i],[a,[f,"HTC"],[c,m]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i],[f,[a,/_/g," "],[c,h]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[a,[f,"Acer"],[c,m]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[a,[f,"Meizu"],[c,h]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[a,[f,Ee],[c,h]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[f,a,[c,h]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[f,a,[c,m]],[/(surface duo)/i],[a,[f,we],[c,m]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[a,[f,"Fairphone"],[c,h]],[/(u304aa)/i],[a,[f,"AT&T"],[c,h]],[/\\bsie-(\\w*)/i],[a,[f,"Siemens"],[c,h]],[/\\b(rct\\w+) b/i],[a,[f,"RCA"],[c,m]],[/\\b(venue[\\d ]{2,7}) b/i],[a,[f,"Dell"],[c,m]],[/\\b(q(?:mv|ta)\\w+) b/i],[a,[f,"Verizon"],[c,m]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[a,[f,"Barnes & Noble"],[c,m]],[/\\b(tm\\d{3}\\w+) b/i],[a,[f,"NuVision"],[c,m]],[/\\b(k88) b/i],[a,[f,"ZTE"],[c,m]],[/\\b(nx\\d{3}j) b/i],[a,[f,"ZTE"],[c,h]],[/\\b(gen\\d{3}) b.+49h/i],[a,[f,"Swiss"],[c,h]],[/\\b(zur\\d{3}) b/i],[a,[f,"Swiss"],[c,m]],[/\\b((zeki)?tb.*\\b) b/i],[a,[f,"Zeki"],[c,m]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[f,"Dragon Touch"],a,[c,m]],[/\\b(ns-?\\w{0,9}) b/i],[a,[f,"Insignia"],[c,m]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[a,[f,"NextBook"],[c,m]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],a,[c,h]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[f,"LvTel"],a,[c,h]],[/\\b(ph-1) /i],[a,[f,"Essential"],[c,h]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[a,[f,"Envizen"],[c,m]],[/\\b(trio[-\\w\\. ]+) b/i],[a,[f,"MachSpeed"],[c,m]],[/\\btu_(1491) b/i],[a,[f,"Rotor"],[c,m]],[/(shield[\\w ]+) b/i],[a,[f,"Nvidia"],[c,m]],[/(sprint) (\\w+)/i],[f,a,[c,h]],[/(kin\\.[onetw]{3})/i],[[a,/\\./g," "],[f,we],[c,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[a,[f,ke],[c,m]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[a,[f,ke],[c,h]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,a,[c,g]],[/droid.+; (shield) bui/i],[a,[f,"Nvidia"],[c,g]],[/(playstation [345portablevi]+)/i],[a,[f,oe],[c,g]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[a,[f,we],[c,g]],[/smart-tv.+(samsung)/i],[f,[c,E]],[/hbbtv.+maple;(\\d+)/i],[[a,/^/,"SmartTV"],[f,ve],[c,E]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[f,be],[c,E]],[/(apple) ?tv/i],[f,[a,k+" TV"],[c,E]],[/crkey/i],[[a,R+"cast"],[f,fe],[c,E]],[/droid.+aft(\\w)( bui|\\))/i],[a,[f,O],[c,E]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[a,[f,Ee],[c,E]],[/(bravia[\\w ]+)( bui|\\))/i],[a,[f,oe],[c,E]],[/(mitv-\\w{5}) bui/i],[a,[f,ae],[c,E]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i],[[f,ut],[a,ut],[c,E]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[c,E]],[/((pebble))app/i],[f,a,[c,P]],[/droid.+; (glass) \\d/i],[a,[f,fe],[c,P]],[/droid.+; (wt63?0{2,3})\\)/i],[a,[f,ke],[c,P]],[/(quest( 2)?)/i],[a,[f,L],[c,P]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[f,[c,C]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[a,[c,h]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[a,[c,m]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[c,m]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[c,h]],[/(android[-\\w\\. ]{0,9});.+buil/i],[a,[f,"Generic"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[v,[u,_e+"HTML"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[v,[u,"Blink"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[u,v],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[v,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,v],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[u,[v,ct,rr]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[u,"Windows"],[v,ct,rr]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[v,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[u,"Mac OS"],[v,/_/g,"."]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[v,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[u,v],[/\\(bb(10);/i],[v,[u,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[v,[u,"Symbian"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[v,[u,ie+" OS"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[v,[u,"webOS"]],[/crkey\\/([\\d\\.]+)/i],[v,[u,R+"cast"]],[/(cros) [\\w]+ ([\\w\\.]+\\w)/i],[[u,"Chromium OS"],v],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[u,v],[/(sunos) ?([\\w\\.\\d]*)/i],[[u,"Solaris"],v],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[u,v]]};var Y=function(S,A){if(typeof S===d){A=S;S=e}if(!(this instanceof Y)){return new Y(S,A).getResult()}var T=S||(typeof t!==s&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:i);var q=A?je(ir,A):ir;this.getBrowser=function(){var x={};x[u]=e;x[v]=e;Ce.call(x,T,q.browser);x.major=wi(x.version);return x};this.getCPU=function(){var x={};x[w]=e;Ce.call(x,T,q.cpu);return x};this.getDevice=function(){var x={};x[f]=e;x[a]=e;x[c]=e;Ce.call(x,T,q.device);return x};this.getEngine=function(){var x={};x[u]=e;x[v]=e;Ce.call(x,T,q.engine);return x};this.getOS=function(){var x={};x[u]=e;x[v]=e;Ce.call(x,T,q.os);return x};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return T};this.setUA=function(x){T=typeof x===p&&x.length>I?ut(x,I):x;return this};this.setUA(T);return this};Y.VERSION=r;Y.BROWSER=Ge([u,v,l]);Y.CPU=Ge([w]);Y.DEVICE=Ge([a,f,c,g,h,E,m,P,C]);Y.ENGINE=Y.OS=Ge([u,v]);if(typeof Be!==s){if(typeof ot!==s&&ot.exports){Be=ot.exports=Y}Be.UAParser=Y}else{if(typeof define===o&&define.amd){define(function(){return Y})}else if(typeof t!==s){t.UAParser=Y}}var Ie=typeof t!==s&&(t.jQuery||t.Zepto);if(Ie&&!Ie.ua){var Ke=new Y;Ie.ua=Ke.getResult();Ie.ua.get=function(){return Ke.getUA()};Ie.ua.set=function(S){Ke.setUA(S);var A=Ke.getResult();for(var T in A){Ie.ua[T]=A[T]}}}})(typeof window==="object"?window:Be)});var sr=\`api-key\`;var ur=\`p-key\`;var lt=\`preview-url\`;var dt=\`user-id\`;var cr="_b-uid";var lr=\`framework\`;var dr=\`platform\`;var fr=\`node\`;var pr="/~builder-dev-tools";var vr=\`kind\`;var hr="__DEV_TOOLS_URL__";var gr=(t,e,r)=>ft({type:"connectBuilder",data:{publicApiKey:t,privateAuthKey:e,kind:r}});var mr=()=>ft({type:"validateBuilder"});var yr=t=>ft({type:"launchEditor",data:t});var ft=async t=>{const e=new URL(pr,hr);let r;try{r=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(n){console.error(\`Devtools Fetch Error, \${e.href}\`,n);throw new Error(\`Builder Devtools Fetch Error\`)}const i=r.headers.get("content-type")||"";if(i.includes("application/json")){const n=await r.json();if(r.ok){return n.data}if(Array.isArray(n.errors)&&n.errors.length>0){n.errors.forEach(o=>console.error(o));throw new Error(\`Builder Devtools Fetch Error: \${n.errors[0]}\`)}}throw new Error(\`Builder Devtools Fetch Error: \${r.status}, \${await r.text()}\`)};var pt=function(t,e){pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n))r[n]=i[n]};return pt(t,e)};function te(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b=function(){b=Object.assign||function t(e){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return b.apply(this,arguments)};function Ue(t,e){var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0)r[i]=t[i];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++){if(e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n]))r[i[n]]=t[i[n]]}return r}function y(t,e,r,i){function n(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function d(a){try{l(i.next(a))}catch(u){s(u)}}function p(a){try{l(i["throw"](a))}catch(u){s(u)}}function l(a){a.done?o(a.value):n(a.value).then(d,p)}l((i=i.apply(t,e||[])).next())})}function _(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,s=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return s.next=d(0),s["throw"]=d(1),s["return"]=d(2),typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(l){return function(a){return p([l,a])}}function p(l){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,l[0]&&(r=0)),r)try{if(i=1,n&&(o=l[0]&2?n["return"]:l[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;if(n=0,o)l=[l[0]&2,o.value];switch(l[0]){case 0:case 1:o=l;break;case 4:r.label++;return{value:l[1],done:false};case 5:r.label++;n=l[1];l=[0];continue;case 7:l=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1];o=l;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(l);break}if(o[2])r.ops.pop();r.trys.pop();continue}l=e.call(t,r)}catch(a){l=[6,a];n=0}finally{i=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}}function Z(t){var e=typeof Symbol==="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&i>=t.length)t=void 0;return{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function D(t,e){var r=typeof Symbol==="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,o=[],s;try{while((e===void 0||e-- >0)&&!(n=i.next()).done)o.push(n.value)}catch(d){s={error:d}}finally{try{if(n&&!n.done&&(r=i["return"]))r.call(i)}finally{if(s)throw s.error}}return o}function J(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,o;i<n;i++){if(o||!(i in e)){if(!o)o=Array.prototype.slice.call(e,0,i);o[i]=e[i]}}return t.concat(o||Array.prototype.slice.call(e))}var j;(function(t){t["SET"]="$set";t["SET_ONCE"]="$setOnce";t["ADD"]="$add";t["APPEND"]="$append";t["PREPEND"]="$prepend";t["REMOVE"]="$remove";t["PREINSERT"]="$preInsert";t["POSTINSERT"]="$postInsert";t["UNSET"]="$unset";t["CLEAR_ALL"]="$clearAll"})(j||(j={}));var re;(function(t){t["REVENUE_PRODUCT_ID"]="$productId";t["REVENUE_QUANTITY"]="$quantity";t["REVENUE_PRICE"]="$price";t["REVENUE_TYPE"]="$revenueType";t["REVENUE_CURRENCY"]="$currency";t["REVENUE"]="$revenue"})(re||(re={}));var se;(function(t){t["IDENTIFY"]="$identify";t["GROUP_IDENTIFY"]="$groupidentify";t["REVENUE"]="revenue_amount"})(se||(se={}));var Q;(function(t){t[t["None"]=0]="None";t[t["Error"]=1]="Error";t[t["Warn"]=2]="Warn";t[t["Verbose"]=3]="Verbose";t[t["Debug"]=4]="Debug"})(Q||(Q={}));var N;(function(t){t["BEFORE"]="before";t["ENRICHMENT"]="enrichment";t["DESTINATION"]="destination"})(N||(N={}));var Se;(function(t){t["US"]="US";t["EU"]="EU";t["STAGING"]="STAGING"})(Se||(Se={}));var M;(function(t){t["Unknown"]="unknown";t["Skipped"]="skipped";t["Success"]="success";t["RateLimit"]="rate_limit";t["PayloadTooLarge"]="payload_too_large";t["Invalid"]="invalid";t["Failed"]="failed";t["Timeout"]="Timeout";t["SystemError"]="SystemError"})(M||(M={}));var Te;(function(t){t["XHR"]="xhr";t["SendBeacon"]="beacon";t["Fetch"]="fetch"})(Te||(Te={}));var vt="-";var he="AMP";var ht="".concat(he,"_unsent");var gt="https://api2.amplitude.com/2/httpapi";var _r="https://api.eu.amplitude.com/2/httpapi";var br="https://api2.amplitude.com/batch";var wr="https://api.eu.amplitude.com/batch";var Ai=1e3;var We=function(t){if(Object.keys(t).length>Ai){return false}for(var e in t){var r=t[e];if(!mt(e,r))return false}return true};var mt=function(t,e){var r,i;if(typeof t!=="string")return false;if(Array.isArray(e)){var n=true;try{for(var o=Z(e),s=o.next();!s.done;s=o.next()){var d=s.value;if(Array.isArray(d)){return false}else if(typeof d==="object"){n=n&&We(d)}else if(!["number","string"].includes(typeof d)){return false}if(!n){return false}}}catch(p){r={error:p}}finally{try{if(s&&!s.done&&(i=o.return))i.call(o)}finally{if(r)throw r.error}}}else if(e===null||e===void 0){return false}else if(typeof e==="object"){return We(e)}else if(!["number","string","boolean"].includes(typeof e)){return false}return true};var ue=function(){function t(){this._propertySet=new Set;this._properties={}}t.prototype.getUserProperties=function(){return b({},this._properties)};t.prototype.set=function(e,r){this._safeSet(j.SET,e,r);return this};t.prototype.setOnce=function(e,r){this._safeSet(j.SET_ONCE,e,r);return this};t.prototype.append=function(e,r){this._safeSet(j.APPEND,e,r);return this};t.prototype.prepend=function(e,r){this._safeSet(j.PREPEND,e,r);return this};t.prototype.postInsert=function(e,r){this._safeSet(j.POSTINSERT,e,r);return this};t.prototype.preInsert=function(e,r){this._safeSet(j.PREINSERT,e,r);return this};t.prototype.remove=function(e,r){this._safeSet(j.REMOVE,e,r);return this};t.prototype.add=function(e,r){this._safeSet(j.ADD,e,r);return this};t.prototype.unset=function(e){this._safeSet(j.UNSET,e,vt);return this};t.prototype.clearAll=function(){this._properties={};this._properties[j.CLEAR_ALL]=vt;return this};t.prototype._safeSet=function(e,r,i){if(this._validate(e,r,i)){var n=this._properties[e];if(n===void 0){n={};this._properties[e]=n}n[r]=i;this._propertySet.add(r);return true}return false};t.prototype._validate=function(e,r,i){if(this._properties[j.CLEAR_ALL]!==void 0){return false}if(this._propertySet.has(r)){return false}if(e===j.ADD){return typeof i==="number"}if(e!==j.UNSET&&e!==j.REMOVE){return mt(r,i)}return true};return t}();var Er=function(t,e,r){var i=typeof t==="string"?{event_type:t}:t;return b(b(b({},i),r),e&&{event_properties:e})};var Le=function(t,e){var r=b(b({},e),{event_type:se.IDENTIFY,user_properties:t.getUserProperties()});return r};var Ir=function(t,e,r,i){var n;var o=b(b({},i),{event_type:se.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(n={},n[t]=e,n)});return o};var Sr=function(t,e,r){var i;var n=new ue;n.set(t,e);var o=b(b({},r),{event_type:se.IDENTIFY,user_properties:n.getUserProperties(),groups:(i={},i[t]=e,i)});return o};var Tr=function(t,e){return b(b({},e),{event_type:se.REVENUE,event_properties:t.getEventProperties()})};var ce=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=M.Unknown}return{event:t,code:e,message:r}};var xr=function(){function t(e){this.client=e;this.queue=[];this.applying=false;this.plugins=[]}t.prototype.register=function(e,r){return y(this,void 0,void 0,function(){return _(this,function(i){switch(i.label){case 0:return[4,e.setup(r,this.client)];case 1:i.sent();this.plugins.push(e);return[2]}})})};t.prototype.deregister=function(e,r){var i;return y(this,void 0,void 0,function(){var n,o;return _(this,function(s){switch(s.label){case 0:n=this.plugins.findIndex(function(d){return d.name===e});if(n===-1){r.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration"));return[2]}o=this.plugins[n];this.plugins.splice(n,1);return[4,(i=o.teardown)===null||i===void 0?void 0:i.call(o)];case 1:s.sent();return[2]}})})};t.prototype.reset=function(e){this.applying=false;var r=this.plugins;r.map(function(i){var n;return(n=i.teardown)===null||n===void 0?void 0:n.call(i)});this.plugins=[];this.client=e};t.prototype.push=function(e){var r=this;return new Promise(function(i){r.queue.push([e,i]);r.scheduleApply(0)})};t.prototype.scheduleApply=function(e){var r=this;if(this.applying)return;this.applying=true;setTimeout(function(){void r.apply(r.queue.shift()).then(function(){r.applying=false;if(r.queue.length>0){r.scheduleApply(0)}})},e)};t.prototype.apply=function(e){return y(this,void 0,void 0,function(){var r,i,n,o,s,d,p,f,v,l,a,u,c,f,v,w,g,h;var m,E,P,C;return _(this,function(I){switch(I.label){case 0:if(!e){return[2]}r=D(e,1),i=r[0];n=D(e,2),o=n[1];s=this.plugins.filter(function(O){return O.type===N.BEFORE});I.label=1;case 1:I.trys.push([1,6,7,8]);d=Z(s),p=d.next();I.label=2;case 2:if(!!p.done)return[3,5];f=p.value;return[4,f.execute(b({},i))];case 3:v=I.sent();if(v===null){o({event:i,code:0,message:""});return[2]}else{i=v}I.label=4;case 4:p=d.next();return[3,2];case 5:return[3,8];case 6:l=I.sent();m={error:l};return[3,8];case 7:try{if(p&&!p.done&&(E=d.return))E.call(d)}finally{if(m)throw m.error}return[7];case 8:a=this.plugins.filter(function(O){return O.type===N.ENRICHMENT});I.label=9;case 9:I.trys.push([9,14,15,16]);u=Z(a),c=u.next();I.label=10;case 10:if(!!c.done)return[3,13];f=c.value;return[4,f.execute(b({},i))];case 11:v=I.sent();if(v===null){o({event:i,code:0,message:""});return[2]}else{i=v}I.label=12;case 12:c=u.next();return[3,10];case 13:return[3,16];case 14:w=I.sent();P={error:w};return[3,16];case 15:try{if(c&&!c.done&&(C=u.return))C.call(u)}finally{if(P)throw P.error}return[7];case 16:g=this.plugins.filter(function(O){return O.type===N.DESTINATION});h=g.map(function(O){var k=b({},i);return O.execute(k).catch(function(K){return ce(k,0,String(K))})});void Promise.all(h).then(function(O){var k=D(O,1),K=k[0];o(K)});return[2]}})})};t.prototype.flush=function(){return y(this,void 0,void 0,function(){var e,r,i;var n=this;return _(this,function(o){switch(o.label){case 0:e=this.queue;this.queue=[];return[4,Promise.all(e.map(function(s){return n.apply(s)}))];case 1:o.sent();r=this.plugins.filter(function(s){return s.type===N.DESTINATION});i=r.map(function(s){return s.flush&&s.flush()});return[4,Promise.all(i)];case 2:o.sent();return[2]}})})};return t}();var Pr="Event tracked successfully";var Rr="Unexpected error occurred";var Or="Event rejected due to exceeded retry count";var kr="Event skipped due to optOut config";var Ar="Event rejected due to missing API key";var Cr="Invalid API key";var Dr="Client not initialized";var X=function(t){return{promise:t||Promise.resolve()}};var yt=function(){function t(e){if(e===void 0){e="$default"}this.initializing=false;this.q=[];this.dispatchQ=[];this.logEvent=this.track.bind(this);this.timeline=new xr(this);this.name=e}t.prototype._init=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){switch(r.label){case 0:this.config=e;this.timeline.reset(this);return[4,this.runQueuedFunctions("q")];case 1:r.sent();return[2]}})})};t.prototype.runQueuedFunctions=function(e){return y(this,void 0,void 0,function(){var r,i,n,o,s;var d,p;return _(this,function(l){switch(l.label){case 0:r=this[e];this[e]=[];l.label=1;case 1:l.trys.push([1,6,7,8]);i=Z(r),n=i.next();l.label=2;case 2:if(!!n.done)return[3,5];o=n.value;return[4,o()];case 3:l.sent();l.label=4;case 4:n=i.next();return[3,2];case 5:return[3,8];case 6:s=l.sent();d={error:s};return[3,8];case 7:try{if(n&&!n.done&&(p=i.return))p.call(i)}finally{if(d)throw d.error}return[7];case 8:return[2]}})})};t.prototype.track=function(e,r,i){var n=Er(e,r,i);return X(this.dispatch(n))};t.prototype.identify=function(e,r){var i=Le(e,r);return X(this.dispatch(i))};t.prototype.groupIdentify=function(e,r,i,n){var o=Ir(e,r,i,n);return X(this.dispatch(o))};t.prototype.setGroup=function(e,r,i){var n=Sr(e,r,i);return X(this.dispatch(n))};t.prototype.revenue=function(e,r){var i=Tr(e,r);return X(this.dispatch(i))};t.prototype.add=function(e){if(!this.config){this.q.push(this.add.bind(this,e));return X()}return X(this.timeline.register(e,this.config))};t.prototype.remove=function(e){if(!this.config){this.q.push(this.remove.bind(this,e));return X()}return X(this.timeline.deregister(e,this.config))};t.prototype.dispatchWithCallback=function(e,r){if(!this.config){return r(ce(e,0,Dr))}void this.process(e).then(r)};t.prototype.dispatch=function(e){return y(this,void 0,void 0,function(){var r=this;return _(this,function(i){if(!this.config){return[2,new Promise(function(n){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,n))})]}return[2,this.process(e)]})})};t.prototype.process=function(e){return y(this,void 0,void 0,function(){var n,r,i,n;return _(this,function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);if(this.config.optOut){return[2,ce(e,0,kr)]}return[4,this.timeline.push(e)];case 1:n=o.sent();n.code===200?this.config.loggerProvider.log(n.message):this.config.loggerProvider.error(n.message);return[2,n];case 2:r=o.sent();this.config.loggerProvider.error(r);i=String(r);n=ce(e,0,i);return[2,n];case 3:return[2]}})})};t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,Boolean(e)));return}this.config.optOut=Boolean(e)};t.prototype.flush=function(){return X(this.timeline.flush())};return t}();var _t=function(){function t(){this.productId="";this.quantity=1;this.price=0}t.prototype.setProductId=function(e){this.productId=e;return this};t.prototype.setQuantity=function(e){if(e>0){this.quantity=e}return this};t.prototype.setPrice=function(e){this.price=e;return this};t.prototype.setRevenueType=function(e){this.revenueType=e;return this};t.prototype.setCurrency=function(e){this.currency=e;return this};t.prototype.setRevenue=function(e){this.revenue=e;return this};t.prototype.setEventProperties=function(e){if(We(e)){this.properties=e}return this};t.prototype.getEventProperties=function(){var e=this.properties?b({},this.properties):{};e[re.REVENUE_PRODUCT_ID]=this.productId;e[re.REVENUE_QUANTITY]=this.quantity;e[re.REVENUE_PRICE]=this.price;e[re.REVENUE_TYPE]=this.revenueType;e[re.REVENUE_CURRENCY]=this.currency;e[re.REVENUE]=this.revenue;return e};return t}();var Ur=function(t,e){var r=Math.max(e,1);return t.reduce(function(i,n,o){var s=Math.floor(o/r);if(!i[s]){i[s]=[]}i[s].push(n);return i},[])};var Qe="Amplitude Logger ";var Lr=function(){function t(){this.logLevel=Q.None}t.prototype.disable=function(){this.logLevel=Q.None};t.prototype.enable=function(e){if(e===void 0){e=Q.Warn}this.logLevel=e};t.prototype.log=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<Q.Verbose){return}console.log("".concat(Qe,"[Log]: ").concat(e.join(" ")))};t.prototype.warn=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<Q.Warn){return}console.warn("".concat(Qe,"[Warn]: ").concat(e.join(" ")))};t.prototype.error=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<Q.Error){return}console.error("".concat(Qe,"[Error]: ").concat(e.join(" ")))};t.prototype.debug=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<Q.Debug){return}console.log("".concat(Qe,"[Debug]: ").concat(e.join(" ")))};return t}();var ze=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Q.Warn,loggerProvider:new Lr,optOut:false,serverUrl:gt,serverZone:Se.US,useBatch:false}};var bt=function(){function t(e){var r,i,n,o;this._optOut=false;var s=ze();this.apiKey=e.apiKey;this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:s.flushIntervalMillis;this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries;this.flushQueueSize=e.flushQueueSize||s.flushQueueSize;this.instanceName=e.instanceName||s.instanceName;this.loggerProvider=e.loggerProvider||s.loggerProvider;this.logLevel=(i=e.logLevel)!==null&&i!==void 0?i:s.logLevel;this.minIdLength=e.minIdLength;this.plan=e.plan;this.ingestionMetadata=e.ingestionMetadata;this.optOut=(n=e.optOut)!==null&&n!==void 0?n:s.optOut;this.serverUrl=e.serverUrl;this.serverZone=e.serverZone||s.serverZone;this.storageProvider=e.storageProvider;this.transportProvider=e.transportProvider;this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:s.useBatch;this.loggerProvider.enable(this.logLevel);var d=wt(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=d.serverZone;this.serverUrl=d.serverUrl}Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:false,configurable:true});return t}();var Ci=function(t,e){if(t===Se.EU){return e?wr:_r}return e?br:gt};var wt=function(t,e,r){if(t===void 0){t=""}if(e===void 0){e=ze().serverZone}if(r===void 0){r=ze().useBatch}if(t){return{serverUrl:t,serverZone:void 0}}var i=["US","EU"].includes(e)?e:ze().serverZone;return{serverZone:i,serverUrl:Ci(i,r)}};function Di(t){if(t instanceof Error)return t.message;return String(t)}function $e(t){var e="";try{if("body"in t){e=JSON.stringify(t.body)}}catch(r){}return e}var Et=function(){function t(){this.name="amplitude";this.type=N.DESTINATION;this.retryTimeout=1e3;this.throttleTimeout=3e4;this.storageKey="";this.scheduled=null;this.queue=[]}t.prototype.setup=function(e){var r;return y(this,void 0,void 0,function(){var i;var n=this;return _(this,function(o){switch(o.label){case 0:this.config=e;this.storageKey="".concat(ht,"_").concat(this.config.apiKey.substring(0,10));return[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:i=o.sent();this.saveEvents();if(i&&i.length>0){void Promise.all(i.map(function(s){return n.execute(s)})).catch()}return[2,Promise.resolve(void 0)]}})})};t.prototype.execute=function(e){var r=this;return new Promise(function(i){var n={event:e,attempts:0,callback:function(o){return i(o)},timeout:0};void r.addToQueue(n)})};t.prototype.addToQueue=function(){var e=this;var r=[];for(var i=0;i<arguments.length;i++){r[i]=arguments[i]}var n=r.filter(function(o){if(o.attempts<e.config.flushMaxRetries){o.attempts+=1;return true}void e.fulfillRequest([o],500,Or);return false});n.forEach(function(o){e.queue=e.queue.concat(o);if(o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0;e.schedule(0)},o.timeout)});this.saveEvents()};t.prototype.schedule=function(e){var r=this;if(this.scheduled)return;this.scheduled=setTimeout(function(){void r.flush(true).then(function(){if(r.queue.length>0){r.schedule(e)}})},e)};t.prototype.flush=function(e){if(e===void 0){e=false}return y(this,void 0,void 0,function(){var r,i,n;var o=this;return _(this,function(s){switch(s.label){case 0:r=[];i=[];this.queue.forEach(function(d){return d.timeout===0?r.push(d):i.push(d)});this.queue=i;if(this.scheduled){clearTimeout(this.scheduled);this.scheduled=null}n=Ur(r,this.config.flushQueueSize);return[4,Promise.all(n.map(function(d){return o.send(d,e)}))];case 1:s.sent();return[2]}})})};t.prototype.send=function(e,r){if(r===void 0){r=true}return y(this,void 0,void 0,function(){var i,n,o,s,d;return _(this,function(p){switch(p.label){case 0:if(!this.config.apiKey){return[2,this.fulfillRequest(e,400,Ar)]}i={api_key:this.config.apiKey,events:e.map(function(l){var a=l.event,u=a.extra,c=Ue(a,["extra"]);return c}),options:{min_id_length:this.config.minIdLength}};p.label=1;case 1:p.trys.push([1,3,,4]);n=wt(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl;return[4,this.config.transportProvider.send(n,i)];case 2:o=p.sent();if(o===null){this.fulfillRequest(e,0,Rr);return[2]}if(!r){if("body"in o){this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat($e(o)))}else{this.fulfillRequest(e,o.statusCode,o.status)}return[2]}this.handleResponse(o,e);return[3,4];case 3:s=p.sent();this.config.loggerProvider.error(s);d=Di(s);this.fulfillRequest(e,0,d);return[3,4];case 4:return[2]}})})};t.prototype.handleResponse=function(e,r){var i=e.status;switch(i){case M.Success:{this.handleSuccessResponse(e,r);break}case M.Invalid:{this.handleInvalidResponse(e,r);break}case M.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case M.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(i,"' provided for ").concat(r.length,' events"}'));this.handleOtherResponse(r);break}}};t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,Pr)};t.prototype.handleInvalidResponse=function(e,r){var i=this;if(e.body.missingField||e.body.error.startsWith(Cr)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var n=J(J(J(J([],D(Object.values(e.body.eventsWithInvalidFields)),false),D(Object.values(e.body.eventsWithMissingFields)),false),D(Object.values(e.body.eventsWithInvalidIdLengths)),false),D(e.body.silencedEvents),false).flat();var o=new Set(n);var s=r.filter(function(d,p){if(o.has(p)){i.fulfillRequest([d],e.statusCode,e.body.error);return}return true});if(s.length>0){this.config.loggerProvider.warn($e(e))}this.addToQueue.apply(this,J([],D(s),false))};t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn($e(e));this.config.flushQueueSize/=2;this.addToQueue.apply(this,J([],D(r),false))};t.prototype.handleRateLimitResponse=function(e,r){var i=this;var n=Object.keys(e.body.exceededDailyQuotaUsers);var o=Object.keys(e.body.exceededDailyQuotaDevices);var s=e.body.throttledEvents;var d=new Set(n);var p=new Set(o);var l=new Set(s);var a=r.filter(function(u,c){if(u.event.user_id&&d.has(u.event.user_id)||u.event.device_id&&p.has(u.event.device_id)){i.fulfillRequest([u],e.statusCode,e.body.error);return}if(l.has(c)){u.timeout=i.throttleTimeout}return true});if(a.length>0){this.config.loggerProvider.warn($e(e))}this.addToQueue.apply(this,J([],D(a),false))};t.prototype.handleOtherResponse=function(e){var r=this;this.addToQueue.apply(this,J([],D(e.map(function(i){i.timeout=i.attempts*r.retryTimeout;return i})),false))};t.prototype.fulfillRequest=function(e,r,i){this.saveEvents();e.forEach(function(n){return n.callback(ce(n.event,r,i))})};t.prototype.saveEvents=function(){if(!this.config.storageProvider){return}var e=Array.from(this.queue.map(function(r){return r.event}));void this.config.storageProvider.set(this.storageKey,e)};return t}();var Ui=function(t){if(t===void 0){t=0}var e=new Error().stack||"";return e.split("\\n").slice(2+t).map(function(r){return r.trim()})};var V=function(t){return function(){var e=b({},t.config),r=e.loggerProvider,i=e.logLevel;return{logger:r,logLevel:i}}};var Li=function(t,e){var r,i;e=e.replace(/\\[(\\w+)\\]/g,".$1");e=e.replace(/^\\./,"");try{for(var n=Z(e.split(".")),o=n.next();!o.done;o=n.next()){var s=o.value;if(s in t){t=t[s]}else{return}}}catch(d){r={error:d}}finally{try{if(o&&!o.done&&(i=n.return))i.call(n)}finally{if(r)throw r.error}}return t};var F=function(t,e){return function(){var r,i;var n={};try{for(var o=Z(e),s=o.next();!s.done;s=o.next()){var d=s.value;n[d]=Li(t,d)}}catch(p){r={error:p}}finally{try{if(s&&!s.done&&(i=o.return))i.call(o)}finally{if(r)throw r.error}}return n}};var B=function(t,e,r,i,n){if(n===void 0){n=null}return function(){var o=[];for(var s=0;s<arguments.length;s++){o[s]=arguments[s]}var d=r(),p=d.logger,l=d.logLevel;if(l&&l<Q.Debug||!l||!p){return t.apply(n,o)}var a={type:"invoke public method",name:e,args:o,stacktrace:Ui(1),time:{start:new Date().toISOString()},states:{}};if(i&&a.states){a.states.before=i()}var u=t.apply(n,o);if(u&&u.promise){u.promise.then(function(){if(i&&a.states){a.states.after=i()}if(a.time){a.time.end=new Date().toISOString()}p.debug(JSON.stringify(a,null,2))})}else{if(i&&a.states){a.states.after=i()}if(a.time){a.time.end=new Date().toISOString()}p.debug(JSON.stringify(a,null,2))}return u}};var le=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,le)};var Xe=function(){function t(){this.memoryStorage=new Map}t.prototype.isEnabled=function(){return y(this,void 0,void 0,function(){return _(this,function(e){return[2,true]})})};t.prototype.get=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){return[2,this.memoryStorage.get(e)]})})};t.prototype.getRaw=function(e){return y(this,void 0,void 0,function(){var r;return _(this,function(i){switch(i.label){case 0:return[4,this.get(e)];case 1:r=i.sent();return[2,r?JSON.stringify(r):void 0]}})})};t.prototype.set=function(e,r){return y(this,void 0,void 0,function(){return _(this,function(i){this.memoryStorage.set(e,r);return[2]})})};t.prototype.remove=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){this.memoryStorage.delete(e);return[2]})})};t.prototype.reset=function(){return y(this,void 0,void 0,function(){return _(this,function(e){this.memoryStorage.clear();return[2]})})};return t}();var ge=function(){function t(){}t.prototype.send=function(e,r){return Promise.resolve(null)};t.prototype.buildResponse=function(e){var r,i,n,o,s,d,p,l,a,u,c,f,v,w,g,h,m,E,P,C,I,O;if(typeof e!=="object"){return null}var k=e.code||0;var K=this.buildStatus(k);switch(K){case M.Success:return{status:K,statusCode:k,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(i=e.payload_size_bytes)!==null&&i!==void 0?i:0,serverUploadTime:(n=e.server_upload_time)!==null&&n!==void 0?n:0}};case M.Invalid:return{status:K,statusCode:k,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(d=e.events_with_invalid_fields)!==null&&d!==void 0?d:{},eventsWithMissingFields:(p=e.events_with_missing_fields)!==null&&p!==void 0?p:{},eventsWithInvalidIdLengths:(l=e.events_with_invalid_id_lengths)!==null&&l!==void 0?l:{},epsThreshold:(a=e.eps_threshold)!==null&&a!==void 0?a:0,exceededDailyQuotaDevices:(u=e.exceeded_daily_quota_devices)!==null&&u!==void 0?u:{},silencedDevices:(c=e.silenced_devices)!==null&&c!==void 0?c:[],silencedEvents:(f=e.silenced_events)!==null&&f!==void 0?f:[],throttledDevices:(v=e.throttled_devices)!==null&&v!==void 0?v:{},throttledEvents:(w=e.throttled_events)!==null&&w!==void 0?w:[]}};case M.PayloadTooLarge:return{status:K,statusCode:k,body:{error:(g=e.error)!==null&&g!==void 0?g:""}};case M.RateLimit:return{status:K,statusCode:k,body:{error:(h=e.error)!==null&&h!==void 0?h:"",epsThreshold:(m=e.eps_threshold)!==null&&m!==void 0?m:0,throttledDevices:(E=e.throttled_devices)!==null&&E!==void 0?E:{},throttledUsers:(P=e.throttled_users)!==null&&P!==void 0?P:{},exceededDailyQuotaDevices:(C=e.exceeded_daily_quota_devices)!==null&&C!==void 0?C:{},exceededDailyQuotaUsers:(I=e.exceeded_daily_quota_users)!==null&&I!==void 0?I:{},throttledEvents:(O=e.throttled_events)!==null&&O!==void 0?O:[]}};case M.Timeout:default:return{status:K,statusCode:k}}};t.prototype.buildStatus=function(e){if(e>=200&&e<300){return M.Success}if(e===429){return M.RateLimit}if(e===413){return M.PayloadTooLarge}if(e===408){return M.Timeout}if(e>=400&&e<500){return M.Invalid}if(e>=500){return M.Failed}return M.Unknown};return t}();var Ni=function(){function t(){}t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Mi(),platform:"Web",os:void 0,deviceModel:void 0}};return t}();var Mi=function(){return typeof navigator!=="undefined"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""};var Vi=function(){function t(){this.queue=[]}t.prototype.logEvent=function(e){if(!this.receiver){if(this.queue.length<512){this.queue.push(e)}}else{this.receiver(e)}};t.prototype.setEventReceiver=function(e){this.receiver=e;if(this.queue.length>0){this.queue.forEach(function(r){e(r)});this.queue=[]}};return t}();var de=function(){de=Object.assign||function t(e){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return de.apply(this,arguments)};function Ye(t){var e=typeof Symbol==="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&i>=t.length)t=void 0;return{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nr(t,e){var r=typeof Symbol==="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,o=[],s;try{while((e===void 0||e-- >0)&&!(n=i.next()).done)o.push(n.value)}catch(d){s={error:d}}finally{try{if(n&&!n.done&&(r=i["return"]))r.call(i)}finally{if(s)throw s.error}}return o}var Ze=function(t,e){var r,i;var n=["string","number","boolean","undefined"];var o=typeof t;var s=typeof e;if(o!==s){return false}try{for(var d=Ye(n),p=d.next();!p.done;p=d.next()){var l=p.value;if(l===o){return t===e}}}catch(g){r={error:g}}finally{try{if(p&&!p.done&&(i=d.return))i.call(d)}finally{if(r)throw r.error}}if(t==null&&e==null){return true}else if(t==null||e==null){return false}if(t.length!==e.length){return false}var a=Array.isArray(t);var u=Array.isArray(e);if(a!==u){return false}if(a&&u){for(var c=0;c<t.length;c++){if(!Ze(t[c],e[c])){return false}}}else{var f=Object.keys(t).sort();var v=Object.keys(e).sort();if(!Ze(f,v)){return false}var w=true;Object.keys(t).forEach(function(g){if(!Ze(t[g],e[g])){w=false}});return w}return true};var Fi="$set";var Bi="$unset";var qi="$clearAll";if(!Object.entries){Object.entries=function(t){var e=Object.keys(t);var r=e.length;var i=new Array(r);while(r--){i[r]=[e[r],t[e[r]]]}return i}}var ji=function(){function t(){this.identity={userProperties:{}};this.listeners=new Set}t.prototype.editIdentity=function(){var e=this;var r=de({},this.identity.userProperties);var i=de(de({},this.identity),{userProperties:r});return{setUserId:function(n){i.userId=n;return this},setDeviceId:function(n){i.deviceId=n;return this},setUserProperties:function(n){i.userProperties=n;return this},setOptOut:function(n){i.optOut=n;return this},updateUserProperties:function(n){var o,s,d,p,l,a;var u=i.userProperties||{};try{for(var c=Ye(Object.entries(n)),f=c.next();!f.done;f=c.next()){var v=Nr(f.value,2),w=v[0],g=v[1];switch(w){case Fi:try{for(var h=(d=void 0,Ye(Object.entries(g))),m=h.next();!m.done;m=h.next()){var E=Nr(m.value,2),P=E[0],C=E[1];u[P]=C}}catch(k){d={error:k}}finally{try{if(m&&!m.done&&(p=h.return))p.call(h)}finally{if(d)throw d.error}}break;case Bi:try{for(var I=(l=void 0,Ye(Object.keys(g))),O=I.next();!O.done;O=I.next()){var P=O.value;delete u[P]}}catch(k){l={error:k}}finally{try{if(O&&!O.done&&(a=I.return))a.call(I)}finally{if(l)throw l.error}}break;case qi:u={};break}}}catch(k){o={error:k}}finally{try{if(f&&!f.done&&(s=c.return))s.call(c)}finally{if(o)throw o.error}}i.userProperties=u;return this},commit:function(){e.setIdentity(i);return this}}};t.prototype.getIdentity=function(){return de({},this.identity)};t.prototype.setIdentity=function(e){var r=de({},this.identity);this.identity=de({},e);if(!Ze(r,this.identity)){this.listeners.forEach(function(i){i(e)})}};t.prototype.addIdentityListener=function(e){this.listeners.add(e)};t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)};return t}();var Ne=typeof globalThis!=="undefined"?globalThis:typeof global!=="undefined"?global:self;var Mr=function(){function t(){this.identityStore=new ji;this.eventBridge=new Vi;this.applicationContextProvider=new Ni}t.getInstance=function(e){if(!Ne["analyticsConnectorInstances"]){Ne["analyticsConnectorInstances"]={}}if(!Ne["analyticsConnectorInstances"][e]){Ne["analyticsConnectorInstances"][e]=new t}return Ne["analyticsConnectorInstances"][e]};return t}();var ne=function(t){if(t===void 0){t="$default_instance"}return Mr.getInstance(t)};var It=function(t,e){ne(e).identityStore.editIdentity().setUserId(t).commit()};var St=function(t,e){ne(e).identityStore.editIdentity().setDeviceId(t).commit()};var Tt=function(t,e){ne(e).identityStore.editIdentity().setOptOut(t).commit()};var W=function(){if(typeof globalThis!=="undefined"){return globalThis}if(typeof window!=="undefined"){return window}if(typeof self!=="undefined"){return self}if(typeof global!=="undefined"){return global}return void 0};var xe=function(){var t;var e=W();if(!((t=e===null||e===void 0?void 0:e.location)===null||t===void 0?void 0:t.search)){return{}}var r=e.location.search.substring(1).split("&").filter(Boolean);var i=r.reduce(function(n,o){var s=o.split("=",2);var d=Vr(s[0]);var p=Vr(s[1]);if(!p){return n}n[d]=p;return n},{});return i};var Vr=function(t){if(t===void 0){t=""}try{return decodeURIComponent(t)}catch(e){return""}};var Fr="utm_campaign";var Br="utm_content";var qr="utm_id";var jr="utm_medium";var Gr="utm_source";var Kr="utm_term";var xt="dclid";var Pt="fbclid";var Rt="gbraid";var Ot="gclid";var kt="ko_click_id";var At="li_fat_id";var Ct="msclkid";var Dt="rtd_cid";var Ut="ttclid";var Lt="twclid";var Nt="wbraid";var me={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var Me=function(){function t(){}t.prototype.parse=function(){return y(this,void 0,void 0,function(){return _(this,function(e){return[2,b(b(b(b({},me),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})};t.prototype.getUtmParam=function(){var e=xe();var r=e[Fr];var i=e[Br];var n=e[qr];var o=e[jr];var s=e[Gr];var d=e[Kr];return{utm_campaign:r,utm_content:i,utm_id:n,utm_medium:o,utm_source:s,utm_term:d}};t.prototype.getReferrer=function(){var e,r;var i={referrer:void 0,referring_domain:void 0};try{i.referrer=document.referrer||void 0;i.referring_domain=(r=(e=i.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch(n){}return i};t.prototype.getClickIds=function(){var e;var r=xe();return e={},e[xt]=r[xt],e[Pt]=r[Pt],e[Rt]=r[Rt],e[Ot]=r[Ot],e[kt]=r[kt],e[At]=r[At],e[Ct]=r[Ct],e[Dt]=r[Dt],e[Ut]=r[Ut],e[Lt]=r[Lt],e[Nt]=r[Nt],e};return t}();var Ve=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[he,e,t.substring(0,r)].filter(Boolean).join("_")};var Mt=function(t){return"".concat(he.toLowerCase(),"_").concat(t.substring(0,6))};var Vt=function(t){if(typeof t==="boolean"){return t}if(t===null||t===void 0?void 0:t.fileDownloads){return true}return false};var Ft=function(t){if(typeof t==="boolean"){return t}if(t===null||t===void 0?void 0:t.formInteractions){return true}return false};var Hr=function(t){if(typeof t==="boolean"){return t}if((t===null||t===void 0?void 0:t.pageViews)===true||(t===null||t===void 0?void 0:t.pageViews)&&typeof t.pageViews==="object"){return true}return false};var Bt=function(t){if(typeof t==="boolean"){return t}if(t===null||t===void 0?void 0:t.sessions){return true}return false};var qt=function(t){var e;var r=((e=t.attribution)===null||e===void 0?void 0:e.trackPageViews)?"attribution":function(){return false};var i=void 0;var n="Page View";var o=Hr(t.defaultTracking);if(o){r=void 0;n=void 0;if(t.defaultTracking&&typeof t.defaultTracking==="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews==="object"){if("trackOn"in t.defaultTracking.pageViews){r=t.defaultTracking.pageViews.trackOn}if("trackHistoryChanges"in t.defaultTracking.pageViews){i=t.defaultTracking.pageViews.trackHistoryChanges}if("eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType){n=t.defaultTracking.pageViews.eventType}}}return{trackOn:r,trackHistoryChanges:i,eventType:n}};var jt=function(){var t,e,r,i;if(typeof navigator==="undefined")return"";var n=navigator.userLanguage;return(i=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:n)!==null&&i!==void 0?i:""};var Gt=function(){function t(){this.name="identity";this.type=N.BEFORE;this.identityStore=ne().identityStore}t.prototype.execute=function(e){return y(this,void 0,void 0,function(){var r;return _(this,function(i){r=e.user_properties;if(r){this.identityStore.editIdentity().updateUserProperties(r).commit()}return[2,e]})})};t.prototype.setup=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){if(e.instanceName){this.identityStore=ne(e.instanceName).identityStore}return[2]})})};return t}();var Fe=function(){function t(e){this.options=b({},e)}t.prototype.isEnabled=function(){return y(this,void 0,void 0,function(){var e,r,i,n;return _(this,function(o){switch(o.label){case 0:if(!W()){return[2,false]}t.testValue=String(Date.now());e=new t(this.options);r="AMP_TEST";o.label=1;case 1:o.trys.push([1,4,5,7]);return[4,e.set(r,t.testValue)];case 2:o.sent();return[4,e.get(r)];case 3:i=o.sent();return[2,i===t.testValue];case 4:n=o.sent();return[2,false];case 5:return[4,e.remove(r)];case 6:o.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return y(this,void 0,void 0,function(){var r;return _(this,function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:r=i.sent();if(!r){return[2,void 0]}try{try{r=decodeURIComponent(atob(r))}catch(n){}return[2,JSON.parse(r)]}catch(n){return[2,void 0]}return[2]}})})};t.prototype.getRaw=function(e){var r;return y(this,void 0,void 0,function(){var i,n,o;return _(this,function(s){i=W();n=(r=i===null||i===void 0?void 0:i.document.cookie.split("; "))!==null&&r!==void 0?r:[];o=n.find(function(d){return d.indexOf(e+"=")===0});if(!o){return[2,void 0]}return[2,o.substring(e.length+1)]})})};t.prototype.set=function(e,r){var i;return y(this,void 0,void 0,function(){var n,o,s,d,p,l;return _(this,function(a){try{n=(i=this.options.expirationDays)!==null&&i!==void 0?i:0;o=r!==null?n:-1;s=void 0;if(o){d=new Date;d.setTime(d.getTime()+o*24*60*60*1e3);s=d}p="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r))));if(s){p+="; expires=".concat(s.toUTCString())}p+="; path=/";if(this.options.domain){p+="; domain=".concat(this.options.domain)}if(this.options.secure){p+="; Secure"}if(this.options.sameSite){p+="; SameSite=".concat(this.options.sameSite)}l=W();if(l){l.document.cookie=p}}catch(u){}return[2]})})};t.prototype.remove=function(e){return y(this,void 0,void 0,function(){return _(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:r.sent();return[2]}})})};t.prototype.reset=function(){return y(this,void 0,void 0,function(){return _(this,function(e){return[2]})})};return t}();var Kt=function(t){te(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,i){return y(this,void 0,void 0,function(){var n,o,s;return _(this,function(d){switch(d.label){case 0:if(typeof fetch==="undefined"){throw new Error("FetchTransport is not supported")}n={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(i),method:"POST"};return[4,fetch(r,n)];case 1:o=d.sent();return[4,o.text()];case 2:s=d.sent();try{return[2,this.buildResponse(JSON.parse(s))]}catch(p){return[2,this.buildResponse({code:o.status})]}return[2]}})})};return e}(ge);var Wr=function(t){var e={};for(var r in t){var i=t[r];if(i){e[r]=i}}return e};var Ht=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var r;var i={};var n=W();var o=void 0;var s;var d=D(t,2),p=d[0],l=d[1];if(p&&"init"in p){r=p;if(l){i=l}}else if(p){i=p}var a=function(){return y(void 0,void 0,void 0,function(){var g;var h;var m;return _(this,function(E){switch(E.label){case 0:h={event_type:(m=i.eventType)!==null&&m!==void 0?m:"Page View"};g=[{}];return[4,Gi()];case 1:return[2,(h.event_properties=b.apply(void 0,[b.apply(void 0,g.concat([E.sent()])),{page_domain:typeof location!=="undefined"&&location.hostname||"",page_location:typeof location!=="undefined"&&location.href||"",page_path:typeof location!=="undefined"&&location.pathname||"",page_title:typeof document!=="undefined"&&document.title||"",page_url:typeof location!=="undefined"&&location.href.split("?")[0]||""}]),h)]}})})};var u=function(){return typeof i.trackOn==="undefined"||typeof i.trackOn==="function"&&i.trackOn()};var c=typeof location!=="undefined"?location.href:null;var f=function(){return y(void 0,void 0,void 0,function(){var g,h,m,E,P;return _(this,function(C){switch(C.label){case 0:g=location.href;h=Hi(i.trackHistoryChanges,g,c||"")&&u();c=g;if(!h)return[3,4];o===null||o===void 0?void 0:o.log("Tracking page view event");if(!(r===null||r===void 0))return[3,1];m=void 0;return[3,3];case 1:P=(E=r).track;return[4,a()];case 2:m=P.apply(E,[C.sent()]);C.label=3;case 3:m;C.label=4;case 4:return[2]}})})};var v=function(){void f()};var w={name:"page-view-tracking",type:N.ENRICHMENT,setup:function(g,h){return y(void 0,void 0,void 0,function(){var m,E,P;var C,I;return _(this,function(O){switch(O.label){case 0:r=r!==null&&r!==void 0?r:h;if(!r){m=p?"Options":"undefined";g.loggerProvider.error("Argument of type '".concat(m,"' is not assignable to parameter of type 'BrowserClient'."));return[2]}o=g.loggerProvider;o.log("Installing @amplitude/plugin-page-view-tracking-browser");i.trackOn=((C=g.attribution)===null||C===void 0?void 0:C.trackPageViews)?"attribution":i.trackOn;if(!h&&((I=g.attribution)===null||I===void 0?void 0:I.trackPageViews)){o.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser.");g.attribution.trackPageViews=false}if(i.trackHistoryChanges&&n){n.addEventListener("popstate",v);s=n.history.pushState;n.history.pushState=new Proxy(n.history.pushState,{apply:function(k,K,z){var $=D(z,3),R=$[0],_e=$[1],ie=$[2];k.apply(K,[R,_e,ie]);void f()}})}if(!u())return[3,2];o.log("Tracking page view event");P=(E=r).track;return[4,a()];case 1:P.apply(E,[O.sent()]);O.label=2;case 2:return[2]}})})},execute:function(g){return y(void 0,void 0,void 0,function(){var h;return _(this,function(m){switch(m.label){case 0:if(!(i.trackOn==="attribution"&&Ki(g)))return[3,2];o===null||o===void 0?void 0:o.log("Enriching campaign event to page view event with campaign parameters");return[4,a()];case 1:h=m.sent();g.event_type=h.event_type;g.event_properties=b(b({},g.event_properties),h.event_properties);m.label=2;case 2:return[2,g]}})})},teardown:function(){return y(void 0,void 0,void 0,function(){return _(this,function(g){if(n){n.removeEventListener("popstate",v);if(s){n.history.pushState=s}}return[2]})})}};w.__trackHistoryPageView=f;return w};var Gi=function(){return y(void 0,void 0,void 0,function(){var t;return _(this,function(e){switch(e.label){case 0:t=Wr;return[4,new Me().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})};var Ki=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties;var r=e[j.SET]||{};var i=e[j.UNSET]||{};var n=J(J([],D(Object.keys(r)),false),D(Object.keys(i)),false);return Object.keys(me).every(function(o){return n.includes(o)})}return false};var Hi=function(t,e,r){switch(t){case"pathOnly":return e.split("?")[0]!==r.split("?")[0];default:return e!==r}};var zr=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[he,e,t.substring(0,r)].filter(Boolean).join("_")};var Qr=function(t){var e=t.split(".");if(e.length<=2){return t}return e.slice(e.length-2,e.length).join(".")};var $r=function(t,e,r){var i;var n=t.referrer,o=t.referring_domain,s=Ue(t,["referrer","referring_domain"]);var d=e||{},p=d.referrer,l=d.referring_domain,a=Ue(d,["referrer","referring_domain"]);if(t.referring_domain&&((i=r.excludeReferrers)===null||i===void 0?void 0:i.includes(t.referring_domain))){return false}var u=JSON.stringify(s)!==JSON.stringify(a);var c=Qr(o||"")!==Qr(l||"");return!e||u||c};var Xr=function(t,e){var r=b(b({},me),t);var i=Object.entries(r).reduce(function(n,o){var s;var d=D(o,2),p=d[0],l=d[1];n.setOnce("initial_".concat(p),(s=l!==null&&l!==void 0?l:e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY");if(l){return n.set(p,l)}return n.unset(p)},new ue);return Le(i)};var Wt=function(){var t=this;var e;var r=[];for(var i=0;i<arguments.length;i++){r[i]=arguments[i]}var n;var o={};var s=D(r,2),d=s[0],p=s[1];if(d&&"init"in d){n=d;if(p){o=p}}else if(d){o=d}var l=(e=o.excludeReferrers)!==null&&e!==void 0?e:[];if(typeof location!=="undefined"){l.unshift(location.hostname)}o=b(b({disabled:false,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:false},o),{excludeReferrers:l});var a={name:"web-attribution",type:N.BEFORE,setup:function(u,c){var f;return y(this,void 0,void 0,function(){var v,w,g,h,m,E,P,C;return _(this,function(I){switch(I.label){case 0:n=n!==null&&n!==void 0?n:c;if(!n){v=d?"Options":"undefined";u.loggerProvider.error("Argument of type '".concat(v,"' is not assignable to parameter of type 'BrowserClient'."));return[2]}if(o.disabled){u.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked.");return[2]}u.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser.");if(!c&&!((f=u.attribution)===null||f===void 0?void 0:f.disabled)){u.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser.");u.attribution={disabled:true}}w=u.cookieStorage;g=zr(u.apiKey,"MKTG");return[4,Promise.all([new Me().parse(),w.get(g)])];case 1:h=D.apply(void 0,[I.sent(),2]),m=h[0],E=h[1];P=this.__pluginEnabledOverride;if(P!==null&&P!==void 0?P:$r(m,E,o)){if(o.resetSessionOnNewCampaign){n.setSessionId(Date.now());u.loggerProvider.log("Created a new session for new campaign.")}u.loggerProvider.log("Tracking attribution.");C=Xr(m,o);n.track(C);void w.set(g,m)}return[2]}})})},execute:function(u){return y(t,void 0,void 0,function(){return _(this,function(c){return[2,u]})})}};a.__pluginEnabledOverride=void 0;return a};var Je=1e3;var Qt=function(){function t(e){this.loggerProvider=e===null||e===void 0?void 0:e.loggerProvider}t.prototype.isEnabled=function(){return y(this,void 0,void 0,function(){var e,r,i,n,o;return _(this,function(s){switch(s.label){case 0:if(!W()){return[2,false]}e=String(Date.now());r=new t;i="AMP_TEST";s.label=1;case 1:s.trys.push([1,4,5,7]);return[4,r.set(i,e)];case 2:s.sent();return[4,r.get(i)];case 3:n=s.sent();return[2,n===e];case 4:o=s.sent();return[2,false];case 5:return[4,r.remove(i)];case 6:s.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return y(this,void 0,void 0,function(){var r,i;return _(this,function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,this.getRaw(e)];case 1:r=n.sent();if(!r){return[2,void 0]}return[2,JSON.parse(r)];case 2:i=n.sent();return[2,void 0];case 3:return[2]}})})};t.prototype.getRaw=function(e){var r;return y(this,void 0,void 0,function(){return _(this,function(i){return[2,((r=W())===null||r===void 0?void 0:r.localStorage.getItem(e))||void 0]})})};t.prototype.set=function(e,r){var i,n;return y(this,void 0,void 0,function(){var o,s,d;return _(this,function(p){o=Array.isArray(r)&&r.length>Je;try{s=o?JSON.stringify(r.slice(0,Je)):JSON.stringify(r);(i=W())===null||i===void 0?void 0:i.localStorage.setItem(e,s)}catch(l){}if(o){d=r.length-Je;(n=this.loggerProvider)===null||n===void 0?void 0:n.error("Failed to save ".concat(d," events because the queue length exceeded ").concat(Je,"."))}return[2]})})};t.prototype.remove=function(e){var r;return y(this,void 0,void 0,function(){return _(this,function(i){try{(r=W())===null||r===void 0?void 0:r.localStorage.removeItem(e)}catch(n){}return[2]})})};t.prototype.reset=function(){var e;return y(this,void 0,void 0,function(){return _(this,function(r){try{(e=W())===null||e===void 0?void 0:e.localStorage.clear()}catch(i){}return[2]})})};return t}();var Yr=function(t){te(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.state={done:4};return r}e.prototype.send=function(r,i){return y(this,void 0,void 0,function(){var n=this;return _(this,function(o){return[2,new Promise(function(s,d){if(typeof XMLHttpRequest==="undefined"){d(new Error("XHRTransport is not supported."))}var p=new XMLHttpRequest;p.open("POST",r,true);p.onreadystatechange=function(){if(p.readyState===n.state.done){try{var l=p.responseText;var a=JSON.parse(l);var u=n.buildResponse(a);s(u)}catch(c){d(c)}}};p.setRequestHeader("Content-Type","application/json");p.setRequestHeader("Accept","*/*");p.send(JSON.stringify(i))})]})})};return e}(ge);var Zr=function(t){te(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,i){return y(this,void 0,void 0,function(){var n=this;return _(this,function(o){return[2,new Promise(function(s,d){var p=W();if(!(p===null||p===void 0?void 0:p.navigator.sendBeacon)){throw new Error("SendBeaconTransport is not supported")}try{var l=JSON.stringify(i);var a=p.navigator.sendBeacon(r,JSON.stringify(i));if(a){return s(n.buildResponse({code:200,events_ingested:i.events.length,payload_size_bytes:l.length,server_upload_time:Date.now()}))}return s(n.buildResponse({code:500}))}catch(u){d(u)}})]})})};return e}(ge);var Pe=function(){var t=new Xe;var e={deviceManufacturer:true,deviceModel:true,ipAddress:true,language:true,osName:true,osVersion:true,platform:true};return{cookieExpiration:365,cookieSameSite:"Lax",cookieSecure:false,cookieStorage:t,cookieUpgrade:true,disableCookies:false,domain:"",sessionTimeout:30*60*1e3,trackingOptions:e,transportProvider:new Kt}};var Jr=function(t){te(e,t);function e(r,i){var n=this;var o,s,d,p,l,a,u,c,f;var v=Pe();n=t.call(this,b(b({flushIntervalMillis:1e3,flushMaxRetries:5,flushQueueSize:30,transportProvider:v.transportProvider},i),{apiKey:r}))||this;n._optOut=false;n.cookieStorage=(o=i===null||i===void 0?void 0:i.cookieStorage)!==null&&o!==void 0?o:v.cookieStorage;n.deviceId=i===null||i===void 0?void 0:i.deviceId;n.lastEventId=i===null||i===void 0?void 0:i.lastEventId;n.lastEventTime=i===null||i===void 0?void 0:i.lastEventTime;n.optOut=Boolean(i===null||i===void 0?void 0:i.optOut);n.sessionId=i===null||i===void 0?void 0:i.sessionId;n.userId=i===null||i===void 0?void 0:i.userId;n.appVersion=i===null||i===void 0?void 0:i.appVersion;n.attribution=i===null||i===void 0?void 0:i.attribution;n.cookieExpiration=(s=i===null||i===void 0?void 0:i.cookieExpiration)!==null&&s!==void 0?s:v.cookieExpiration;n.cookieSameSite=(d=i===null||i===void 0?void 0:i.cookieSameSite)!==null&&d!==void 0?d:v.cookieSameSite;n.cookieSecure=(p=i===null||i===void 0?void 0:i.cookieSecure)!==null&&p!==void 0?p:v.cookieSecure;n.cookieUpgrade=(l=i===null||i===void 0?void 0:i.cookieUpgrade)!==null&&l!==void 0?l:v.cookieUpgrade;n.defaultTracking=i===null||i===void 0?void 0:i.defaultTracking;n.disableCookies=(a=i===null||i===void 0?void 0:i.disableCookies)!==null&&a!==void 0?a:v.disableCookies;n.defaultTracking=i===null||i===void 0?void 0:i.defaultTracking;n.domain=(u=i===null||i===void 0?void 0:i.domain)!==null&&u!==void 0?u:v.domain;n.partnerId=i===null||i===void 0?void 0:i.partnerId;n.sessionTimeout=(c=i===null||i===void 0?void 0:i.sessionTimeout)!==null&&c!==void 0?c:v.sessionTimeout;n.trackingOptions=(f=i===null||i===void 0?void 0:i.trackingOptions)!==null&&f!==void 0?f:v.trackingOptions;return n}Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){if(this._deviceId!==r){this._deviceId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){if(this._userId!==r){this._userId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){if(this._sessionId!==r){this._sessionId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){if(this._optOut!==r){this._optOut=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){if(this._lastEventTime!==r){this._lastEventTime=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){if(this._lastEventId!==r){this._lastEventId=r;this.updateStorage()}},enumerable:false,configurable:true});e.prototype.updateStorage=function(){var r;var i={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};void((r=this.cookieStorage)===null||r===void 0?void 0:r.set(Ve(this.apiKey),i))};return e}(bt);var ei=function(t,e){return y(void 0,void 0,void 0,function(){var r,i,n,o,s,d,p,l,a,u,c,f;var v;var w,g;return _(this,function(h){switch(h.label){case 0:r=Pe();i=(w=e===null||e===void 0?void 0:e.deviceId)!==null&&w!==void 0?w:le();n=e===null||e===void 0?void 0:e.lastEventId;o=e===null||e===void 0?void 0:e.lastEventTime;s=e===null||e===void 0?void 0:e.optOut;d=e===null||e===void 0?void 0:e.sessionId;p=e===null||e===void 0?void 0:e.userId;l=e===null||e===void 0?void 0:e.cookieStorage;a=e===null||e===void 0?void 0:e.domain;u=Jr.bind;c=[void 0,t];f=[b({},e)];v={cookieStorage:l,deviceId:i,domain:a,lastEventId:n,lastEventTime:o,optOut:s,sessionId:d};return[4,Qi(e)];case 1:return[2,new(u.apply(Jr,c.concat([b.apply(void 0,f.concat([(v.storageProvider=h.sent(),v.trackingOptions=b(b({},r.trackingOptions),e===null||e===void 0?void 0:e.trackingOptions),v.transportProvider=(g=e===null||e===void 0?void 0:e.transportProvider)!==null&&g!==void 0?g:zt(e===null||e===void 0?void 0:e.transport),v.userId=p,v)]))])))]}})})};var et=function(t,e){if(e===void 0){e=Pe()}return y(void 0,void 0,void 0,function(){var r,i,n;return _(this,function(o){switch(o.label){case 0:r=b(b({},e),t);i=t===null||t===void 0?void 0:t.cookieStorage;n=!i;if(n)return[3,2];return[4,i.isEnabled()];case 1:n=!o.sent();o.label=2;case 2:if(n){return[2,Wi(r)]}return[2,i]}})})};var Wi=function(t){return y(void 0,void 0,void 0,function(){var e,r;return _(this,function(i){switch(i.label){case 0:e=new Fe({domain:t.domain,expirationDays:t.cookieExpiration,sameSite:t.cookieSameSite,secure:t.cookieSecure});r=t.disableCookies;if(r)return[3,2];return[4,e.isEnabled()];case 1:r=!i.sent();i.label=2;case 2:if(!r)return[3,4];e=new Qt;return[4,e.isEnabled()];case 3:if(!i.sent()){e=new Xe}i.label=4;case 4:return[2,e]}})})};var Qi=function(t){return y(void 0,void 0,void 0,function(){var e,r,i,n,o,s,d;var p,l;return _(this,function(a){switch(a.label){case 0:e=t&&Object.prototype.hasOwnProperty.call(t,"storageProvider");r=t&&t.loggerProvider;if(!(!e||t.storageProvider))return[3,9];a.label=1;case 1:a.trys.push([1,7,8,9]);i=Z([t===null||t===void 0?void 0:t.storageProvider,new Qt({loggerProvider:r})]),n=i.next();a.label=2;case 2:if(!!n.done)return[3,6];o=n.value;s=o;if(!s)return[3,4];return[4,o.isEnabled()];case 3:s=a.sent();a.label=4;case 4:if(s){return[2,o]}a.label=5;case 5:n=i.next();return[3,2];case 6:return[3,9];case 7:d=a.sent();p={error:d};return[3,9];case 8:try{if(n&&!n.done&&(l=i.return))l.call(i)}finally{if(p)throw p.error}return[7];case 9:return[2,void 0]}})})};var zt=function(t){if(t===Te.XHR){return new Yr}if(t===Te.SendBeacon){return new Zr}return Pe().transportProvider};var ti=function(t){return y(void 0,void 0,void 0,function(){var e,r,i,n,o,o,s,d,p,l;return _(this,function(a){switch(a.label){case 0:return[4,new Fe().isEnabled()];case 1:if(!a.sent()||!t&&typeof location==="undefined"){return[2,""]}e=t!==null&&t!==void 0?t:location.hostname;r=e.split(".");i=[];n="AMP_TLDTEST";for(o=r.length-2;o>=0;--o){i.push(r.slice(o).join("."))}o=0;a.label=2;case 2:if(!(o<i.length))return[3,7];s=i[o];d={domain:"."+s};p=new Fe(d);return[4,p.set(n,1)];case 3:a.sent();return[4,p.get(n)];case 4:l=a.sent();if(!l)return[3,6];return[4,p.remove(n)];case 5:a.sent();return[2,"."+s];case 6:o++;return[3,2];case 7:return[2,""]}})})};var H="[Amplitude]";var tt="".concat(H," Page Viewed");var $t="".concat(H," Form Started");var ri="".concat(H," Form Submitted");var ii="".concat(H," File Downloaded");var Xt="session_start";var Yt="session_end";var ni="".concat(H," File Extension");var oi="".concat(H," File Name");var ai="".concat(H," Link ID");var si="".concat(H," Link Text");var ui="".concat(H," Link URL");var rt="".concat(H," Form ID");var it="".concat(H," Form Name");var nt="".concat(H," Form Destination");var ci=function(t,e){return y(void 0,void 0,void 0,function(){var r,i,n,o,s,d,p,l,a,u;var c;return _(this,function(f){switch(f.label){case 0:return[4,et(e)];case 1:r=f.sent();i=Mt(t);return[4,r.getRaw(i)];case 2:n=f.sent();if(!n){return[2,{optOut:false}]}if(!((c=e.cookieUpgrade)!==null&&c!==void 0?c:Pe().cookieUpgrade))return[3,4];return[4,r.remove(i)];case 3:f.sent();f.label=4;case 4:o=D(n.split("."),6),s=o[0],d=o[1],p=o[2],l=o[3],a=o[4],u=o[5];return[2,{deviceId:s,userId:zi(d),sessionId:Zt(l),lastEventId:Zt(u),lastEventTime:Zt(a),optOut:Boolean(p)}]}})})};var Zt=function(t){var e=parseInt(t,32);if(isNaN(e)){return void 0}return e};var zi=function(t){if(!atob||!escape||!t){return void 0}try{return decodeURIComponent(escape(atob(t)))}catch(e){return void 0}};var fi=ki(li());var di="1.13.4";var $i="Web";var Xi="$remote";var pi=function(){function t(){this.name="context";this.type=N.BEFORE;this.library="amplitude-ts/".concat(di);if(typeof navigator!=="undefined"){this.userAgent=navigator.userAgent}this.uaResult=new fi.default(this.userAgent).getResult()}t.prototype.setup=function(e){this.config=e;return Promise.resolve(void 0)};t.prototype.execute=function(e){var r,i;return y(this,void 0,void 0,function(){var n,o,s,d,p,l,a,u;return _(this,function(c){n=new Date().getTime();o=this.uaResult.browser.name;s=this.uaResult.browser.version;d=this.uaResult.device.model||this.uaResult.os.name;p=this.uaResult.device.vendor;l=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;a=(i=e.event_id)!==null&&i!==void 0?i:l+1;this.config.lastEventId=a;if(!e.time){this.config.lastEventTime=n}u=b(b(b(b(b(b(b(b(b(b(b(b({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:n},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:$i}),this.config.trackingOptions.osName&&{os_name:o}),this.config.trackingOptions.osVersion&&{os_version:s}),this.config.trackingOptions.deviceManufacturer&&{device_manufacturer:p}),this.config.trackingOptions.deviceModel&&{device_model:d}),this.config.trackingOptions.language&&{language:jt()}),this.config.trackingOptions.ipAddress&&{ip:Xi}),{insert_id:le(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent});return[2,u]})})};return t}();var Yi={page_domain:"".concat(H," Page Domain"),page_location:"".concat(H," Page Location"),page_path:"".concat(H," Page Path"),page_title:"".concat(H," Page Title"),page_url:"".concat(H," Page URL")};var vi=function(){var t="@amplitude/plugin-default-page-view-event-enrichment-browser";var e=N.ENRICHMENT;var r=function(){return y(void 0,void 0,void 0,function(){return _(this,function(n){return[2,void 0]})})};var i=function(n){return y(void 0,void 0,void 0,function(){return _(this,function(o){if(n.event_type===tt&&n.event_properties){n.event_properties=Object.entries(n.event_properties).reduce(function(s,d){var p=D(d,2),l=p[0],a=p[1];var u=Yi[l];if(u){s[u]=a}else{s[l]=a}return s},{})}return[2,n]})})};return{name:t,type:e,setup:r,execute:i}};var hi=function(){var t;var e=[];var r=function(l,a,u){l.addEventListener(a,u);e.push({element:l,type:a,handler:u})};var i=function(){e.forEach(function(l){var a=l.element,u=l.type,c=l.handler;a===null||a===void 0?void 0:a.removeEventListener(u,c)});e=[]};var n="@amplitude/plugin-file-download-tracking-browser";var o=N.ENRICHMENT;var s=function(l,a){return y(void 0,void 0,void 0,function(){var u,c,f;return _(this,function(v){if(!a){l.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}u=function(w){var g;try{g=new URL(w.href,window.location.href)}catch(E){return}var h=c.exec(g.href);var m=h===null||h===void 0?void 0:h[1];if(m){r(w,"click",function(){var E;if(m){a.track(ii,(E={},E[ni]=m,E[oi]=g.pathname,E[ai]=w.id,E[si]=w.text,E[ui]=w.href,E))}})}};c=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/;f=Array.from(document.getElementsByTagName("a"));f.forEach(u);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(w){w.forEach(function(g){g.addedNodes.forEach(function(h){if(h.nodeName==="A"){u(h)}if("querySelectorAll"in h&&typeof h.querySelectorAll==="function"){Array.from(h.querySelectorAll("a")).map(u)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var d=function(l){return y(void 0,void 0,void 0,function(){return _(this,function(a){return[2,l]})})};var p=function(){return y(void 0,void 0,void 0,function(){return _(this,function(l){t===null||t===void 0?void 0:t.disconnect();i();return[2]})})};return{name:n,type:o,setup:s,execute:d,teardown:p}};var gi=function(){var t;var e=[];var r=function(l,a,u){l.addEventListener(a,u);e.push({element:l,type:a,handler:u})};var i=function(){e.forEach(function(l){var a=l.element,u=l.type,c=l.handler;a===null||a===void 0?void 0:a.removeEventListener(u,c)});e=[]};var n="@amplitude/plugin-form-interaction-tracking-browser";var o=N.ENRICHMENT;var s=function(l,a){return y(void 0,void 0,void 0,function(){var u,c;return _(this,function(f){if(!a){l.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}u=function(v){var w=false;r(v,"change",function(){var g;if(!w){a.track($t,(g={},g[rt]=v.id,g[it]=v.name,g[nt]=v.action,g))}w=true});r(v,"submit",function(){var g,h;if(!w){a.track($t,(g={},g[rt]=v.id,g[it]=v.name,g[nt]=v.action,g))}a.track(ri,(h={},h[rt]=v.id,h[it]=v.name,h[nt]=v.action,h));w=false})};c=Array.from(document.getElementsByTagName("form"));c.forEach(u);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(v){v.forEach(function(w){w.addedNodes.forEach(function(g){if(g.nodeName==="FORM"){u(g)}if("querySelectorAll"in g&&typeof g.querySelectorAll==="function"){Array.from(g.querySelectorAll("form")).map(u)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var d=function(l){return y(void 0,void 0,void 0,function(){return _(this,function(a){return[2,l]})})};var p=function(){return y(void 0,void 0,void 0,function(){return _(this,function(l){t===null||t===void 0?void 0:t.disconnect();i();return[2]})})};return{name:n,type:o,setup:s,execute:d,teardown:p}};var at=function(t,e){for(var r=0;r<e.length;r++){var i=e[r],n=i.name,o=i.args,s=i.resolve;var d=t&&t[n];if(typeof d==="function"){var p=d.apply(t,o);if(typeof s==="function"){s(p===null||p===void 0?void 0:p.promise)}}}return t};var st=function(t){var e=t;return e&&e._q!==void 0};var mi=function(t){te(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(r,i,n){if(r===void 0){r=""}return X(this._init(b(b({},n),{userId:i,apiKey:r})))};e.prototype._init=function(r){var i,n,o,s,d,p,l,a,u,c,f,v,w,g,h,m,E,P,C,I;return y(this,void 0,void 0,function(){var O,k,K,z,$,R,_e,ie,fe,Re,be,we,Oe,pe,ve,Ee,oe,ae;var ke=this;return _(this,function(L){switch(L.label){case 0:if(this.initializing){return[2]}this.initializing=true;O=r;if(!r.disableCookies)return[3,1];k="";return[3,5];case 1:if(!((i=r.domain)!==null&&i!==void 0))return[3,2];K=i;return[3,4];case 2:return[4,ti()];case 3:K=L.sent();L.label=4;case 4:k=K;L.label=5;case 5:O.domain=k;return[4,ci(r.apiKey,r)];case 6:z=L.sent();return[4,et(r)];case 7:$=L.sent();return[4,$.get(Ve(r.apiKey))];case 8:R=L.sent();_e=xe();ie=(s=(o=(n=r.deviceId)!==null&&n!==void 0?n:_e.deviceId)!==null&&o!==void 0?o:R===null||R===void 0?void 0:R.deviceId)!==null&&s!==void 0?s:z.deviceId;fe=(d=R===null||R===void 0?void 0:R.sessionId)!==null&&d!==void 0?d:z.sessionId;Re=(l=(p=r.optOut)!==null&&p!==void 0?p:R===null||R===void 0?void 0:R.optOut)!==null&&l!==void 0?l:z.optOut;be=(a=R===null||R===void 0?void 0:R.lastEventId)!==null&&a!==void 0?a:z.lastEventId;we=(u=R===null||R===void 0?void 0:R.lastEventTime)!==null&&u!==void 0?u:z.lastEventTime;Oe=(f=(c=r.userId)!==null&&c!==void 0?c:R===null||R===void 0?void 0:R.userId)!==null&&f!==void 0?f:z.userId;this.previousSessionDeviceId=(v=R===null||R===void 0?void 0:R.deviceId)!==null&&v!==void 0?v:z.deviceId;this.previousSessionUserId=(w=R===null||R===void 0?void 0:R.userId)!==null&&w!==void 0?w:z.userId;return[4,ei(r.apiKey,b(b({},r),{deviceId:ie,sessionId:fe,optOut:Re,lastEventId:be,lastEventTime:we,userId:Oe,cookieStorage:$}))];case 9:pe=L.sent();return[4,t.prototype._init.call(this,pe)];case 10:L.sent();ve=false;if(!this.config.lastEventTime||!this.config.sessionId||this.config.lastEventTime&&Date.now()-this.config.lastEventTime>this.config.sessionTimeout){this.setSessionId((h=(g=r.sessionId)!==null&&g!==void 0?g:this.config.sessionId)!==null&&h!==void 0?h:Date.now());ve=true}Ee=ne(r.instanceName);Ee.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId});return[4,this.add(new Et).promise];case 11:L.sent();return[4,this.add(new pi).promise];case 12:L.sent();return[4,this.add(new Gt).promise];case 13:L.sent();if(!Vt(this.config.defaultTracking))return[3,15];return[4,this.add(hi()).promise];case 14:L.sent();L.label=15;case 15:if(!Ft(this.config.defaultTracking))return[3,17];return[4,this.add(gi()).promise];case 16:L.sent();L.label=17;case 17:if(!!((m=this.config.attribution)===null||m===void 0?void 0:m.disabled))return[3,19];oe=Wt({excludeReferrers:(E=this.config.attribution)===null||E===void 0?void 0:E.excludeReferrers,initialEmptyValue:(P=this.config.attribution)===null||P===void 0?void 0:P.initialEmptyValue,resetSessionOnNewCampaign:(C=this.config.attribution)===null||C===void 0?void 0:C.resetSessionOnNewCampaign});oe.__pluginEnabledOverride=ve||((I=this.config.attribution)===null||I===void 0?void 0:I.trackNewCampaigns)?void 0:false;return[4,this.add(oe).promise];case 18:L.sent();L.label=19;case 19:ae=qt(this.config);ae.eventType=ae.eventType||tt;return[4,this.add(Ht(ae)).promise];case 20:L.sent();return[4,this.add(vi()).promise];case 21:L.sent();this.initializing=false;return[4,this.runQueuedFunctions("dispatchQ")];case 22:L.sent();Ee.eventBridge.setEventReceiver(function(je){void ke.track(je.eventType,je.eventProperties)});return[2]}})})};e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId};e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}if(r!==this.config.userId||r===void 0){this.config.userId=r;It(r,this.config.instanceName)}};e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId};e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.deviceId=r;St(r,this.config.instanceName)};e.prototype.setOptOut=function(r){Tt(r,this.config.instanceName);t.prototype.setOptOut.call(this,r)};e.prototype.reset=function(){this.setDeviceId(le());this.setUserId(void 0)};e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId};e.prototype.setSessionId=function(r){var i;if(!this.config){this.q.push(this.setSessionId.bind(this,r));return}if(r===this.config.sessionId){return}var n=this.getSessionId();var o=this.config.lastEventTime;var s=(i=this.config.lastEventId)!==null&&i!==void 0?i:-1;this.config.sessionId=r;this.config.lastEventTime=void 0;if(Bt(this.config.defaultTracking)){if(n&&o){this.track(Yt,void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:n,time:o+1,user_id:this.previousSessionUserId})}this.config.lastEventTime=this.config.sessionId;this.track(Xt,void 0,{event_id:++s,session_id:this.config.sessionId,time:this.config.lastEventTime})}this.previousSessionDeviceId=this.config.deviceId;this.previousSessionUserId=this.config.userId};e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()};e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=zt(r)};e.prototype.identify=function(r,i){if(st(r)){var n=r._q;r._q=[];r=at(new ue,n)}if(i===null||i===void 0?void 0:i.user_id){this.setUserId(i.user_id)}if(i===null||i===void 0?void 0:i.device_id){this.setDeviceId(i.device_id)}return t.prototype.identify.call(this,r,i)};e.prototype.groupIdentify=function(r,i,n,o){if(st(n)){var s=n._q;n._q=[];n=at(new ue,s)}return t.prototype.groupIdentify.call(this,r,i,n,o)};e.prototype.revenue=function(r,i){if(st(r)){var n=r._q;r._q=[];r=at(new _t,n)}return t.prototype.revenue.call(this,r,i)};e.prototype.process=function(r){return y(this,void 0,void 0,function(){var i,n,o;return _(this,function(s){i=Date.now();n=this.config.lastEventTime||Date.now();o=i-n;if(r.event_type!==Xt&&r.event_type!==Yt&&(!r.session_id||r.session_id===this.getSessionId())&&o>this.config.sessionTimeout){this.setSessionId(i)}return[2,t.prototype.process.call(this,r)]})})};return e}(yt);var Zi=function(){var t=new mi;return{init:B(t.init.bind(t),"init",V(t),F(t,["config"])),add:B(t.add.bind(t),"add",V(t),F(t,["config.apiKey","timeline.plugins"])),remove:B(t.remove.bind(t),"remove",V(t),F(t,["config.apiKey","timeline.plugins"])),track:B(t.track.bind(t),"track",V(t),F(t,["config.apiKey","timeline.queue.length"])),logEvent:B(t.logEvent.bind(t),"logEvent",V(t),F(t,["config.apiKey","timeline.queue.length"])),identify:B(t.identify.bind(t),"identify",V(t),F(t,["config.apiKey","timeline.queue.length"])),groupIdentify:B(t.groupIdentify.bind(t),"groupIdentify",V(t),F(t,["config.apiKey","timeline.queue.length"])),setGroup:B(t.setGroup.bind(t),"setGroup",V(t),F(t,["config.apiKey","timeline.queue.length"])),revenue:B(t.revenue.bind(t),"revenue",V(t),F(t,["config.apiKey","timeline.queue.length"])),flush:B(t.flush.bind(t),"flush",V(t),F(t,["config.apiKey","timeline.queue.length"])),getUserId:B(t.getUserId.bind(t),"getUserId",V(t),F(t,["config","config.userId"])),setUserId:B(t.setUserId.bind(t),"setUserId",V(t),F(t,["config","config.userId"])),getDeviceId:B(t.getDeviceId.bind(t),"getDeviceId",V(t),F(t,["config","config.deviceId"])),setDeviceId:B(t.setDeviceId.bind(t),"setDeviceId",V(t),F(t,["config","config.deviceId"])),reset:B(t.reset.bind(t),"reset",V(t),F(t,["config","config.userId","config.deviceId"])),getSessionId:B(t.getSessionId.bind(t),"getSessionId",V(t),F(t,["config"])),setSessionId:B(t.setSessionId.bind(t),"setSessionId",V(t),F(t,["config"])),extendSession:B(t.extendSession.bind(t),"extendSession",V(t),F(t,["config"])),setOptOut:B(t.setOptOut.bind(t),"setOptOut",V(t),F(t,["config"])),setTransport:B(t.setTransport.bind(t),"setTransport",V(t),F(t,["config"]))}};var G=Zi();var zs=G.add;var $s=G.extendSession;var Xs=G.flush;var Ys=G.getDeviceId;var Zs=G.getSessionId;var Js=G.getUserId;var eu=G.groupIdentify;var tu=G.identify;var ru=G.init;var iu=G.logEvent;var nu=G.remove;var ou=G.reset;var au=G.revenue;var su=G.setDeviceId;var Jt=G.setGroup;var uu=G.setOptOut;var cu=G.setSessionId;var lu=G.setTransport;var du=G.setUserId;var ye=G.track;var er=(t,e)=>{setTimeout(()=>{const r=Array.from(document.querySelectorAll("section"));for(const i of r){i.setAttribute("aria-hidden",String(i.id!==t))}},e)};var yi=t=>{er("success",500);if(t){rn()}setTimeout(Ji,500)};var Ji=()=>{const t=document.getElementById("step-update-app");t.className="highlight completed";const e=document.getElementById("step-setup-complete");e.className="highlight active"};var qe=(t=[])=>{er("error",500);const e=document.getElementById("error-messages");e.innerHTML="";for(const r of t){const i=document.createElement("li");i.textContent=r;e.appendChild(i)}document.title=\`Error Connecting\`};var _i=()=>{er("restart-server",500);document.title=\`Restart Dev Server\`};var en=async()=>{const t=new URL(location.href);const e=t.searchParams.get(lt);const r=t.searchParams.get(sr);const i=t.searchParams.get(ur);const n=t.searchParams.get(dt);const o=t.searchParams.get(lr)||"unknown";const s=t.searchParams.get(dr);const d=t.searchParams.get(fr);const p=t.searchParams.get(vr)||null;try{console.info(\`framework: \${o}, platform: \${s}, node: \${d}\`);const l=new URL(location.pathname,location.origin);if(r){Jt("organization",r);Jt("space",r)}if(!e){window.history.replaceState({},"",l.href);qe(["Missing preview url"]);ye("integration failed",{url:l.href,message:"missing preview url",framework:o});return}l.searchParams.set(lt,e);l.searchParams.set(dt,n);window.history.replaceState({},"",l.href);if(r&&i){let a=0;const u=async()=>{a++;try{const c=await gr(r,i,p);if(c.success){const f=bi(e,c.pathname,n);ye("site integrated",{url:f,position:o});if(c.modifiedFiles.length>0){const v=document.getElementById("modified-files-list");c.modifiedFiles.forEach(g=>{const h=document.createElement("li");const m=document.createElement("a");m.textContent=g.displayFilePath||g.filePath;m.href=\`~launch#\${g.displayFilePath}\`;m.addEventListener("click",E=>{E.preventDefault();E.stopPropagation();yr({filePath:g.filePath})});h.appendChild(m);v.appendChild(h)});const w=document.getElementById("modified-files-message");w.removeAttribute("hidden")}if(p!=="vcp"&&(c.platform.os==="win32"||o==="@remix-run/react")){const v=document.getElementById("restart-warning");v.removeAttribute("hidden")}else if(p!=="vcp"&&(o==="react"||o==="@angular/core")){const v=document.getElementById("router-message");v.removeAttribute("hidden");if(o==="@angular/core"){ye("angular framework",{});const E=document.getElementById("angular-message-section");E?.removeAttribute("hidden")}if(o==="react"){ye("react framework",{});const E=document.getElementById("react-message-section");E?.removeAttribute("hidden")}const w=document.getElementById("router-checkbox-div");const g=document.createElement("input");g.type="checkbox";g.id="router-checkbox";const h=document.createElement("label");h.htmlFor="router-checkbox";h.textContent=\`I've updated my router files\`;w.appendChild(g);w.appendChild(h);const m=document.getElementById("router-finish-button");g.addEventListener("change",function(){if(g.checked){m.removeAttribute("hidden")}else{m.setAttribute("hidden","true")}})}else{const v=document.getElementById("go-to-app");v.removeAttribute("hidden");if(p!=="vcp"){const w=v.querySelector("p");if(w){w.removeAttribute("hidden")}const g=v.querySelector("#button-text");if(g){g.textContent="Go to your app"}}}setTimeout(()=>{yi(true)},500)}else{ye("integration failed",{path:c.pathname,message:"error connecting to Builder.io",position:o});qe([\`Error connecting to Builder.io\`])}}catch(c){const f=String(c.message||c);if(f.includes("Fetch Error")){if(a>3){_i()}setTimeout(u,1e3)}else{qe([f])}}};u()}else{const a=await mr();if(a.isValid){bi(e,a.pathname,n);const u=document.getElementById("go-to-app");u.removeAttribute("hidden");yi(false)}else{qe([\`Error connecting to Builder.io\`])}}}catch(l){ye("integration failed",{message:"uncaught error",details:String(l),position:JSON.stringify({framework:o,platform:s,nodeVersion:d})});console.error("integrationFailed",l);const a=String(l);if(a.includes("Fetch Error")){_i()}else{qe([a])}}};var bi=(t,e,r)=>{const i=new URL(e,t);if(r){i.hash=\`\${cr}=\${r}\`}const n=document.querySelectorAll(".next-step");for(const o of n){o.setAttribute("href",i.href)}console.debug("App Url",i.href);return i.href};var tn=()=>{return new Promise((t,e)=>{if(globalThis.confetti){return t(globalThis.confetti)}const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js";r.onload=()=>t(globalThis.confetti);r.onerror=e;document.head.appendChild(r);r.remove()})};var rn=async()=>{const t={spread:360,ticks:50,gravity:0,decay:.95,startVelocity:30,colors:["19b4f4","a97ff2","fd6b3c","ffffff"]};const e=tn();const r=async()=>{const i=document.getElementById("button-icon");const n=i.getBoundingClientRect();const o=window.scrollX+n.left;const s=window.scrollY+n.top;const d={x:o/window.innerWidth,y:s/window.innerHeight};const p=await e;p({...t,origin:d,scalar:1.2});p({...t,origin:d,scalar:.75})};setTimeout(r,500);setTimeout(r,650);setTimeout(r,800);setTimeout(r,950)};en();})();
</script>
  </body>
</html>
`)}async function qD(e,r){let t=await cf(e),n=e.getFrameworks();return r.replace(/__LOCAL_APP_ID__/g,t).replace(/__DEV_TOOLS_URL__/g,e.devToolsServerUrl).replace(/__CLIENT_ID__/g,e.getClientId()).replace(/__FRAMEWORK__/g,n.length?n[0].name:"")}b();var WD=require("os");async function GD(e,r){let t=new URL("/cli-auth","https://builder.io");t.searchParams.set("client_id",e.getClientId()),t.searchParams.set("host",await e.getDeviceId()),t.searchParams.set("response_type","code"),t.searchParams.set("cli","true");let n=new URL(Wn,e.devToolsServerUrl);n.searchParams.set(_o,(0,WD.platform)()),n.searchParams.set(Oo,process.versions.node);let i=e.getFrameworks();return i.length>0&&(t.searchParams.set(gi,i[0].name),n.searchParams.set(gi,i[0].name)),t.searchParams.set("redirect_url",n.href),t.searchParams.set("preview_url",r),t.href}async function JD(e,r,t,n){try{if(!e)return us(t,n,400,"Builder context closed");let i=H1(t);if(i.pathname===jl){if(t.method==="POST"){let s=await G1(t);if(s)try{let o=await KD(e,JSON.parse(s));return HD(t,n,200,o)}catch(o){e.debug("Dev API Error",o.stack||o.message||o);let a={errors:[String(o.message||o)]};return HD(t,n,500,a)}}else if(t.method==="OPTIONS"){let s={"Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Cache-Control, X-Builder-Devtools-Version"},o=t.headers.origin;o&&o!=="null"?YD(new URL(o))&&(s["Access-Control-Allow-Origin"]=o):s["Access-Control-Allow-Origin"]="*",n.writeHead(200,s),n.end();return}return us(t,n,405,`${jl} is an API endpoint used only during development by the Builder.io Devtools client-side script`)}if(i.pathname===Kl)return z1(t,n,200,await VD(e));if(i.pathname===_d){let s=i.searchParams.get(Ul);return s?W1(n,302,await GD(e,s)):us(t,n,400,`Missing ${Ul} querystring`)}if(i.pathname===Wn)return q1(t,n,200,await zD(e));if(i.pathname===Od){await yt(e,{_:[]},{});let s=await di(e),{figmaBuilderLinks:o,diagnostics:a}=await bo({mappingFiles:s,sys:e});return yo(t,n,200,"application/json",JSON.stringify({figmaBuilderLinks:o,foundErrors:a.length>0,diagnostics:a,version:2,local:!0},null,2))}return i.pathname===Gn?(e.debug(`Close Dev Tools Server Requested: ${i.href}`),setTimeout(()=>{try{r.close(s=>{e.debug(`Dev Tools Server Closed Error: ${s}`)})}catch(s){e.debug(`Error closing devtools server: ${s}`)}},20),us(t,n,200,"Closing Dev Tools Server")):us(t,n,404,"Not found")}catch(i){return e?.Sentry?.captureException(i),us(t,n,500,`Dev Server Error: ${i}`)}}function HD(e,r,t,n){yo(e,r,t,"application/json",JSON.stringify(n))}function z1(e,r,t,n){yo(e,r,t,"application/javascript",n)}function q1(e,r,t,n){yo(e,r,t,"text/html",n)}function us(e,r,t,n){yo(e,r,t,"text/plain",n)}function yo(e,r,t,n,i){let s={"Content-Type":`${n}; charset=utf-8`,"Cache-Control":"no-cache, no-store, must-revalidate","X-Builder-Devtools-Version":Re},o=e.headers.origin;o&&o!=="null"?YD(new URL(o))&&(s["Access-Control-Allow-Origin"]=o):s["Access-Control-Allow-Origin"]="*",r.writeHead(t,s),r.end(i)}function YD(e){return e.hostname==="localhost"||e.origin==="https://builder.io"||e.origin==="https://www.builder.io"||e.origin.endsWith(".builder.io")?!0:e.port===""?!1:e.port!=="80"&&e.port!=="443"}function W1(e,r,t){e.writeHead(r,{Location:t}),e.end()}async function G1(e){let r="";for await(let t of e)r+=t;return r}function H1(e){let r=e.url||"/";return new URL(r,`http://${e.headers.host}`)}async function XD(e){if(globalThis.__builderDevToolsServer)return e.debug("reusing existing devtools server"),globalThis.__builderDevToolsServer.setContext(e),globalThis.__builderDevToolsServer;let r=await J1(e),t=(0,fl.createServer)((i,s)=>{JD(e,t,i,s)}),n=()=>new Promise((i,s)=>{t.listening?(e.debug(`closing devtools server on port ${r}`),t.close(o=>{e=null,o?(e.debug(`error closing devtools server on port ${r}`),s(o)):(e&&e.debug(`closed devtools server on port ${r}`),i())})):(e.debug(`devtools server on port ${r} not listening`),i())});return process.once("SIGTERM",n),process.once("SIGINT",n),process.env.CI!=="true"&&process.stdin.on("end",n),globalThis.__builderDevToolsServer={url:new URL(`http://localhost:${r}`).href,port:r,setContext:i=>{e.debug(`set devtools context on server ${r}`),e=i},close:async()=>{globalThis.__builderDevToolsServer=null,await n()}},new Promise(i=>{t.listen(r,()=>{e.debug(`started devtools server on port ${r}`),i(globalThis.__builderDevToolsServer)})})}function J1(e){return new Promise(r=>{let t=e.port;try{(0,fl.request)({hostname:"localhost",port:t,path:Gn,method:"GET"},i=>{i.on("end",()=>{e.debug(`${Gn} - Response ended`),r(t)})}).on("error",i=>{e.debug(`${Gn} - No response ${i}`),r(t)}).end()}catch(n){e.debug(`${Gn} - Error ${n}`),r(t)}})}async function jp(e){let r={getPastSyncInfo:()=>null,resyncSnippet:()=>null,...e,devToolsServerUrl:"",isValid:!1,publicApiKey:"",serverShouldRestart:!1,port:e.port||5273,ignoreMissingConfig:!1},t=e.getFrameworks().map(s=>s.name).join(", ");r.debug(`create devtools ${QD} [${t}]`);let n=await XD(r);return r.devToolsServerUrl=n.url,r.port=n.port,{getUrl:()=>r.devToolsServerUrl}}var QD=Re;b();var vr=require("path"),kt=require("fs");var Un=q(et(),1);async function ZD(e){console.log(""),tt((0,Un.bgCyan)((0,Un.bold)((0,Un.white)(" add ")))+"  "+(0,Un.dim)(Re));let r=e.snippetId;if(!r&&!e.snippet)return ge("SnippetId expected. npx builder.io add <snippetId>"),await Q(1);let t=Di(),n=e.snippet||null;if(!n&&r&&(t.start(`Fetching snippet ${r}`),n=await Kp(r),t.stop(`Fetched snippet ${r}`)),!n)return ge(`No snippet found for id ${r}`),await Q(1);let i=process.cwd(),s=go(i)??i;if(n.files?.length>0){let o=Vp(s,n.framework||"react"),a=e.path||await xt({message:"Where should we copy the files?",initialValue:o,validate(u){if(u.length===0)return"File path is required!";if(u[0]!==".")return"Please enter a relative path."}});if(Me(a))return ge("Cancelled sync"),await Q(0);let l=await ml(s,n,n.files,a,!1);return U.success("All files have been written successfully."),{snippet:n,pathInput:a,writtenFiles:l,timeStamp:Date.now()}}else{let{code:o,suggestedName:a,framework:l}=n;l&&(a=await X1(s,l,o)),a??(a="./src/components/MyComponent.jsx");let u=ex(n,Y1(n.code),n.framework);try{n.framework==="html"?u=await mr(u,"html"):n.framework==="angular"?u=await mr(u,"angular"):n.framework==="vue"?u=await mr(u,"vue"):n.framework==="svelte"?u=await mr(u,"html"):u=await mr(u,"typescript")}catch{}let c=e.path;if(!c){try{let m=(await uD({cwd:process.cwd()})).getFrameworks();if(m.length>0){let f;if(m.some(h=>h.name.includes("qwik"))?f="qwik":m.some(h=>h.name.includes("react"))?f="react":f=m[0].name,n.framework&&n.framework!==f){let h=await Rt({message:`This snippet is for ${n.framework}, but you are using ${f}. Continue?`,initialValue:!1});if(Me(h)||!h)return console.log("Please go back to builder and change the output framework to match your project."),console.log(),await Q(0)}}}catch{}if(c=await xt({message:"Where should we copy the code?",initialValue:a?.startsWith("./")?a:`./${a}`,validate(d){if(d.length===0)return"File path is required!";if(d[0]!==".")return"Please enter a relative path."}}),Me(c))return console.log(""),await Q(0)}let p=(0,vr.resolve)(s,c);U.info(`Writing code to ${p}`),(0,kt.mkdirSync)((0,vr.dirname)(p),{recursive:!0}),(0,kt.writeFileSync)(p,u)}}function Kp(e){return pt(`https://cdn.builder.io/api/v1/snippet/${e}`).then(r=>r.status===404?null:r.json())}function Y1(e){return e.replace(/^```jsx\s?|\s?```$/g,"").trim()}function ex(e,r,t,n=!1){if(!t)return r;let i="This code was generated by Builder.io",s=n?`https://builder.io/content/${e.contentId}?codeSession=${e.sessionKey}&sid=${e.id}`:"",o=["vue","html","svelte"].includes(t.toLowerCase()),a=[i,s].filter(Boolean);return`${o?a.map(u=>`<!-- ${u} -->`).join(`
`):`/**
${a.map(u=>` * ${u}`).join(`
`)}
 */`}
${r}`}async function X1(e,r,t){let n,i=Z1(t,r.toLowerCase());switch(r.toLowerCase()){case"react":let s=await Q1(e);n=`components/${i||"MyComponent"}.${s?"tsx":"jsx"}`;break;case"angular":n=`app/components/${i||"my-component"}.component.ts`;break;case"vue":n=`components/${i||"MyComponent"}.vue`;break;case"svelte":n=`components/${i||"MyComponent"}.svelte`;break;case"html":n=`${i||"my-design"}.html`;break;case"qwik":n=`components/${i||"MyComponent"}.tsx`;break;default:n=`components/${i||"MyComponent"}.tsx`}return n=(0,kt.existsSync)("./src")?`./src/${n}`:`./${n}`,n}async function Q1(e){if((0,kt.existsSync)((0,vr.join)(e,"./tsconfig.json")))return!0;let r=Np(e);return r&&(0,kt.existsSync)((0,vr.join)(r,"./package.json"))?(0,kt.readFileSync)((0,vr.join)(r,"./package.json"),"utf-8").includes("typescript"):!1}function Z1(e,r){let t={vue:/name:\s*'([^']+)'/,react:/function (\w+)\([\w\W]+\)/,qwik:/export const (\w+) = component\$/,angular:/selector:\s*'([^']+)'/};if(!t[r])return null;let n=e.match(t[r]);return r==="react"&&!n?.[1]?e.match(/const (\w+)[\w\W]+=\s*\(/)?.[1]||null:n?.[1]||null}async function ml(e,r,t,n,i){let s=[];for(let o of t){let a=eI(n,o.path),l=(0,vr.resolve)(e,a);if("code"in o){let u=await rI(r,o.code,tI(o.path),i);(0,kt.mkdirSync)((0,vr.dirname)(l),{recursive:!0}),(0,kt.writeFileSync)(l,u),s.push({...o,path:a,code:u,timestamp:(0,kt.statSync)(l).mtime.getTime()}),U.info(`Writing file to ${l}`)}else(0,kt.mkdirSync)(l,{recursive:!0}),s=s.concat(await ml(e,r,o.files,a,i))}return s}function eI(e,r){let t=e.replace(/^\.?\/+|\/+$/g,""),n=r.replace(/^\.?\/+|\/+$/g,""),i=t.split("/").filter(Boolean),s=n.split("/").filter(Boolean),o=-1;for(let l=0;l<i.length;l++){let u=s.indexOf(i[l]);u!==-1&&(o=u)}return[...i,...s.slice(o+1)].join("/")}function tI(e){switch(e.split(".").pop()?.toLowerCase()){case"html":case"svelte":return"html";case"vue":return"vue";case"ts":case"tsx":case"js":case"jsx":return"typescript";case"css":return"css";case"json":return"json";default:return"typescript"}}async function rI(e,r,t,n){let i=r;try{i=await mr(r,t)}catch{}return n?ex(e,i,t,n):i}function Vp(e,r){let n=(0,kt.existsSync)((0,vr.join)(e,"src"))?"src/":"";switch(r.toLowerCase()){case"angular":return`./${n}app/components/`;case"html":return"./";default:return`./${n}components/`}}var nx=q(require("chokidar"),1),ix=q(require("ignore"),1);function sx(e){let r=e.match(/builder\.io\/content\/([^?]+)\?codeSession=([^&]+)&sid=([^\s]+)/);return r?{contentId:r[1],sessionKey:r[2],snippetId:r[3]}:{}}async function gl(e){let r=ox(e);return await(0,zp.glob)("**/*",{cwd:e,ignore:{ignored(n){return r(n.relative())}},nodir:!0})}async function nI(e,r,t){let n=await(0,zp.glob)("**/*",{cwd:e,ignore:["node_modules/**"],nodir:!0}),i=[];for(let s of n){let o=(0,Vt.resolve)(e,s);try{let a=(0,Gt.readFileSync)(o,"utf-8");if(a.includes("This code was generated by Builder.io")){let l=sx(a);if(r&&t&&(l.contentId!==r||l.sessionKey!==t))continue;i.push({path:s,code:hl(a),name:s.split("/").pop()||"",timestamp:(0,Gt.statSync)(o).mtime.getTime(),snippetId:l.snippetId})}}catch(a){console.error(`Error reading file ${o}:`,a)}}return i}function iI(e,r){let t=sx(e);return t.contentId===r.contentId&&t.sessionKey===r.sessionKey}function ox(e){let r=["*.png","*.jpg","*.jpeg","*.gif","*.webp","*.yml","*.yaml","*.snap","*.liquid",".git",".DS_Store",".vscode","node_modules",".next","coverage","example","public","yarn.lock","pnpm-lock.yaml","__snapshots__","package-lock.json","*.mapper.tsx","*.mapper.ts","*.mapper.js","*.mapper.jsx","builder-registry.*"],t=(0,ix.default)().add(r);function n(i){try{let s=(0,Vt.resolve)(e,i);if((0,Gt.existsSync)(s)){let o=(0,Gt.readFileSync)(s,"utf8");t.add(o)}}catch(s){console.debug(`No ${i} found or error reading it:`,s)}}return n(".gitignore"),n(".prettierignore"),n(".builderignore"),i=>{let s=(0,Vt.relative)(e,i);if(!s)return!1;let o=s.split(Vt.sep).join("/");return t.ignores(o)}}function tx(e,r,t){let n=ox(e),i=nx.default.watch(e,{ignored:n,ignoreInitial:!0,awaitWriteFinish:{stabilityThreshold:500,pollInterval:600},ignorePermissionErrors:!0,followSymlinks:!1,atomic:600}),s=async a=>{let l=(0,Vt.relative)(e,a);try{let u=(0,Gt.readFileSync)(a,"utf-8");if(iI(u,r.snippet)){let c=r.writtenFiles.find(p=>p.path===l);c?(c.code=hl(u),c.timestamp=Date.now()):r.writtenFiles.push({path:l,code:hl(u),timestamp:Date.now(),name:l.split("/").pop()||""}),r.timeStamp=Date.now(),t(r)}}catch(u){console.debug(`Error reading file ${a}:`,u)}};i.on("add",async a=>{U.info(`File added: ${a}`),await s(a)}).on("change",async a=>{U.info(`File changed: ${a}`),await s(a)}).on("unlink",a=>{U.info(`File deleted: ${a}`);let l=(0,Vt.relative)(e,a);r.writtenFiles=r.writtenFiles.filter(u=>u.path!==l),r.timeStamp=Date.now(),t(r)}).on("unlinkDir",a=>{U.info(`Folder deleted: ${a}`);let l=(0,Vt.relative)(e,a);r.writtenFiles=r.writtenFiles.filter(u=>!u.path.startsWith(l)),r.timeStamp=Date.now(),t(r)}).on("ready",()=>{console.debug("Initial scan complete. Ready for changes.")}).on("error",a=>{console.error(`Watcher error: ${a}`)}),i.on("raw",async(a,l,u)=>{if(a==="rename"){U.info(`File renamed: ${u?.oldPath} -> ${l}`);let c=u?.oldPath?(0,Vt.relative)(e,u.oldPath):void 0,p=l?(0,Vt.relative)(e,l):void 0;if(c&&p){let d=r.writtenFiles.find(m=>m.path===c);d&&(d.path=p,r.timeStamp=Date.now(),t(r))}}});let o=async()=>{await i.close()};return process.on("SIGINT",o),process.on("SIGTERM",o),o}async function ax(e,r){console.log(""),tt((0,jn.bgMagenta)((0,jn.bold)((0,jn.white)(" sync server ")))+"  "+(0,jn.dim)(Re)),e.debug("builder sync server init");let t=await kn(e),n=r,i=()=>Promise.resolve();n&&setTimeout(()=>{i=tx(e.getAppRootDir(),n,s=>{n=s})},1e3),await jp({...t,ensureFigmaImportPage:()=>Promise.reject("Not supported"),getPastSyncInfo:({sessionKey:s,since:o})=>!n||s!==n.snippet.sessionKey?null:{...n,hasChanged:n.timeStamp>o},resyncSnippet:async s=>{await i();let o=await qp({path:n?.pathInput,snippet:s.snippet,cwd:e.getAppRootDir()});return o&&(n=o,i=tx(e.getAppRootDir(),n,a=>{n=a})),n},getClientId:()=>"builder-sync-cli",closeAppServer:async()=>{await i()},restartAppServer:async()=>{e.debug("restart server")},enableAppWatch:async s=>s,...e})}async function qp(e){let r=e.snippetId,t=e.snippet||null;if(!t&&r&&(t=await Kp(r)),!t)return ge(`No snippet found for id ${r}`),await Q(1);let n=process.cwd(),i=go(n)??n,s=await nI(i,t.contentId,t.sessionKey),o=s.filter(p=>p.snippetId===t.id);if(U.info(`Found ${o.length} matching files for snippet ${t.id} in existing files ${s.length}`),o.length>0){let p=Math.max(...o.map(d=>d.timestamp||0));return{snippet:t,writtenFiles:o,pathInput:rx(o.map(d=>d.path)),timeStamp:p}}let a=Vp(i,t.framework||"react"),l=e.path||rx(s.map(p=>p.path))||await xt({message:"Where should we copy the files?",initialValue:a,validate(p){if(p.length===0)return"File path is required!";if(p[0]!==".")return"Please enter a relative path."}});Me(l)&&(ge("Cancelled sync"),process.exit(0));for(let p of s){let d=(0,Vt.resolve)(i,p.path);try{(0,Gt.unlinkSync)(d),U.info(`Deleted old file: ${d}`);let m=(0,Vt.dirname)(d);(0,Gt.readdirSync)(m).length===0&&((0,Gt.rmdirSync)(m),U.info(`Deleted empty folder: ${m}`))}catch(m){U.error(`Error cleaning up file ${d}: ${m}`)}}let u=await ml(i,t,t.files,l,!0);U.success("All files have been written successfully.");let c=Math.max(...u.map(p=>p.timestamp||0));return{snippet:t,writtenFiles:u.map(p=>({...p,code:hl(p.code)})),pathInput:l,timeStamp:c||Date.now()}}function hl(e){if(!e)return e;let r=/<!--\s*This code was generated by Builder\.io\s*-->\s*(?:<!--\s*https:\/\/builder\.io\/content\/[a-f0-9]+\?codeSession=[a-f0-9]+&sid=[a-f0-9]+\s*-->\s*)?/,t=/\/\*\*\s*\n\s*\* This code was generated by Builder\.io\s*\n\s*\* https:\/\/builder\.io\/content\/[a-f0-9]+\?codeSession=[a-f0-9]+&sid=[a-f0-9]+\s*\n\s*\*\/\s*/,n=e.replace(r,"").replace(t,"");return n=n.replace(/^\n+/,""),n}function rx(e){if(e.length===0)return"";if(e.length===1)return`./${e[0].slice(0,e[0].lastIndexOf("/")+1)}`;let r=e.map(i=>i.split("/")),t=Math.min(...r.map(i=>i.length)),n=[];for(let i=0;i<t;i++){let s=r[0][i];if(r.every(o=>o[i]===s))n.push(s);else break}return`./${n.join("/")}`}b();function yn(){}yn.prototype={diff:function(r,t){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={}),this.options=i;var o=this;function a(D){return s?(setTimeout(function(){s(void 0,D)},0),!0):D}r=this.castInput(r),t=this.castInput(t),r=this.removeEmpty(this.tokenize(r)),t=this.removeEmpty(this.tokenize(t));var l=t.length,u=r.length,c=1,p=l+u;i.maxEditLength&&(p=Math.min(p,i.maxEditLength));var d=(n=i.timeout)!==null&&n!==void 0?n:1/0,m=Date.now()+d,f=[{oldPos:-1,lastComponent:void 0}],h=this.extractCommon(f[0],t,r,0);if(f[0].oldPos+1>=u&&h+1>=l)return a([{value:this.join(t),count:t.length}]);var g=-1/0,y=1/0;function x(){for(var D=Math.max(g,-c);D<=Math.min(y,c);D+=2){var E=void 0,S=f[D-1],v=f[D+1];S&&(f[D-1]=void 0);var O=!1;if(v){var B=v.oldPos-D;O=v&&0<=B&&B<l}var k=S&&S.oldPos+1<u;if(!O&&!k){f[D]=void 0;continue}if(!k||O&&S.oldPos+1<v.oldPos?E=o.addToPath(v,!0,void 0,0):E=o.addToPath(S,void 0,!0,1),h=o.extractCommon(E,t,r,D),E.oldPos+1>=u&&h+1>=l)return a(sI(o,E.lastComponent,t,r,o.useLongestToken));f[D]=E,E.oldPos+1>=u&&(y=Math.min(y,D-1)),h+1>=l&&(g=Math.max(g,D+1))}c++}if(s)(function D(){setTimeout(function(){if(c>p||Date.now()>m)return s();x()||D()},0)})();else for(;c<=p&&Date.now()<=m;){var C=x();if(C)return C}},addToPath:function(r,t,n,i){var s=r.lastComponent;return s&&s.added===t&&s.removed===n?{oldPos:r.oldPos+i,lastComponent:{count:s.count+1,added:t,removed:n,previousComponent:s.previousComponent}}:{oldPos:r.oldPos+i,lastComponent:{count:1,added:t,removed:n,previousComponent:s}}},extractCommon:function(r,t,n,i){for(var s=t.length,o=n.length,a=r.oldPos,l=a-i,u=0;l+1<s&&a+1<o&&this.equals(t[l+1],n[a+1]);)l++,a++,u++;return u&&(r.lastComponent={count:u,previousComponent:r.lastComponent}),r.oldPos=a,l},equals:function(r,t){return this.options.comparator?this.options.comparator(r,t):r===t||this.options.ignoreCase&&r.toLowerCase()===t.toLowerCase()},removeEmpty:function(r){for(var t=[],n=0;n<r.length;n++)r[n]&&t.push(r[n]);return t},castInput:function(r){return r},tokenize:function(r){return r.split("")},join:function(r){return r.join("")}};function sI(e,r,t,n,i){for(var s=[],o;r;)s.push(r),o=r.previousComponent,delete r.previousComponent,r=o;s.reverse();for(var a=0,l=s.length,u=0,c=0;a<l;a++){var p=s[a];if(p.removed){if(p.value=e.join(n.slice(c,c+p.count)),c+=p.count,a&&s[a-1].added){var m=s[a-1];s[a-1]=s[a],s[a]=m}}else{if(!p.added&&i){var d=t.slice(u,u+p.count);d=d.map(function(h,g){var y=n[c+g];return y.length>h.length?y:h}),p.value=e.join(d)}else p.value=e.join(t.slice(u,u+p.count));u+=p.count,p.added||(c+=p.count)}}var f=s[l-1];return l>1&&typeof f.value=="string"&&(f.added||f.removed)&&e.equals("",f.value)&&(s[l-2].value+=f.value,s.pop()),s}var L$=new yn;var lx=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ux=/\S/,cx=new yn;cx.equals=function(e,r){return this.options.ignoreCase&&(e=e.toLowerCase(),r=r.toLowerCase()),e===r||this.options.ignoreWhitespace&&!ux.test(e)&&!ux.test(r)};cx.tokenize=function(e){for(var r=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<r.length-1;t++)!r[t+1]&&r[t+2]&&lx.test(r[t])&&lx.test(r[t+2])&&(r[t]+=r[t+2],r.splice(t+1,2),t--);return r};var Hp=new yn;Hp.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],t=e.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var n=0;n<t.length;n++){var i=t[n];n%2&&!this.options.newlineIsToken?r[r.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),r.push(i))}return r};function px(e,r,t){return Hp.diff(e,r,t)}var oI=new yn;oI.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var aI=new yn;aI.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function yl(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yl=function(r){return typeof r}:yl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yl(e)}var lI=Object.prototype.toString,Do=new yn;Do.useLongestToken=!0;Do.tokenize=Hp.tokenize;Do.castInput=function(e){var r=this.options,t=r.undefinedReplacement,n=r.stringifyReplacer,i=n===void 0?function(s,o){return typeof o>"u"?t:o}:n;return typeof e=="string"?e:JSON.stringify(Wp(e,null,null,i),i,"  ")};Do.equals=function(e,r){return yn.prototype.equals.call(Do,e.replace(/,([\r\n])/g,"$1"),r.replace(/,([\r\n])/g,"$1"))};function Wp(e,r,t,n,i){r=r||[],t=t||[],n&&(e=n(i,e));var s;for(s=0;s<r.length;s+=1)if(r[s]===e)return t[s];var o;if(lI.call(e)==="[object Array]"){for(r.push(e),o=new Array(e.length),t.push(o),s=0;s<e.length;s+=1)o[s]=Wp(e[s],r,t,n,i);return r.pop(),t.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),yl(e)==="object"&&e!==null){r.push(e),o={},t.push(o);var a=[],l;for(l in e)e.hasOwnProperty(l)&&a.push(l);for(a.sort(),s=0;s<a.length;s+=1)l=a[s],o[l]=Wp(e[l],r,t,n,l);r.pop(),t.pop()}else o=e;return o}var Gp=new yn;Gp.tokenize=function(e){return e.slice()};Gp.join=Gp.removeEmpty=function(e){return e};b();b();var Jp=q(require("process"),1);function Yp(){let{env:e}=Jp.default,{TERM:r,TERM_PROGRAM:t}=e;return Jp.default.platform!=="win32"?r!=="linux":!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||e.ConEmuTask==="{cmd::Cmder}"||t==="Terminus-Sublime"||t==="vscode"||r==="xterm-256color"||r==="alacritty"||r==="rxvt-unicode"||r==="rxvt-unicode-256color"||e.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Xp=q(et(),1),bn=q(Ro(),1),bl=require("process"),Kn=q(require("readline"),1),xo=q(et(),1),_t=()=>{let e=Qp?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],r=Qp?80:120,t,n,i=!1,s="",o="",a="",l=y=>{let x=y>1?"Something went wrong":"Canceled";i&&f(x,y)},u=(y,x)=>{console.error(x,y),l(2)},c=()=>l(1),p=()=>{process.on("uncaughtExceptionMonitor",u),process.on("unhandledRejection",u),process.on("SIGINT",c),process.on("SIGTERM",c),process.on("exit",l)},d=()=>{process.removeListener("uncaughtExceptionMonitor",u),process.removeListener("unhandledRejection",u),process.removeListener("SIGINT",c),process.removeListener("SIGTERM",c),process.removeListener("exit",l)},m=(y="")=>{i=!0,t=mI(),s=y.replace(/\.+$/,""),process.stdout.write(`${Xp.default.gray(uI)}
`);let x=0,C=0;p(),process.env.CI||(n=setInterval(()=>{let D=Xp.default.magenta(e[x]),E=".".repeat(Math.floor(C)).slice(0,3);process.stdout.write(bn.cursor.move(-999,-a.split(`
`).length+1)),process.stdout.write(bn.erase.down(a.split(`
`).length));let S=`${D}  ${s}${E}${o}`;process.stdout.write(S),x=x+1<e.length?x+1:0,C=C<e.length?C+.125:0,a=S},r))},f=(y,x=0)=>{s=y??s,i=!1,clearInterval(n);let C=x===0?(0,xo.green)(dI):x===1?(0,xo.red)(cI):(0,xo.red)(pI);process.stdout.write(bn.cursor.move(-999,-a.split(`
`).length+1)),process.stdout.write(bn.erase.down(a.split(`
`).length)),process.stdout.write(`${C}  ${s}
`),a=s,d(),t()};return{start:m,stop:f,message:(y="")=>{s=y??s},extra:(y="")=>{o=y}}},Qp=Yp(),Dl=(e,r)=>Qp?e:r,uI=Dl("\u2502","|"),cI=Dl("\u25A0","x"),pI=Dl("\u25B2","x"),dI=Dl("\u25C7","o"),fI=globalThis.process.platform.startsWith("win");function mI({input:e=bl.stdin,output:r=bl.stdout,overwrite:t=!0,hideCursor:n=!0}={}){let i=Kn.createInterface({input:e,output:r,prompt:"",tabSize:1});Kn.emitKeypressEvents(e,i),e.isTTY&&e.setRawMode(!0);let s=(o,{name:a})=>{if(String(o)===""){n&&r.write(bn.cursor.show),process.exit(0);return}if(!t)return;Kn.moveCursor(r,a==="return"?0:-1,a==="return"?-1:0,()=>{Kn.clearLine(r,1,()=>{e.once("keypress",s)})})};return n&&r.write(bn.cursor.hide),e.once("keypress",s),()=>{e.off("keypress",s),n&&r.write(bn.cursor.show),e.isTTY&&!fI&&e.setRawMode(!1),i.terminal=!1,i.close()}}b();var Vn=q(et(),1);var dx=async(e,r)=>{console.log(""),tt((0,Vn.bgCyan)((0,Vn.bold)((0,Vn.white)(" code indexing ")))+"  "+(0,Vn.dim)(Re)),console.error("NOT SUPPORTED YET"),Et("DONE")};b();var L=q(et(),1);function Tr(e){switch(Te("cli help",{subcommand:e}),console.log(""),tt((0,L.bgCyan)((0,L.bold)((0,L.white)(" help ")))+"  "+(0,L.dim)(Re)),e){case"add":case"generate":case"gen":case"g":tt(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Generate Figma Components")}

${(0,L.bgGreen)((0,L.white)(` npx ${ar()} figma generate URL [URL ...] `))}

Start the auto-mapping wizard for the Figma Component URLs pasted in.

${(0,L.yellow)("Usage:")}
  Get the URL by right-clicking on the Figma Component and selecting
  "Copy Link". Be sure to copy the URL from the main component.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,L.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,L.cyan)("--componentName")}  Name of the component to generate
  ${(0,L.cyan)("--mappingOutput")}  Output file name for the mapping
  ${(0,L.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,L.cyan)("--force")}          Force operation even if there are warnings
  ${(0,L.cyan)("--skipInstallation")} Skip the package installation step
  ${(0,L.cyan)("--yes")}            Auto-confirm all prompts`);break;case"auth":U.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Authentication")}

${(0,L.bgGreen)((0,L.white)(` npx ${ar()} auth `))}

Re-authenticate with Figma and Builder.io.

${(0,L.yellow)("Environment Variables:")}
  ${(0,L.cyan)("BUILDER_PUBLIC_KEY")}   Your Builder.io public API key
  ${(0,L.cyan)("BUILDER_PRIVATE_KEY")}  Your Builder.io private API key
  ${(0,L.cyan)("FIGMA_PERSONAL_TOKEN")} Your Figma personal access token

${(0,L.yellow)("Non-Interactive Authentication:")}
  Environment variables can be used to skip the interactive authentication process.
  This is especially useful for CI/CD pipelines or automated workflows.

  Example using environment variables:
  ${(0,L.dim)('export BUILDER_PRIVATE_KEY="your-private-key"')}
  ${(0,L.dim)('export FIGMA_PERSONAL_TOKEN="your-figma-token"')}
  ${(0,L.dim)(`npx ${ar()} figma generate <url> --ci`)}

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,L.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,L.cyan)("--force")}          Force re-authentication even if already authenticated

${(0,L.yellow)("Learn More:")}
  \u2022 Builder.io API keys: https://www.builder.io/c/docs/using-your-api-key#managing-private-keys
  \u2022 Figma access token: https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens
  \u2022 CI setup guide: https://www.builder.io/c/docs/integrating-builder-figma`);break;case"publish":U.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Publish Mappings")}

${(0,L.bgGreen)((0,L.white)(` npx ${ar()} figma publish `))}

Publish your Figma Mappings to Builder.io.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,L.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,L.cyan)("--force")}          Force publish even if there are warnings
  ${(0,L.cyan)("--verbose")}        Print output as JSON
  ${(0,L.cyan)("--dryrun")}         Run without making changes
  ${(0,L.cyan)("--yes")}            Auto-confirm all prompts`);break;case"migrate":U.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Migrate Mappings")}

${(0,L.bgGreen)((0,L.white)(` npx ${ar()} figma migrate `))}

Migrate your existing Figma Mappings into the repo as local files.

${(0,L.yellow)("Description:")}
  Downloads existing Figma Mappings from Builder.io and saves them locally.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,L.cyan)("--force")}          Force migration even if there are warnings
  ${(0,L.cyan)("--yes")}            Auto-confirm all prompts`);break;case"code":U.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Code Generation")}

${(0,L.bgGreen)((0,L.white)(` npx ${ar()} code --url URL `))}

Generate or modify code based on Figma designs.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--url")}            URL to start completion from
  ${(0,L.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,L.cyan)("--prompt")}         Prompt text for non-interactive mode
  ${(0,L.cyan)("--mode")}           Generation mode - either 'exact' for precise matches or 'creative' for more flexibility
  ${(0,L.cyan)("--cwd")}            Working directory to run commands from

${(0,L.yellow)("Configuration Files:")}
  ${(0,L.cyan)(".builderignore")}   Add patterns to exclude files from being included in code generation
  ${(0,L.cyan)(".builderrules")}    Add custom instructions that will be injected into the LLM prompt
  ${(0,L.cyan)(".cursorrules")}     Cursor's settings are automatically supported for consistent behavior`);break;case"indexing":U.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Code Indexing")}

${(0,L.bgGreen)((0,L.white)(` npx ${ar()} code indexing `))}

Index your codebase to improve code generation results.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--spaceId")}        Builder.io space ID to use
  ${(0,L.cyan)("--cwd")}            Working directory to run commands from`);break;default:U.info(`${(0,L.bold)("Available Commands:")}
`),[{command:"generate URL [URL ...]",description:"Start the auto-mapping wizard for Figma Component URLs"},{command:"publish",description:"Publish your Figma Mappings to Builder.io"},{command:"migrate",description:"Migrate existing Figma Mappings into the repo as local files"},{command:"auth",description:"Re-authenticate with Figma and Builder.io"},{command:"code",description:"Generate or modify code based on Figma designs"},{command:"indexing",description:"Index your codebase to improve code generation results"}].forEach(({command:t,description:n})=>{U.info(`${(0,L.cyan)("\u2192")} ${(0,L.bgGreen)((0,L.white)(` npx ${ar()} figma ${t} `))}
   ${(0,L.dim)(n)}
`)}),U.info(`
Use ${(0,L.cyan)(`npx ${ar()} figma help <command>`)} for detailed help about a command`)}Et("bye \u{1F44B}")}var zx=q(require("crypto"),1);var Pl=q(require("os"),1);b();var Ax=q(require("prompts"),1);b();var hI="NORabcdefghilnopqrstuvy",gI=`"#%)*+56789<>?@Z[\\]^|\xA7\xAB\xE4\xE7'`,yI="-.ABDEFGIKWY_\r	z{\xFC",bI=",01234:~\xDC\xDF",DI="",xI="!$&(/;=JX`j\n}\xF6",EI="CHLMPQSTUVfkmspwx ",fx=[hI,gI,yI,bI,DI,xI,EI],CI={C4:.08086208692099685,C0:.2020182639633662,C6:.2372744211422125,C2:.3042805747355606,C5:.4157646363858563,C1:.4790556468110302,C3:.6581971122770317,CX:.980083857442348};function SI(e,r){let t=e[r];if(t===" ")return r>0&&e[r-1]===" "?"C4":"C0";if(t.charCodeAt(0)>255)return"C3";for(let n=0;n<fx.length;n++)if(fx[n].indexOf(t)!==-1)return"C"+n;return"CX"}function Eo(e){if(e){let r=0;for(let t=0;t<e.length;t++)r+=CI[SI(e,t)];return Math.round(r)}else return 0}b();function Dn(e){return Array.isArray?Array.isArray(e):Ex(e)==="[object Array]"}var wI=1/0;function AI(e){if(typeof e=="string")return e;let r=e+"";return r=="0"&&1/e==-wI?"-0":r}function vI(e){return e==null?"":AI(e)}function Hr(e){return typeof e=="string"}function Dx(e){return typeof e=="number"}function TI(e){return e===!0||e===!1||PI(e)&&Ex(e)=="[object Boolean]"}function xx(e){return typeof e=="object"}function PI(e){return xx(e)&&e!==null}function nr(e){return e!=null}function Zp(e){return!e.trim().length}function Ex(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var II="Incorrect 'index' type",NI=e=>`Invalid value for key ${e}`,FI=e=>`Pattern length exceeds max of ${e}.`,kI=e=>`Missing ${e} property in key`,_I=e=>`Property 'weight' in key '${e}' must be a positive integer`,mx=Object.prototype.hasOwnProperty,ed=class{constructor(r){this._keys=[],this._keyMap={};let t=0;r.forEach(n=>{let i=Cx(n);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(n=>{n.weight/=t})}get(r){return this._keyMap[r]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Cx(e){let r=null,t=null,n=null,i=1,s=null;if(Hr(e)||Dn(e))n=e,r=hx(e),t=td(e);else{if(!mx.call(e,"name"))throw new Error(kI("name"));let o=e.name;if(n=o,mx.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(_I(o));r=hx(o),t=td(o),s=e.getFn}return{path:r,id:t,weight:i,src:n,getFn:s}}function hx(e){return Dn(e)?e:e.split(".")}function td(e){return Dn(e)?e.join("."):e}function OI(e,r){let t=[],n=!1,i=(s,o,a)=>{if(nr(s))if(!o[a])t.push(s);else{let l=o[a],u=s[l];if(!nr(u))return;if(a===o.length-1&&(Hr(u)||Dx(u)||TI(u)))t.push(vI(u));else if(Dn(u)){n=!0;for(let c=0,p=u.length;c<p;c+=1)i(u[c],o,a+1)}else o.length&&i(u,o,a+1)}};return i(e,Hr(r)?r.split("."):r,0),n?t:t[0]}var RI={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},LI={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,r)=>e.score===r.score?e.idx<r.idx?-1:1:e.score<r.score?-1:1},BI={location:0,threshold:.6,distance:100},MI={useExtendedSearch:!1,getFn:OI,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},te={...LI,...RI,...BI,...MI},$I=/[^ ]+/g;function UI(e=1,r=3){let t=new Map,n=Math.pow(10,r);return{get(i){let s=i.match($I).length;if(t.has(s))return t.get(s);let o=1/Math.pow(s,.5*e),a=parseFloat(Math.round(o*n)/n);return t.set(s,a),a},clear(){t.clear()}}}var Co=class{constructor({getFn:r=te.getFn,fieldNormWeight:t=te.fieldNormWeight}={}){this.norm=UI(t,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}setSources(r=[]){this.docs=r}setIndexRecords(r=[]){this.records=r}setKeys(r=[]){this.keys=r,this._keysMap={},r.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Hr(this.docs[0])?this.docs.forEach((r,t)=>{this._addString(r,t)}):this.docs.forEach((r,t)=>{this._addObject(r,t)}),this.norm.clear())}add(r){let t=this.size();Hr(r)?this._addString(r,t):this._addObject(r,t)}removeAt(r){this.records.splice(r,1);for(let t=r,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(r,t){return r[this._keysMap[t]]}size(){return this.records.length}_addString(r,t){if(!nr(r)||Zp(r))return;let n={v:r,i:t,n:this.norm.get(r)};this.records.push(n)}_addObject(r,t){let n={i:t,$:{}};this.keys.forEach((i,s)=>{let o=i.getFn?i.getFn(r):this.getFn(r,i.path);if(nr(o)){if(Dn(o)){let a=[],l=[{nestedArrIndex:-1,value:o}];for(;l.length;){let{nestedArrIndex:u,value:c}=l.pop();if(nr(c))if(Hr(c)&&!Zp(c)){let p={v:c,i:u,n:this.norm.get(c)};a.push(p)}else Dn(c)&&c.forEach((p,d)=>{l.push({nestedArrIndex:d,value:p})})}n.$[s]=a}else if(Hr(o)&&!Zp(o)){let a={v:o,n:this.norm.get(o)};n.$[s]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function Sx(e,r,{getFn:t=te.getFn,fieldNormWeight:n=te.fieldNormWeight}={}){let i=new Co({getFn:t,fieldNormWeight:n});return i.setKeys(e.map(Cx)),i.setSources(r),i.create(),i}function jI(e,{getFn:r=te.getFn,fieldNormWeight:t=te.fieldNormWeight}={}){let{keys:n,records:i}=e,s=new Co({getFn:r,fieldNormWeight:t});return s.setKeys(n),s.setIndexRecords(i),s}function El(e,{errors:r=0,currentLocation:t=0,expectedLocation:n=0,distance:i=te.distance,ignoreLocation:s=te.ignoreLocation}={}){let o=r/e.length;if(s)return o;let a=Math.abs(n-t);return i?o+a/i:a?1:o}function KI(e=[],r=te.minMatchCharLength){let t=[],n=-1,i=-1,s=0;for(let o=e.length;s<o;s+=1){let a=e[s];a&&n===-1?n=s:!a&&n!==-1&&(i=s-1,i-n+1>=r&&t.push([n,i]),n=-1)}return e[s-1]&&s-n>=r&&t.push([n,s-1]),t}var fi=32;function VI(e,r,t,{location:n=te.location,distance:i=te.distance,threshold:s=te.threshold,findAllMatches:o=te.findAllMatches,minMatchCharLength:a=te.minMatchCharLength,includeMatches:l=te.includeMatches,ignoreLocation:u=te.ignoreLocation}={}){if(r.length>fi)throw new Error(FI(fi));let c=r.length,p=e.length,d=Math.max(0,Math.min(n,p)),m=s,f=d,h=a>1||l,g=h?Array(p):[],y;for(;(y=e.indexOf(r,f))>-1;){let v=El(r,{currentLocation:y,expectedLocation:d,distance:i,ignoreLocation:u});if(m=Math.min(v,m),f=y+c,h){let O=0;for(;O<c;)g[y+O]=1,O+=1}}f=-1;let x=[],C=1,D=c+p,E=1<<c-1;for(let v=0;v<c;v+=1){let O=0,B=D;for(;O<B;)El(r,{errors:v,currentLocation:d+B,expectedLocation:d,distance:i,ignoreLocation:u})<=m?O=B:D=B,B=Math.floor((D-O)/2+O);D=B;let k=Math.max(1,d-B+1),V=o?p:Math.min(d+B,p)+c,ne=Array(V+2);ne[V+1]=(1<<v)-1;for(let H=V;H>=k;H-=1){let j=H-1,ie=t[e.charAt(j)];if(h&&(g[j]=+!!ie),ne[H]=(ne[H+1]<<1|1)&ie,v&&(ne[H]|=(x[H+1]|x[H])<<1|1|x[H+1]),ne[H]&E&&(C=El(r,{errors:v,currentLocation:j,expectedLocation:d,distance:i,ignoreLocation:u}),C<=m)){if(m=C,f=j,f<=d)break;k=Math.max(1,2*d-f)}}if(El(r,{errors:v+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>m)break;x=ne}let S={isMatch:f>=0,score:Math.max(.001,C)};if(h){let v=KI(g,a);v.length?l&&(S.indices=v):S.isMatch=!1}return S}function zI(e){let r={};for(let t=0,n=e.length;t<n;t+=1){let i=e.charAt(t);r[i]=(r[i]||0)|1<<n-t-1}return r}var Cl=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e,Sl=class{constructor(r,{location:t=te.location,threshold:n=te.threshold,distance:i=te.distance,includeMatches:s=te.includeMatches,findAllMatches:o=te.findAllMatches,minMatchCharLength:a=te.minMatchCharLength,isCaseSensitive:l=te.isCaseSensitive,ignoreDiacritics:u=te.ignoreDiacritics,ignoreLocation:c=te.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:c},r=l?r:r.toLowerCase(),r=u?Cl(r):r,this.pattern=r,this.chunks=[],!this.pattern.length)return;let p=(m,f)=>{this.chunks.push({pattern:m,alphabet:zI(m),startIndex:f})},d=this.pattern.length;if(d>fi){let m=0,f=d%fi,h=d-f;for(;m<h;)p(this.pattern.substr(m,fi),m),m+=fi;if(f){let g=d-fi;p(this.pattern.substr(g),g)}}else p(this.pattern,0)}searchIn(r){let{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:i}=this.options;if(r=t?r:r.toLowerCase(),r=n?Cl(r):r,this.pattern===r){let h={isMatch:!0,score:0};return i&&(h.indices=[[0,r.length-1]]),h}let{location:s,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options,p=[],d=0,m=!1;this.chunks.forEach(({pattern:h,alphabet:g,startIndex:y})=>{let{isMatch:x,score:C,indices:D}=VI(r,h,g,{location:s+y,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:u,includeMatches:i,ignoreLocation:c});x&&(m=!0),d+=C,x&&D&&(p=[...p,...D])});let f={isMatch:m,score:m?d/this.chunks.length:1};return m&&i&&(f.indices=p),f}},Jr=class{constructor(r){this.pattern=r}static isMultiMatch(r){return gx(r,this.multiRegex)}static isSingleMatch(r){return gx(r,this.singleRegex)}search(){}};function gx(e,r){let t=e.match(r);return t?t[1]:null}var rd=class extends Jr{constructor(r){super(r)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(r){let t=r===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},nd=class extends Jr{constructor(r){super(r)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(r){let n=r.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,r.length-1]}}},id=class extends Jr{constructor(r){super(r)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(r){let t=r.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},sd=class extends Jr{constructor(r){super(r)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(r){let t=!r.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,r.length-1]}}},od=class extends Jr{constructor(r){super(r)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(r){let t=r.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[r.length-this.pattern.length,r.length-1]}}},ad=class extends Jr{constructor(r){super(r)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(r){let t=!r.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,r.length-1]}}},wl=class extends Jr{constructor(r,{location:t=te.location,threshold:n=te.threshold,distance:i=te.distance,includeMatches:s=te.includeMatches,findAllMatches:o=te.findAllMatches,minMatchCharLength:a=te.minMatchCharLength,isCaseSensitive:l=te.isCaseSensitive,ignoreDiacritics:u=te.ignoreDiacritics,ignoreLocation:c=te.ignoreLocation}={}){super(r),this._bitapSearch=new Sl(r,{location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(r){return this._bitapSearch.searchIn(r)}},Al=class extends Jr{constructor(r){super(r)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(r){let t=0,n,i=[],s=this.pattern.length;for(;(n=r.indexOf(this.pattern,t))>-1;)t=n+s,i.push([n,t-1]);let o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}},ld=[rd,Al,id,sd,ad,od,nd,wl],yx=ld.length,qI=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,WI="|";function GI(e,r={}){return e.split(WI).map(t=>{let n=t.trim().split(qI).filter(s=>s&&!!s.trim()),i=[];for(let s=0,o=n.length;s<o;s+=1){let a=n[s],l=!1,u=-1;for(;!l&&++u<yx;){let c=ld[u],p=c.isMultiMatch(a);p&&(i.push(new c(p,r)),l=!0)}if(!l)for(u=-1;++u<yx;){let c=ld[u],p=c.isSingleMatch(a);if(p){i.push(new c(p,r));break}}}return i})}var HI=new Set([wl.type,Al.type]),ud=class{constructor(r,{isCaseSensitive:t=te.isCaseSensitive,ignoreDiacritics:n=te.ignoreDiacritics,includeMatches:i=te.includeMatches,minMatchCharLength:s=te.minMatchCharLength,ignoreLocation:o=te.ignoreLocation,findAllMatches:a=te.findAllMatches,location:l=te.location,threshold:u=te.threshold,distance:c=te.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:s,findAllMatches:a,ignoreLocation:o,location:l,threshold:u,distance:c},r=t?r:r.toLowerCase(),r=n?Cl(r):r,this.pattern=r,this.query=GI(this.pattern,this.options)}static condition(r,t){return t.useExtendedSearch}searchIn(r){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:s}=this.options;r=i?r:r.toLowerCase(),r=s?Cl(r):r;let o=0,a=[],l=0;for(let u=0,c=t.length;u<c;u+=1){let p=t[u];a.length=0,o=0;for(let d=0,m=p.length;d<m;d+=1){let f=p[d],{isMatch:h,indices:g,score:y}=f.search(r);if(h){if(o+=1,l+=y,n){let x=f.constructor.type;HI.has(x)?a=[...a,...g]:a.push(g)}}else{l=0,o=0,a.length=0;break}}if(o){let d={isMatch:!0,score:l/o};return n&&(d.indices=a),d}}return{isMatch:!1,score:1}}},cd=[];function JI(...e){cd.push(...e)}function pd(e,r){for(let t=0,n=cd.length;t<n;t+=1){let i=cd[t];if(i.condition(e,r))return new i(e,r)}return new Sl(e,r)}var vl={AND:"$and",OR:"$or"},dd={PATH:"$path",PATTERN:"$val"},fd=e=>!!(e[vl.AND]||e[vl.OR]),YI=e=>!!e[dd.PATH],XI=e=>!Dn(e)&&xx(e)&&!fd(e),bx=e=>({[vl.AND]:Object.keys(e).map(r=>({[r]:e[r]}))});function wx(e,r,{auto:t=!0}={}){let n=i=>{let s=Object.keys(i),o=YI(i);if(!o&&s.length>1&&!fd(i))return n(bx(i));if(XI(i)){let l=o?i[dd.PATH]:s[0],u=o?i[dd.PATTERN]:i[l];if(!Hr(u))throw new Error(NI(l));let c={keyId:td(l),pattern:u};return t&&(c.searcher=pd(u,r)),c}let a={children:[],operator:s[0]};return s.forEach(l=>{let u=i[l];Dn(u)&&u.forEach(c=>{a.children.push(n(c))})}),a};return fd(e)||(e=bx(e)),n(e)}function QI(e,{ignoreFieldNorm:r=te.ignoreFieldNorm}){e.forEach(t=>{let n=1;t.matches.forEach(({key:i,norm:s,score:o})=>{let a=i?i.weight:null;n*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(r?1:s))}),t.score=n})}function ZI(e,r){let t=e.matches;r.matches=[],nr(t)&&t.forEach(n=>{if(!nr(n.indices)||!n.indices.length)return;let{indices:i,value:s}=n,o={indices:i,value:s};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),r.matches.push(o)})}function eN(e,r){r.score=e.score}function tN(e,r,{includeMatches:t=te.includeMatches,includeScore:n=te.includeScore}={}){let i=[];return t&&i.push(ZI),n&&i.push(eN),e.map(s=>{let{idx:o}=s,a={item:r[o],refIndex:o};return i.length&&i.forEach(l=>{l(s,a)}),a})}var xn=class{constructor(r,t={},n){this.options={...te,...t},this.options.useExtendedSearch,this._keyStore=new ed(this.options.keys),this.setCollection(r,n)}setCollection(r,t){if(this._docs=r,t&&!(t instanceof Co))throw new Error(II);this._myIndex=t||Sx(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(r){nr(r)&&(this._docs.push(r),this._myIndex.add(r))}remove(r=()=>!1){let t=[];for(let n=0,i=this._docs.length;n<i;n+=1){let s=this._docs[n];r(s,n)&&(this.removeAt(n),n-=1,i-=1,t.push(s))}return t}removeAt(r){this._docs.splice(r,1),this._myIndex.removeAt(r)}getIndex(){return this._myIndex}search(r,{limit:t=-1}={}){let{includeMatches:n,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options,l=Hr(r)?Hr(this._docs[0])?this._searchStringList(r):this._searchObjectList(r):this._searchLogical(r);return QI(l,{ignoreFieldNorm:a}),s&&l.sort(o),Dx(t)&&t>-1&&(l=l.slice(0,t)),tN(l,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(r){let t=pd(r,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:o,n:a})=>{if(!nr(s))return;let{isMatch:l,score:u,indices:c}=t.searchIn(s);l&&i.push({item:s,idx:o,matches:[{score:u,value:s,norm:a,indices:c}]})}),i}_searchLogical(r){let t=wx(r,this.options),n=(a,l,u)=>{if(!a.children){let{keyId:p,searcher:d}=a,m=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(l,p),searcher:d});return m&&m.length?[{idx:u,item:l,matches:m}]:[]}let c=[];for(let p=0,d=a.children.length;p<d;p+=1){let m=a.children[p],f=n(m,l,u);if(f.length)c.push(...f);else if(a.operator===vl.AND)return[]}return c},i=this._myIndex.records,s={},o=[];return i.forEach(({$:a,i:l})=>{if(nr(a)){let u=n(t,a,l);u.length&&(s[l]||(s[l]={idx:l,item:a,matches:[]},o.push(s[l])),u.forEach(({matches:c})=>{s[l].matches.push(...c)}))}}),o}_searchObjectList(r){let t=pd(r,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:o,i:a})=>{if(!nr(o))return;let l=[];n.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:o[c],searcher:t}))}),l.length&&s.push({idx:a,item:o,matches:l})}),s}_findMatches({key:r,value:t,searcher:n}){if(!nr(t))return[];let i=[];if(Dn(t))t.forEach(({v:s,i:o,n:a})=>{if(!nr(s))return;let{isMatch:l,score:u,indices:c}=n.searchIn(s);l&&i.push({score:u,key:r,value:s,idx:o,norm:a,indices:c})});else{let{v:s,n:o}=t,{isMatch:a,score:l,indices:u}=n.searchIn(s);a&&i.push({score:l,key:r,value:s,norm:o,indices:u})}return i}};xn.version="7.1.0";xn.createIndex=Sx;xn.parseIndex=jI;xn.config=te;xn.parseQuery=wx;JI(ud);var Tl=q(et(),1);var md=class{constructor(r,t){this.sys=r;this.appRootDir=t;Nd(this,"tokenCache",new Map)}get(r){if(!this.tokenCache.has(r)){let t=this.sys.readFileSync(this.sys.join(this.appRootDir,r))??"";this.tokenCache.set(r,Eo(t))}return this.tokenCache.get(r)}getForVisible(r,t){return t?this.get(r):0}calculateTotal(r){return r.reduce((t,n)=>t+this.get(n.value),0)}};async function vx(e,r,t,n,i,s){let o=new md(e,t),a=d=>({title:(0,Tl.dim)(d),value:d});if(r.length<4)return null;let l=new xn(r.map(a),{keys:["value"]});U.message("");let u=s?" Select a file to refine the code":" Optionally select a context file (most relevant)",c=r.map(a).sort((d,m)=>{let f=n.get(d.value)??0;return(n.get(m.value)??0)-f});s?c.push({title:"\u23ED\uFE0F  Skip ",value:"___skip___"}):c.unshift({title:"\u23ED\uFE0F  Skip ",value:"___skip___"});let p=await(0,Ax.default)({type:"autocomplete",name:"file",message:(0,Tl.reset)(u),choices:c,suggest:async(d,m)=>{let f;d?f=l.search(d).map(g=>g.item):f=m;let h=[];for(let g of f)o.get(g.value)<=i&&h.push(g);return h.length===0?[{title:"No valid matching files",value:"",disabled:!0}]:h},validate:d=>{if(!d)return"Please select a file";let m=o.get(d);return m>i?`File exceeds token limit of ${i} (has ${m} tokens)`:!0}});return!p.file||p.file==="___skip___"?null:(n.set(p.file,4),p.file)}var bd=q(require("prettier"),1);b();var So=require("child_process");var wo=q(require("path"),1),Tx=50,cs=1e5,rN=2,Nx=2;async function Fx({sys:e,appRootDir:r,allFiles:t,files:n,hiddenFiles:i,selectedFilePaths:s,promptRelevantFiles:o}){let a=0,l=[],u=await iN(e,r),c=t.map(m=>{let f=vo(m,{foundFiles:[],allFiles:t,selectedFilePaths:s,cwd:e.cwd(),appRootDir:r,fallbackImportance:1});if(f===0)return null;let h=sN(m,u,f,o);return{file:m,importance:Math.max(f,h)}}).filter(m=>m!==null&&m.importance>0).sort((m,f)=>f.importance-m.importance),p=c.filter(m=>m.importance>=Nx).length,d=c.map(({file:m,importance:f})=>{let{tokens:h}=nN(e,r,m),g=Px(f,p);return{file:m,importance:f,tokens:h,maxTokens:g}});d.sort((m,f)=>{let h=m.tokens>m.maxTokens,g=f.tokens>f.maxTokens;return h!==g?h?1:-1:m.importance!==f.importance?f.importance-m.importance:m.tokens-f.tokens});for(let{file:m,importance:f,tokens:h,maxTokens:g}of d){if(h>g){l.push(m);continue}a+h<=cs&&n.length<Tx?(n.push(m),a+=h,s.set(m,f)):Ao(e,m)&&i.push(m)}if(c.forEach(({file:m,importance:f})=>{s.set(m,kx(f))}),n.length<rN&&l.length>0)for(let m of l){let f=e.readFileSync(e.join(r,m))??"",h=c.find(C=>C.file===m)?.importance??1,g=Px(h,p),y=f.slice(0,g*4),x=Eo(y);a+x<=cs&&n.length<Tx&&(n.push(m),a+=x,s.set(m,Math.max(1,h-1)))}t.forEach(m=>{!n.includes(m)&&Ao(e,m)&&i.push(m)})}function vo(e,r){let{foundFiles:t,allFiles:n,selectedFilePaths:i,cwd:s,appRootDir:o,fallbackImportance:a}=r,l="",u=e.replace(/\\/g,"/");s!==o&&(l=wo.default.relative(o,s).replace(/\\/g,"/"));let c=new Set(n.map(E=>{if(E.includes("/package.json"))return E.replace(/\/package.json$/,"")}).filter(E=>typeof E=="string")),p=i.get(u)??0,d=u.split("/"),m=d[d.length-1],f=l?u.startsWith(l+"/"):!0,h=p||a,g=d.slice(0,-1).join("/"),y=Array.from(c).some(E=>g.startsWith(E));(m==="package.json"||m==="tsconfig.json"||m==="tailwind.config.js"||m==="tailwind.config.ts"||m==="next.config.js"||m==="next.config.ts")&&(!y&&(d.length===1||f)?h=Math.max(h,3):h=Math.max(h,1.5)),(m==="layout.tsx"||m==="page.tsx")&&(f?h=Math.max(h,3):h=Math.max(h,2)),t.includes(u)?h++:f||(h-=.5);let D=d.indexOf("src");if(D!==-1){let E=l.split(/[/\\]/);n.some(v=>{let O=v.split("/");return v.startsWith(l+"/")&&O.indexOf("src")===E.length})&&D!==E.length&&(h-=.5)}return y&&!p&&(h-=.5),kx(h)}function nN(e,r,t){let n=e.readFileSync(e.join(r,t))??"";return{tokens:Eo(n),content:n}}function Px(e,r){if(r===0)return Math.floor(cs*.15);let t=Math.floor(cs/(r+2));return e>=Nx?Math.min(Math.floor(cs*.3),t*1.5):Math.min(Math.floor(cs*.15),t*.75)}async function iN(e,r,t=10){let n=new Map;try{let i=(0,So.execSync)("git rev-parse --show-toplevel",{cwd:r,encoding:"utf-8",stdio:"pipe"}).trim().replace(/\\/g,"/"),s=wo.default.relative(i,r).replace(/\\/g,"/"),o=`git log -n ${t} --name-only --format="%H"`,a=(0,So.execSync)(o,{cwd:r,encoding:"utf-8",stdio:"pipe"}).split(`
`),l=null,u=[];for(let d of a)if(d)if(d.match(/^[0-9a-f]{40}$/)){if(l&&u.length){let m=u.map(f=>hd(f,s)).filter(f=>f!==null);m.length>0&&Ix(n,m,l)}l=d,u.length=0}else u.push(d);if(l&&u.length){let d=u.map(m=>hd(m,s)).filter(m=>m!==null);d.length>0&&Ix(n,d,l)}let p=(0,So.execSync)("git status --porcelain",{cwd:r,encoding:"utf-8",stdio:"pipe"}).split(`
`).filter(Boolean).map(d=>d.slice(3)).map(d=>hd(d,s)).filter(d=>d!==null);for(let d of p)n.has(d)||n.set(d,{filePath:d,lastModified:new Date,frequency:1,commitIds:[],relatedFiles:new Set});for(let[d,m]of n)try{let f=`git log -1 --format=%cd --date=iso ${d}`,h=(0,So.execSync)(f,{cwd:r,encoding:"utf-8",stdio:"pipe"}).trim();h&&(m.lastModified=new Date(h))}catch{m.lastModified=new Date}return n}catch(i){return e.Sentry?.captureException(new Error("Error getting git history:"),{extra:{error:i}}),new Map}}function hd(e,r){return e=e.replace(/\\/g,"/"),!r||r==="."?e:e.startsWith(r+"/")?e.slice(r.length+1):null}function Ix(e,r,t){for(let n of r)if(!e.has(n))e.set(n,{filePath:n,lastModified:new Date,frequency:1,commitIds:[t],relatedFiles:new Set});else{let i=e.get(n);i.frequency++,i.commitIds.push(t)}for(let n of r){let i=e.get(n);r.forEach(s=>{s!==n&&i.relatedFiles.add(s)})}}function sN(e,r,t,n){for(let h of n)if(e===h)return 4;let i=r.get(e);if(!i)return t;let o=(new Date().getTime()-i.lastModified.getTime())/(1e3*60*60*24),a=Math.max(0,1-o/30),l=Math.min(1,i.frequency/5),u=wo.default.dirname(e),c=0;for(let[h]of r)wo.default.dirname(h)===u&&(c+=.2);c=Math.min(1,c);let p=0;for(let h of n)if(e.startsWith(h+"/")){p=1.5;break}let d=0;i.relatedFiles.size>0&&Array.from(i.relatedFiles).some(g=>n.some(y=>g===y||g.startsWith(y+"/")))&&(d=.8);let m=(a+l+c+p+d)/5;return Math.max(t,1+m*3)}function Ao(e,r){return!(r.includes(".test.")||r.includes(".spec.")||r.includes(".unit.")||r.includes(".e2e.")||r.includes("test")||r.includes("tests")||e.basename(r).startsWith("."))}function kx(e){return Math.min(3,Math.max(0,e))}b();var je=q(require("typescript"),1),_x=q(require("path"),1),Ox=q(require("crypto"),1);function gd(e,r){try{let t=je.findConfigFile(e,je.sys.fileExists,"tsconfig.json");if(!t)return null;let n=je.readConfigFile(t,je.sys.readFile);if(n.error)return null;let i=je.parseJsonConfigFileContent(n.config,je.sys,_x.dirname(t));i.options.noEmit=!0;let s=je.createIncrementalCompilerHost(i.options),o=je.createEmitAndSemanticDiagnosticsBuilderProgram(i.fileNames,i.options,s,r,i.errors,i.projectReferences),a=je.getPreEmitDiagnostics(o.getProgram());return{program:o,diagnostics:a.filter(yd)}}catch{return null}}function yd(e){return!(e.category!==je.DiagnosticCategory.Error||!e.file||e.code===6133||e.code===6138||e.code===6305||e.code===6196||e.code===6192||e.code===6198||e.code===6199||e.code===6205||e.code===1449||e.code===2578||e.code===7006||e.code===5074||e.code===7026||e.code===2503||e.code===2695||e.code===2322)}function Rx(e){let r=e.file?e.file.fileName:"global",t=e.file&&e.start!==void 0?e.file.getLineAndCharacterOfPosition(e.start):{line:0,character:0},n=e.code,i=e.category,s=je.flattenDiagnosticMessageText(e.messageText,`
`),o=`${r}:${t.line}:${t.character}:${n}:${i}:${s}`;return Ox.createHash("sha256").update(o).digest("hex")}function Lx(e,r){return r?.diagnostics?r.diagnostics.filter(t=>!e.has(Rx(t))):[]}function Bx(e){return e?.diagnostics?new Set(e.diagnostics.map(r=>Rx(r))):new Set}var Mx={getCanonicalFileName:e=>e,getCurrentDirectory:()=>je.sys.getCurrentDirectory(),getNewLine:()=>je.sys.newLine};function $x(e){return je.formatDiagnostics(e,Mx)}function Ux(e){return je.formatDiagnosticsWithColorAndContext(e,Mx)}var qx=async(e,r,t)=>{r==="indexing"?await dx(e,t):r==="generate"||r==="gen"||r==="g"?await jx(e,t):r==="gen"?Tr("code"):await jx(e,t)},jx=async(e,r)=>{let t=await Po(e);if(e.Sentry?.setContext("userContext",t),console.log(""),tt((0,ue.bgCyan)((0,ue.bold)((0,ue.white)(" code ")))+"  "+(0,ue.dim)(Re)),!process.stdout.isTTY&&process.env.FORCE_TTY!=="1"&&!r.prompt)return await Te("tty error",{}),ge(`This command requires a TTY-enabled terminal.
If you are using Windows Git Bash, try a different terminal or wrap the command with winpty.`),await Q(1);await Te("figma code started",{}),await To(e,!r.prompt);let n=await yt(e,r,{forceSpaceId:r.spaceId,builderPrivateKey:!0,builderPublicKey:!0}),i={undoStates:[],sessionId:zx.default.randomUUID(),selectedFilePaths:new Map},s=r.url,o=gd(e.getAppRootDir(),void 0);if(o&&o.diagnostics.length>0&&(o=null),r.prompt){let a={userPrompt:r.prompt,mode:r.mode||"precise"};await Vx(e,n,r,t,i,a.userPrompt,s,null,!1,o),mi(i.sessionId,n.builderPublicKey);return}for(;;){let a=await aN(e,n,r,i,!!s);if(a.command==="exit")break;let l=a.userPrompt;l&&(o=await Vx(e,n,r,t,i,l,s,void 0,a.feedback==="bad",o))}};function xd(e){for(let r=e.undoStates.length-1;r>=0;r--){let t=e.undoStates[r];if(t.url)return t.url}}function Dd(e){let r=xd(e);if(r){let{id:t}=Ed(r);if(t)return t}}function oN(e,r,t,n){let i=Dd(t);Te("quality code feedback given",{spaceId:r.builderPublicKey,sentiment:"positive",mode:"cli"}),i&&Nl(e,r,i,!!n.verbose,"positive")}async function aN(e,r,t,n,i){let s=xd(n),{isNextPage:o}=Ed(s);if(o){U.warn("Large generation in progress.");let l=await Rt({message:"Do you want to continue generating?",active:"Continue",inactive:"Stop"});return Me(l)||!l?(U.info("Generation stopped by user"),{command:"exit"}):{command:void 0,userPrompt:"continue"}}let a="";if(s){let l=lN(n)?await Wo({message:"What do you want to do next?",options:[{value:"good",label:"\u{1F44D} Accept and Continue",hint:"you will be able to keep prompting for more changes"},{value:"bad",label:"\u{1F44E} Refine",hint:"something went wrong, but I wanna refine instead of a complete undo"},{value:"undo",label:"\u23EE\uFE0F  Undo last changes",hint:"want to revert the last changes"}]}):"continue";if(Me(l))return mi(n.sessionId,r.builderPublicKey),{command:"exit"};if(l==="continue"){let u=await xt({message:`What else can I do for you? ${(0,ue.dim)("or Ctrl+C to exit")}`,placeholder:"e.g., 'implement the new page'",validate(c){if(!c)return"Ctrl+C to exit"}});if(Me(u))return mi(n.sessionId,r.builderPublicKey),{feedback:"neutral",command:"exit"}}if(l==="good"){oN(e,r,n,t);let u=await xt({message:`Describe any additional improvements: ${(0,ue.dim)("or Ctrl+C to exit")}`,placeholder:"e.g., 'Make it mobile-friendly', 'Add form validation', 'add docs'",validate(c){if(!c)return"Ctrl+C to exit"}});return Me(u)?(mi(n.sessionId,r.builderPublicKey),{feedback:"good",command:"exit"}):{userPrompt:u,feedback:"good"}}if(l==="bad"){await Te("quality code feedback given",{spaceId:r.builderPublicKey,sentiment:"negative",mode:"cli"});let u=Dd(n);u&&Nl(e,r,u,!!t.verbose,"negative");let c=await xt({message:`What went wrong? Please be more detailed this time ${(0,ue.dim)("or Ctrl+C to exit")}`,placeholder:"e.g., 'code seems to be broken', 'i can't see the page'",validate(p){if(!p)return"Ctrl+C to exit"}});return Me(c)?(mi(n.sessionId,r.builderPublicKey),{command:"exit"}):(u&&Nl(e,r,u,!!t.verbose,"negative",c),{feedback:"bad",userPrompt:`Last changes were not good, here's my feedback:
${c}
Notice that previously changes were already applied, any patch goes on top the previous changes.`})}if(l==="undo"){await Te("quality code feedback given",{spaceId:r.builderPublicKey,sentiment:"undo",mode:"cli"});let u=Dd(n);u&&Nl(e,r,u,!!t.verbose,"undo"),await Wx(e,n,!0);let c=await xt({message:`Let's try again, please be more detailed this time ${(0,ue.dim)("or Ctrl+C to exit")}`,placeholder:"e.g., 'do X and Y, but make sure to do Z'",validate(p){if(!p)return"Ctrl+C to exit"}});return Me(c)?(mi(n.sessionId,r.builderPublicKey),{command:"exit"}):{feedback:"bad",command:void 0,userPrompt:c}}}else{let c=await xt({message:i?"Describe how the design integrates into your codebase:":"What do you want to do?",placeholder:i?'e.g., "add a new contact page", "update the card component", "add a header to the layout of the app", ':'e.g., "add a new page", "add a new component", "update the button component"',validate(p){if(i){if(p.length===0)return"please, enter a detailed instruction";if(p.length<10)return"a more detailed instruction is needed"}else if(p.length===0)return"please, provide some prompt"}});if(Me(c))return mi(n.sessionId,r.builderPublicKey),{command:"exit"};a=c??"integrate design into the app, might be a new page/component/layout depending on the design"}return{command:void 0,userPrompt:a}}async function lN(e){for(let r=e.undoStates.length-1;r>=0;r--){let t=e.undoStates[r];if(t.files.length>0)return!0;if(!t.isAgent)return!1}return!1}async function Wx(e,r,t){let n;do if(n=r.undoStates.pop(),n){let i=e.getAppRootDir();for(let s of n.files)s.content?await e.writeFile(e.join(i,s.path),s.content):await e.unlink(e.join(i,s.path));n.files.length>0&&U.warn(`Restored files to previous state:

${n.files.map(s=>(0,ue.dim)(s.path)).join(`
`)}
`)}while(t&&n?.isAgent)}var uN=10,Kx=50,cN=1e5;async function Vx(e,r,t,n,i,s,o,a,l,u){let c=Bx(u),p=[],d=0,m=0,f=u;do{if(i.undoStates.push({files:[],isAgent:d>0,url:void 0}),p=await pN(e,r,t,n,i,s,o,a,p,l),u){f=gd(e.getAppRootDir(),f?.program);let h=Lx(c,f);if(h.length>0)if(m>0&&p.length===0)await Wx(e,i,!1);else{let g=$x(h);h.forEach(y=>{y.file?.fileName&&p.push({type:"file",filePath:y.file.fileName})}),U.error(`Found some typescript errors:

 ${Ux(h)}

Last changes included some new TS errors, working on a fix...`),s=`Found some typescript errors, please fix them:
${g}`,m++}}d++}while(p.length>0);return f}function Il(e){return e[e.length-1]}async function pN(e,r,t,n,i,s,o,a,l,u){let c=e.getAppRootDir(),p=await e.getRepoInfo(),d=await tn(e,c),m=xd(i)??o,{isNextPage:f}=Ed(m),h;try{let{files:y,searchResponse:x,rerankFiles:C,mostRelevantFile:D}=await DN(e,r,t,i,s,p,d,a,f,l,u),E=await hN(e,c);h=_t(),h.start("Reading files");let S=await bd.default.resolveConfigFile(process.cwd()),v=S?await bd.default.resolveConfig(S):null,O=[],B={url:m,position:process.env.NODE_ENV==="test"?"cli-test":"cli",eventName:"cli code",maxPages:2,autoContinue:1,userContext:n,files:y,customInstructions:E,sessionId:i.sessionId,userPrompt:s+(D?`

Hint: ${D}`:""),rerankFiles:C,prettierConfig:v??void 0,diffActions:!0,requestActions:!0,conclusionText:!0,searchResponse:x},k=fN(r,B,!!t.verbose),V=!1,ne=!1,se=[],H=[];for await(let j of k)try{let M=function(R,T){R.type==="text"&&(V||(process.stdout.write((0,ue.dim)(`\u2502  
`)+(0,ue.magenta)("~  ")),V=!0),process.stdout.write(T.replace(/\n/g,`
`+(0,ue.magenta)("\u2502  "))))};var g=M;async function ie(R){if(V&&(process.stdout.write(`
`),V=!1),R.type==="user"&&(h&&(h.stop(),h=void 0),h=_t(),h.start(R.content)),R.type==="thinking"&&(h&&(h.stop(),h=void 0),h=_t(),h.start("Reasoning")),R.type==="file"&&!R.synthetic&&(h&&(h.stop(),h=void 0),h=_t(),h.start(`${R.actionTitle??R.artifactTitle}`)),R.type==="diff"&&(h&&(h.stop(),h=void 0),h=_t(),h.start(`${R.actionTitle??R.artifactTitle}`)),R.type==="request_file"&&(h&&(h.stop(),h=void 0),R.filePath&&H.push({type:"file",filePath:R.filePath})),R.type==="done")if(se=await dN(e,i,R.actions),R.usage&&R.usage.total/R.usage.limits.aiGeneration>.5&&U.info(yN(R.usage.total,R.usage.limits.aiGeneration)),R.stopReason==="limit"){await Te("code generation",{spaceId:r.builderPublicKey,cli:!0,error:"rate limit reached"}),U.error((0,ue.red)("\u{1F6A8} The request was cancelled because it reached the account limits."));let T=new URL("https://builder.io/account/subscription");if(T.searchParams.set("space_id",r.builderPublicKey),await Rt({message:(0,ue.dim)(T.href),active:"Open subscription page",inactive:"Exit"})){let{default:$}=await import("open");await $(T.href)}return await Q(1),!0}else await Te("code generation",{cli:!0}),h&&(h.stop(),h=void 0),se.length>0&&(h=_t(),h.start("Applying changes..."));if(R.type==="continue"){if(h&&(se.length>0?h.stop(bN(se)):h.stop(),h=void 0),R.nextUrl){let T=Il(i.undoStates);T.url=R.nextUrl}return!0}return!1}async function I(R){R.type==="thinking"&&h&&(h.stop("Implementation plan generated"),h=void 0),R.type==="user"&&h&&(h.stop(),h=void 0),R.type==="diff"&&h&&(h.stop(`${R.actionTitle??R.artifactTitle}: ${(0,ue.dim)(R.filePath)}`),h=void 0),R.type==="file"&&R.filePath&&h&&!R.synthetic&&(h.stop(`${R.actionTitle??R.artifactTitle??"Created"}: ${(0,ue.dim)(R.filePath)}`),h=void 0)}if(h&&!ne&&(h.stop("\u{1F4A1}"),h=void 0,ne=!0),j.type==="delta"){let R=j.content,T=Il(O);T&&(T.content+=R,await M(T,R))}else{let R=Il(O);if(R&&(R.incomplete=!1,await I(R)),O.push(j),await ie(j))break}}catch{}return V&&(process.stdout.write(`
`),V=!1),H}finally{h&&(h.stop(),h=void 0)}}async function dN(e,r,t){let n=[];if(Array.isArray(t)){let i=e.getAppRootDir();for(let s of t){let o=s.filePath;if(s.type==="file"&&o&&!s.incomplete){let a=e.join(i,o),u=e.existsSync(a)?e.readFileSync(a):null,c=Il(r.undoStates);if(c&&!c.files.find(p=>p.path===o)&&c.files.push({path:o,content:u}),u){let p=px(u,s.content);n.push({filePath:o,addedLines:p.filter(d=>d.added).length,removedLines:p.filter(d=>d.removed).length})}else n.push({filePath:o,addedLines:s.content.length,removedLines:0});s.content.trim()===""?await e.unlink(a):await e.writeFile(a,s.content),r.selectedFilePaths.set(o,3)}}}return n}async function*fN(e,r,t){let n=JSON.stringify(r),i=new URL(`${Zt}/codegen/completion`);i.searchParams.set("apiKey",e.builderPublicKey),i.searchParams.set("userId",e.userId),t&&console.log("FETCH",i,n);let s=await pt(i,{method:"POST",body:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.builderPrivateKey}`}});if(!s.ok)throw new Error(`Failed to generate completion:
`+await s.text());let o=xl(s.body);for await(let a of o){if(a.length===0)continue;yield JSON.parse(a)}}async function Nl(e,r,t,n,i,s){try{let o=JSON.stringify({id:t,feedbackText:s,feedbackSentiment:i}),a=new URL(`${Zt}/codegen/feedback`);r.builderPublicKey&&a.searchParams.set("apiKey",r.builderPublicKey),r.userId&&a.searchParams.set("userId",r.userId),n&&console.log("FETCH",a,o);let l={"Content-Type":"application/json"};r.builderPrivateKey&&(l.Authorization=`Bearer ${r.builderPrivateKey}`),await pt(a,{method:"POST",body:o,headers:l})}catch(o){e.Sentry?.captureException(o)}}async function mN(e,r,t,n){try{let i=new URL(`${Zt}/codegen/search`);i.searchParams.set("apiKey",r.builderPublicKey),i.searchParams.set("userId",r.userId),i.searchParams.set("v2","true"),t.verbose&&console.log("FETCH",i,JSON.stringify(n));let s=await pt(i,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.builderPrivateKey}`}});if(!s.ok)throw new Error(`Failed to search codebase:
`+await s.text());return await s.json()}catch(i){return e.Sentry?.captureException(i),null}}async function*xl(e){if(!e)return;let r="",t=e.getReader(),n,i;for(;!n&&({value:i,done:n}=await t.read(),!n);){let s=new TextDecoder().decode(i);r+=s;let o=r.split(`
`);for(let a=0;a<o.length-1;a++)yield o[a];r=o[o.length-1]}}async function hN(e,r){let t=[];async function n(i){try{let s=e.resolve(r,i);if(await e.exists(s)){let o=await e.readFile(s);if(o){let a="hash-"+await e.hash(o);t.push({id:a,name:i,content:o})}}}catch(s){console.debug(`No ${i} found or error reading it:`,s)}}return await n(".cursorrules"),await n(".builderrules"),await n(".windsurfrules"),await n(".github/copilot-instructions.md"),t}function gN(e,r){let t="https://docs.google.com/forms/d/e/1FAIpQLSdHUIxeNZCAeMTgAWehxBtZplgcqXqyPbGf9Z1Advnf2ARxGw/viewform",n="entry.986969459",i="entry.1867678972",s=new URL(t);return s.searchParams.set("usp","pp_url"),s.searchParams.set(n,e),r&&s.searchParams.set(i,r),s.toString()}function mi(e,r){Et(`${(0,ue.bgGreen)((0,ue.bold)((0,ue.white)(" Done! \u{1F389} ")))} ${(0,ue.dim)("session "+e)}`);let t=gN(e,r);console.log(`
   \u{1F4DD} We'd love your feedback on the code generation!
   ${(0,ue.dim)(t)}
`)}function yN(e,r){let t=Math.round(e/r*100),n=process.stdout.columns||80,i=Math.min(Math.floor(n/2),80),s=Math.round(t/100*i),o=i-s,a="\u2588".repeat(s),l="\u2591".repeat(o),u=e.toLocaleString(),c=r.toLocaleString();return`Usage: ${u}/${c}
${a}${l}`}function bN(e){return e.length===0?(0,ue.green)("Changes are applied"):`${(0,ue.green)("Changes applied, please review the changes:")}
${(0,ue.dim)("\u2502")}
${e.map(r=>{let t=r.addedLines>0?(0,ue.green)("\u25A0".repeat(Math.min(r.addedLines,5))):"",n=r.removedLines>0?(0,ue.red)("\u25A0".repeat(Math.min(r.removedLines,5))):"";return`${(0,ue.dim)("\u2502  "+r.filePath)} ${(0,ue.green)(`+${r.addedLines}`)} ${(0,ue.red)(`-${r.removedLines}`)} ${t}${n}`}).join(`
`)}`}async function DN(e,r,t,n,i,s,o,a,l,u,c){let p,d=e.getAppRootDir(),m=await gl(d),f=[],h=[],g=null,y=null;if(!l&&u.length===0&&(g=xN(e,r,t,n,s,f,h,i,m,o),p&&(p.stop(""),p=void 0),y=a===void 0?await vx(e,m,d,n.selectedFilePaths,cN,c):a,g&&(p=_t(),p.start("Analyzing relevant files"),await g,p&&(p.stop("Repo analyzed successfully"),p=void 0)),y&&!f.includes(y)&&f.unshift(y)),!l&&u.length>0){f=m.filter(C=>u.some(D=>D.filePath===C));for(let C of f)n.selectedFilePaths.set(C,3)}return{files:f.map(C=>({filePath:C,content:e.readFileSync(e.join(d,C)),importance:n.selectedFilePaths.get(C)??1})).concat(h.slice(0,300).map(C=>({filePath:C}))),searchResponse:await g,mostRelevantFile:y,rerankFiles:n.selectedFilePaths.size===0?10:2}}async function xN(e,r,t,n,i,s,o,a,l,u){let c=e.getAppRootDir(),p=await mN(e,r,t,{query:a,repoInfo:i,limit:uN,files:l.slice(0,300),packageJson:u?JSON.stringify(u):void 0,sessionId:n.sessionId}),d=new Set;for(let f of p?.ranked??[])d.add(f.filePath);let m=Array.from(d);if(m.length>0)for(let f of l){let h=vo(f,{foundFiles:m,allFiles:l,selectedFilePaths:n.selectedFilePaths,cwd:e.cwd(),appRootDir:c,fallbackImportance:0});h!==0&&s.length<Kx?(s.push(f),n.selectedFilePaths.set(f,h)):Ao(e,f)&&o.push(f)}else if(i.commit)await Fx({sys:e,appRootDir:c,allFiles:l,files:s,hiddenFiles:o,selectedFilePaths:n.selectedFilePaths,promptRelevantFiles:p?.relevantPaths??[]});else{let f=l.filter(x=>{let C=vo(x,{foundFiles:m,allFiles:l,selectedFilePaths:n.selectedFilePaths,cwd:e.cwd(),appRootDir:c,fallbackImportance:1});return C===1||C===2}),h=Math.min(40,f.length),g=[],y=0;for(;g.length<h&&y<f.length*2;){y++;let x=f[Math.floor(Math.random()*f.length)];g.includes(x)||g.push(x)}for(let x of l){let C=vo(x,{foundFiles:g,allFiles:l,selectedFilePaths:n.selectedFilePaths,cwd:e.cwd(),appRootDir:c,fallbackImportance:1});C!==0&&s.length<Kx?(s.push(x),n.selectedFilePaths.set(x,C)):Ao(e,x)&&o.push(x)}}return p}var Ed=e=>{if(!e)return{id:void 0,isInitial:!0,isNextPage:!1};let r=new URL(e);return r.protocol==="cgen:"?{isInitial:!1,id:r.pathname.slice(1),isNextPage:r.searchParams.get("nextPage")==="true"}:{isInitial:!0,id:r.pathname.slice(1),isNextPage:!1}};async function To(e,r){let t=e.getAppRootDir();U.info(`Open project: ${(0,ue.dim)(t)}`);let n=await gl(t),i=n.filter(l=>l.endsWith("/package.json")),s=await tn(e,t);if(!s&&(U.warn("Looks like you are running this command outside a JS project, this project runs better when executed at the root of a JS project."),await Te("cli code outside project",{}),r&&await Rt({message:"Do you want to continue anyway?",active:"Yes",inactive:"No",initialValue:!1})!==!0))return await Q(1);let o=n.filter(l=>l.endsWith("/tsconfig.json")),a=!1;if(i.length>0?(a=!0,U.warn(`This command works best when executed at the root of a single project.
Found several ${(0,ue.bold)("package.json")} files (${i.length}) instead:
${(0,ue.dim)(i.join(`
`))}`)):o.length>0&&(a=!0,U.warn(`This command works best when executed at the root of a single project.
Found several ${(0,ue.bold)("tsconfig.json")} files (${o.length}) instead:
${(0,ue.dim)(o.join(`
`))}`)),a&&r&&(await Te("cli code monorepo",{}),await Rt({message:"Do you want to continue anyway?",active:"Yes",inactive:"No (recommended)",initialValue:!1})!==!0))return U.info("cd into one the nested project and run the command again"),await Q(1);e.Sentry?.setExtra("nonRootPackageJsons",i),e.Sentry?.setExtra("nonRootTsConfigs",o),e.Sentry?.setExtra("packageJson",s),e.Sentry?.setExtra("appRootDir",t)}async function Po(e){let r=await e.getRepoInfo(),t={client:"@builder.io/dev-tools",clientVersion:e.version,nodeVersion:process.version,frameworks:e.getFrameworks().map(n=>n.name),systemPlatform:process.platform,systemEOL:Pl.default.EOL,systemArch:Pl.default.arch(),inGitRepo:!!r.remoteUrl};try{let n=Pl.default.userInfo();t.systemShell=n.shell??void 0}catch{}return t}var Hx=async(e,r)=>{let t=await Po(e);e.Sentry?.setContext("userContext",t),await Te("figma publish started",{});let n=!r.yes||!r.skipInstallation;if(n&&!process.stdout.isTTY&&process.env.FORCE_TTY!=="1")return await Te("tty error",{}),ge(`This command requires a TTY-enabled terminal. 
 see docs for more information on how to run non-interactive.
If you are using Windows Git Bash, try a different terminal or wrap the command with winpty.`),await Q(1);let i=Fl(r);console.log(""),tt((0,he.bgCyan)((0,he.bold)((0,he.white)(" figma publish ")))+"  "+(0,he.dim)(Re)),await To(e,n);let s=await di(e),{figmaBuilderLinks:o,figmaLinksToResolve:a}=await bo({mappingFiles:s,sys:e}),{builderPrivateKey:l,builderPublicKey:u,userId:c,spaceName:p,figmaAuth:d}=await yt(e,r,{forceSpaceId:r.spaceId,builderPrivateKey:!0,builderPublicKey:!0,figmaAuth:a.length>0});d&&a.length>0&&await dl(e,r,d,o,a);let{filteredLinks:m,skippedLinks:f}=PN(o);if(f.length>0){if(await Te("figma publish user error",{mappingFiles:s.length,filteredLinks:m.length,skippedLinks:f.length}),r.force!==!0)return U.message(""),ge(`Found some errors in the mapping files. Please fix the issues and try again, or use the ${(0,he.bold)("--force")} flag to publish regardless.`),await Q(1);U.warn("Local mappings contain some type errors, but --force flag was used, skipping.")}let h;try{h=await kn(e)}catch(D){e.Sentry?.captureException(D,{level:"warning"})}let g=p?`${(0,he.bold)(p)} ${(0,he.dim)("("+u+")")}`:`space id "${(0,he.bold)(u)}"`;if(m.length===0){U.warning(`No mappings found. Publishing will remove all existing mapping in space: ${g}.`);let D=i||r.yes||await Rt({message:"Do you want to continue?",active:"Publish",inactive:"Cancel"});if(Me(D)||!D)return ge("Publish cancelled"),await Q(1)}else{let D=i||r.yes||await Wo({message:`Do you want to publish the found mappings to ${g}?`,options:[{label:"Publish",hint:"Existing mappings will be overwritten",value:!0},{label:"Cancel",value:!1}]});if(Me(D)||!D)return ge("Publish cancelled"),await Q(1)}let y=Di(),x=await e.getRepoInfo();if(r.dryrun||(y.start("Publishing Figma Mappings"),await TN(e,{spaceId:u,userId:c,privateKey:l,figmaBuilderLinks:m,repoInfo:x,userContext:t}),y.stop(m.length>0?`${m.length} mappings uploaded`:"All mappings removed from the Builder space")),r.verbose||r.dryrun){let D=js(Ri);U.info(D.highlight("json",JSON.stringify(o,null,2)).value)}await Io(e,u,h,!0),U.success((0,he.bgGreen)((0,he.bold)((0,he.white)(" Done! \u{1F389} "))));let C={react:"npm run start",angular:"npm run start",vue:"npm run dev",svelte:"npm run dev",next:"npm run dev",remix:"npm run dev"}[h?.framework??"react"]??"npm run start";Et((0,he.dim)(`You can now start the dev server:

   `)+(0,he.bgBlack)((0,he.white)((0,he.bold)(` ${C} `)))+`

   `+(0,he.dim)("Then, go back to Figma and generate code again to see your mapped components.")),await Te("figma publish success",{spaceId:u,mappingFiles:s.length,figmaBuilderLinks:o.length})};async function EN(e,r,t){let n=[],i=[r],s=e.relative(e.getAppRootDir(),r.fileName);for(;i.length>0;){let o=i.shift();if(vN(o,r)){let a=SN(e,o,r,t),{line:l,character:u}=r.getLineAndCharacterOfPosition(o.getStart());a&&(a.loc=`${s}:${l+1}:${u+1}`,n.push(a))}i.push(...o.getChildren(r))}return n}var CN="figmaMapping";function SN(e,r,t,n){let[i]=r.arguments;if(!i)throw new Error("Invalid figmaMapping call, no arguments found");if(!He.default.isObjectLiteralExpression(i))throw new Error("Invalid figmaMapping call, argument is not an object literal");let s=i.properties;if(!s)throw new Error("Invalid figmaMapping call, argument has no properties");let o="",a,l,u="-",c=e.basename(t.fileName).replace(/\.mapper\.[tsxjm]+$/,""),p,d,m,f;if(r.typeArguments&&r.typeArguments.length>0){let y=Gx(r.typeArguments[0].getText(t));y&&(c=y)}for(let y of s){let x=y.name?.getText(t);if(!x)throw new Error("Invalid figmaMapping call, property has no name");switch(x){case"url":{if(!("initializer"in y))throw new Error("Invalid figmaMapping call, url has no initializer");let C=y.initializer;if(!He.default.isStringLiteral(C))throw new Error("Invalid figmaMapping call, componentKey is not a string literal");f=C.text;break}case"componentKey":{if(!("initializer"in y))throw new Error("Invalid figmaMapping call, componentKey has no initializer");let C=y.initializer;if(!He.default.isStringLiteral(C))throw new Error("Invalid figmaMapping call, componentKey is not a string literal");o=C.text;break}case"mapper":if(He.default.isMethodDeclaration(y)){let C=function(E){let v=n.getSymbolAtLocation(E)?.getDeclarations()?.[0];if(v){let O=AN(v);if(O?.importClause){let B=O.importClause.name?.getText(t);return B===u?p="default":O.importClause.namedBindings&&(p="named"),d=B,He.default.isStringLiteral(O.moduleSpecifier)&&(m=O.moduleSpecifier.text),!0}}return!1},D=function(E){if((He.default.isJsxOpeningElement(E)||He.default.isJsxSelfClosingElement(E))&&He.default.isIdentifier(E.tagName)){u=E.tagName.getText(t),C(E.tagName);return}else if(He.default.isTaggedTemplateExpression(E)&&He.default.isIdentifier(E.tag)&&E.tag.escapedText==="html"){if(He.default.isTemplateExpression(E.template)){let v=E.template.templateSpans.find(O=>He.default.isIdentifier(O.expression)&&wN(O.expression.text)&&C(O.expression));if(v&&He.default.isIdentifier(v.expression)){u=v.expression.text;return}}let S=E.template.getText(t).match(/^`\s*<([^\s]+)/);if(S){u=S[1];return}}else He.default.forEachChild(E,D)};var h=C,g=D;if(y.parameters[0].type){let E=y.parameters[0].type.getText(t),S=Gx(E);S&&(c=S)}He.default.forEachChild(y,D),l=y.getText(t).replace(/^mapper/,"function Mapper"),a=Cd(l);break}case"designTokenMapper":if(He.default.isMethodDeclaration(y)){l=y.getText(t).replace(/^designTokenMapper/,"function Mapper"),a=Cd(l),o="design-tokens";break}case"genericMapper":if(He.default.isMethodDeclaration(y)){l=y.getText(t).replace(/^genericMapper/,"function Mapper"),a=Cd(l),o="*";break}}}if(!o&&!f)throw new Error("Invalid figmaMapping call, no componentKey or url found");if(!o&&!a)throw new Error("Invalid figmaMapping call, no mapper found");if(!o&&!l)throw new Error("Invalid figmaMapping call, no original mapper found");return{builderName:u,figmaName:c,figmaKey:o,figmaUrl:f,inputMapper:a,exportType:p,importName:d,importPath:m,originalInputMapper:l,source:"cli"}}function wN(e){return e.charAt(0)===e.charAt(0).toUpperCase()}function Cd(e){return He.default.transpile(e,{target:He.default.ScriptTarget.Latest,allowNonTsExtensions:!0,moduleResolution:He.default.ModuleResolutionKind.NodeJs,module:He.default.ModuleKind.CommonJS,noImplicitAny:!1,esModuleInterop:!0,noUnusedLocals:!1,noUnusedParameters:!1,jsx:He.default.JsxEmit.React,jsxFactory:"React.createElement",jsxFragmentFactory:"React.Fragment",allowJs:!0,checkJs:!0,strict:!0,suppressImplicitAnyIndexErrors:!0,typeRoots:["node_modules/@types"],inlineSources:!0,inlineSourceMap:!0})}function AN(e){let r=e;for(;r;){if(He.default.isImportDeclaration(r))return r;r=r.parent}}function vN(e,r){return He.default.isCallExpression(e)&&e.expression.getText(r)===CN}async function di(e){let r=["node_modules","dist","build","public"];return(await e.readdirRecursive(e.getAppRootDir(),r)).filter(n=>vt(n))}function Gx(e){let r=e.match(/^Figma(\w+)Props$/);if(r&&typeof r[1]=="string")return r[1]}async function Io(e,r,t,n=!1){try{return t||(t=await kn(e)),await t.setPublicApiKey({publicApiKey:r}),n&&await t.ensureFigmaImportPage(),!0}catch(i){return e.Sentry?.captureException(i,{level:"warning"}),!1}}var TN=async(e,r)=>{let t=new URL(`${Zt}/mappings/publish`);if(t.searchParams.set("apiKey",r.spaceId),t.searchParams.set("userId",r.userId),!(await pt(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.privateKey}`},body:JSON.stringify({remoteUrl:r.repoInfo?.remoteUrl,defaultBranch:r.repoInfo?.defaultBranch,currentBranch:r.repoInfo?.currentBranch,commit:r.repoInfo?.commit,figmaBuilderLinks:r.figmaBuilderLinks,spaceKind:e.kind,userContext:r.userContext})})).ok)throw new Error("Failed to publish Figma mappings");return!0};async function bo({sys:e,mappingFiles:r,typeCheck:t}){if(e.Sentry?.setContext("findMappings",{mappingFiles:r}),!r.length)return{figmaBuilderLinks:[],figmaLinksToResolve:[],diagnostics:[]};let n=[],i=[],s=await ut(e,r),o=s.getTypeChecker(),a=[...s.getSyntacticDiagnostics(),...t?s.getSemanticDiagnostics():[]].filter(yd);for(let u of r)try{let c=s.getSourceFile(u);if(!c){e.Sentry?.captureException(new Error("Could not find source file"),{extra:{file:u,sourceFiles:s.getSourceFiles().map(m=>m.fileName)},level:"warning"});continue}let p=c?.fileName;if(p){let m=a.filter(f=>f.file?.fileName===p);m.length>0&&i.push(...m)}let d=await EN(e,c,o);n.push(...d)}catch(c){return e.Sentry?.captureException(c),await Q(1)}let l=n.filter(u=>u.figmaUrl&&!u.figmaKey).map(u=>u.figmaUrl);return{figmaBuilderLinks:n,figmaLinksToResolve:l,diagnostics:i}}function PN(e){let r=new Set,t=[],n=[];for(let i of e){let s=!1;if(!i.figmaKey){n.push([i,"no-key"]);continue}i.figmaKey?(s||(s=r.has(i.figmaKey)),r.add(i.figmaKey)):i.figmaUrl&&(s||(s=r.has(i.figmaUrl)),r.add(i.figmaUrl)),s?n.push([i,"duplicate"]):t.push(i)}if(t.length>0){let i=`Found ${t.length} mappings:
`+t.map(s=>{let o=!1;s.figmaKey?(o||(o=r.has(s.figmaKey)),r.add(s.figmaKey)):s.figmaUrl&&(o||(o=r.has(s.figmaUrl)),r.add(s.figmaUrl));let a="";switch(s.figmaKey){case"design-tokens":a="  "+(0,he.cyan)("\u2747\uFE0E Design tokens mapper");break;case"*":a="  "+(0,he.yellow)("\u25CF Generic mapper");break;default:a=`  ${(0,he.magenta)("\u2756 "+Gr(s.figmaName))}  ${(0,he.dim)("\u2192")}  ${s.builderName==="-"?"-":"<"+s.builderName+">"}`;break}return s.loc&&(a=`${a} in ${(0,he.dim)(s.loc)}`),a}).join(`
`);U.info(i)}if(n.length>0){let i=n.map(([s,o])=>{let a="";switch(s.figmaKey){case"design-tokens":a+=(0,he.cyan)("\u2747\uFE0E Design tokens mapper");break;case"*":a+=(0,he.yellow)("\u25CF Generic mapper");break;default:a+=`${(0,he.magenta)("\u2756 "+Gr(s.figmaName))}`;break}switch(a=(s.loc?(0,he.bgRed)(`${a} in ${s.loc}`):a)+`
`,o){case"duplicate":a+=(0,he.bold)("Component mapping is duplicateds");break;case"no-key":a+=`Could not resolve the "url" to a figma component key.
${(0,he.dim)(s.figmaUrl)} is not a COMPONENT or COMPONENT_SET`;break}return a}).join(`
`);U.error(i)}return{filteredLinks:t,skippedLinks:n}}var Qx=require("crypto");var IN=5294,NN=5284,Sd=4,Fl=e=>!!(process.env.CI||e.ci),yt=async(e,r,t)=>{let n=Fl(r)?{}:ON(e),i=n.spaceName,s=n.userId,o,a=process.env.BUILDER_PUBLIC_KEY??n.builderPublicKey,l=process.env.BUILDER_PRIVATE_KEY??n.builderPrivateKey,u=process.env.FIGMA_PERSONAL_TOKEN??r.figmaToken;if(u?o={access_token:u,oauth:!1}:o=n.figmaAuth,t.forceSpaceId&&!r.yes&&a&&a!==t.forceSpaceId&&(U.warning(`CLI is currently logged in space ${(0,zn.yellow)(a)},
However the command required --spaceId=${(0,zn.green)(t.forceSpaceId)}`),await Rt({message:"Do you wanna switch spaces?",active:"Yes",inactive:`Stay in current ${i} space`})?(a=t.forceSpaceId,l=void 0,i=void 0,s=void 0):U.warning("Staying in the current space. Some other auth issues might occur.")),Fl(r)){if(!o&&t.figmaAuth)throw new Error(`No Figma personal token found.
Please set the FIGMA_PERSONAL_TOKEN environment variable.`);if(!l&&t.builderPrivateKey)throw new Error(`No Builder private key found.
Please set the BUILDER_PRIVATE_KEY environment variable.`);if(!a&&t.builderPublicKey)throw new Error(`No Builder public key found.
Please set the BUILDER_PUBLIC_KEY environment variable.`);return{figmaAuth:o,builderPublicKey:a,builderPrivateKey:l}}if((t.force||!o&&t.figmaAuth)&&(o=await kN(e),Jx(e,{figmaAuth:o})),t.force||!l&&t.builderPrivateKey||!a&&t.builderPublicKey){let{privateKey:c,spaceId:p,spaceName:d,userId:m}=await _N(e,t.forceSpaceId);if(t.forceSpaceId&&p!==t.forceSpaceId)throw new Error(`OAuth flow returned space ${(0,zn.yellow)(p)}, however the command specified --spaceId=${(0,zn.green)(t.forceSpaceId)}`);a=p,l=c,i=d,s=m,await hD(s),await Io(e,p,void 0,!1),Jx(e,{builderPublicKey:a,builderPrivateKey:l,spaceName:i,userId:s})}return s&&e.Sentry?.setUser({id:s,username:process.env.USER||process.env.USERNAME||"unknown"}),(i||a)&&e.Sentry?.setContext("builder",{spaceId:a,spaceName:i,userId:s}),{figmaAuth:o,builderPublicKey:a,builderPrivateKey:l,spaceName:i,userId:s}},FN="RHr2ed743waC2g2ZHMEJSn6O0NQ08L";async function kN(e){let r=(0,Qx.randomUUID)();return e0({sys:e,name:"Figma",initialPort:IN,requestListener:async(t,n,i,s,o)=>{let a=new URL(n.url||"",`http://localhost:${t}`);if(a.pathname==="/figma-connect"){let l=a.searchParams.get("code"),u=a.searchParams.get("state"),c="nrGCqw6TLl95QJhVDi097A",p=FN,m=`Basic ${Buffer.from(`${c}:${p}`).toString("base64")}`;if(l&&r===u){let f=await pt("https://api.figma.com/v1/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:m},body:new URLSearchParams({redirect_uri:`http://localhost:${t}/figma-connect`,code:l,grant_type:"authorization_code"}).toString()});f.ok||o(new Error("Failed to get figma access token"));let h=await f.json();i.end(`<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Builder.io</title>
    <link rel="icon shortcut" href="https://cdn.builder.io/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Figma"),()=>{s({...h,oauth:!0})})}}},onListen:t=>{let n=new URL("https://www.figma.com/oauth");return n.searchParams.set("client_id","nrGCqw6TLl95QJhVDi097A"),n.searchParams.set("redirect_uri",`http://localhost:${t}/figma-connect`),n.searchParams.set("scope","files:read,file_dev_resources:read,file_variables:read"),n.searchParams.set("state",r),n.searchParams.set("response_type","code"),n.href}})}async function Zx(e,r){let t=new URL("https://cdn.builder.io/api/v1/usage/codegen-usage");t.searchParams.set("apiKey",e);let n=await pt(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error("Failed to retrieve codegen usage, are you logged in to proper Builder space?");return await n.json()}async function _N(e,r){let t=await e.getDeviceId();return e0({sys:e,name:"Builder.io",initialPort:NN,requestListener:async(n,i,s,o)=>{let a=new URL(i.url||"",`http://localhost:${n}`);a.pathname===Wn&&s.end(`<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Builder.io</title>
    <link rel="icon shortcut" href="https://cdn.builder.io/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.builder.io/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Builder.io"),()=>{o({privateKey:a.searchParams.get("p-key")||"",spaceId:a.searchParams.get("api-key")||"",spaceName:a.searchParams.get("org-name")||"",userId:a.searchParams.get("user-id")||""})})},onListen:n=>{let i=new URL("/cli-auth","https://builder.io");i.searchParams.set("client_id","builder-dev-tools-cli"),i.searchParams.set("host",t),i.searchParams.set("response_type","code"),i.searchParams.set("cli","true"),r&&i.searchParams.set("space_id",r);let s=new URL(Wn,`http://localhost:${n}`);s.searchParams.set(_o,(0,Xx.platform)()),s.searchParams.set(Oo,process.versions.node);let o=e.getFrameworks();return o.length>0&&(i.searchParams.set(gi,o[0].name),s.searchParams.set(gi,o[0].name)),i.searchParams.set("redirect_url",s.href),i.href}})}function Jx(e,r){let t=e.getAppRootDir(),n=(0,kl.join)(t,"node_modules",".builder"),i=(0,kl.join)(n,"data.json");if((0,Yr.existsSync)(i))try{let s=(0,Yr.readFileSync)(i,"utf8");r=Object.assign(JSON.parse(s).credentials,r)}catch(s){e.Sentry?.captureException(s)}else(0,Yr.mkdirSync)(n,{recursive:!0});(0,Yr.writeFileSync)(i,JSON.stringify({credentials:r},null,2))}function ON(e){let r=e.getAppRootDir(),t=(0,kl.join)(r,"node_modules",".builder","data.json");if((0,Yr.existsSync)(t))try{let n=(0,Yr.readFileSync)(t,"utf8");return JSON.parse(n).credentials}catch(n){e.Sentry?.captureException(n)}return{}}async function e0(e){let{default:r}=await import("open"),t,n,i,s=new Promise((d,m)=>{t=d,n=m}),o=e.initialPort,a=0,l=(0,Yx.createServer)((d,m)=>e.requestListener(o,d,m,t,n)),u=()=>{c(),l&&("closeAllConnections"in l&&l.closeAllConnections(),l.close(d=>{d&&e.sys.Sentry?.captureException(d)}))};process.on("uncaughtExceptionMonitor",u),process.on("unhandledRejection",u),process.on("SIGINT",u),process.on("SIGTERM",u),process.on("exit",u);let c=()=>{process.removeListener("uncaughtExceptionMonitor",u),process.removeListener("unhandledRejection",u),process.removeListener("SIGINT",u),process.removeListener("SIGTERM",u),process.removeListener("exit",u)},p=()=>new Promise((d,m)=>{let f=h=>{l.removeListener("error",f),h.code==="EADDRINUSE"&&a<Sd?(U.warning(`Port ${o} is already in use, trying next port`),o++,a++,d(0)):m(h)};l.once("error",f),l.listen(o,()=>{l.removeListener("error",f);let h=l.address();d(h.port)})});try{let d=0;for(;d===0&&a<Sd;)d=await p();if(d===0)throw new Error(`Failed to find an available port after ${Sd} attempts`);let m=e.onListen(d);U.warn(`Required authenticating with ${e.name}
OPEN: ${(0,zn.dim)(m)}`),i=_t(),i.start(`Waiting for ${e.name} authentication`),r(m,{wait:!1});let f=await s;return i&&i.stop(`Authenticated with ${e.name} successfully`),f}catch(d){throw i&&(i.stop(`Failed to authenticate with ${e.name}.`,-1),Tr("auth")),e.sys.Sentry?.captureException(d),u(),d}finally{u()}}var Xe=q(et(),1),ps=require("path");var RN="https://cdn.builder.io",t0=async(e,r)=>{console.log(""),tt((0,Xe.bgCyan)((0,Xe.bold)((0,Xe.white)(" figma migrate ")))+"  "+(0,Xe.dim)(Re));let{builderPrivateKey:t,builderPublicKey:n}=await yt(e,r,{forceSpaceId:r.spaceId,builderPrivateKey:!0,builderPublicKey:!0});await Te("figma publish started",{spaceId:n});let i=await di(e);if(i.length>0){await Te("figma migrate with existing files",{spaceId:n}),U.warning(`${(0,Xe.yellow)("This repo already has figma mappings in:")}

${i.map(u=>` - ${(0,ps.relative)(e.getAppRootDir(),u)}`).join(`
`)}

Migration is going to create new files, possibly duplicates.`);let l=await Rt({message:"Do you want to continue?",initialValue:!1});if(!l||Me(l))return ge("Migration cancelled"),await Q(1)}U.message("We are about to import your existing figma mappings into this local repo.");let s=Di();s.start("Fetching figma mappings");let o=await wd({privateKey:t,spaceId:n});s.stop(`Fetched ${o.length} figma mappings:`),U.message(o.map(l=>{switch(l.figmaKey){case"design-tokens":return(0,Xe.cyan)("\u2747\uFE0E Design tokens mapper");case"*":return(0,Xe.yellow)("\u25CF Generic mapper");default:return`${(0,Xe.magenta)("\u2756 "+Gr(l.figmaName))} ${(0,Xe.dim)("\u2192")} ${l.builderName}`}}).join(`
`));let a=await xt({message:`Where do you want to save the figma mappings? ${(0,Xe.dim)("(Ctrl+C to exit)")}`,initialValue:"./src/mappings",defaultValue:"./src/mappings",placeholder:"./src/mappings",validate:l=>{if((0,ps.extname)(l)!=="")return"It must be a valid directory path, not a file";if((0,ps.isAbsolute)(l))return"It must be a relative path"}});if(Me(a))return ge("Migration cancelled"),await Q(1);await(0,_l.mkdir)(a,{recursive:!0}),await Promise.all(o.map(async l=>{let u=await LN(l),c;switch(l.figmaKey){case"design-tokens":c="design-tokens";break;case"*":c="generic";break;default:c=Gr(l.figmaName)}let p=a+"/"+c+".mapper.tsx";return U.info((0,Xe.green)("created ")+(0,Xe.dim)(p)),(0,_l.writeFile)(p,u)})),U.info("Check out the docs for following steps: https://builder.io/docs/figma/figma-mappings"),Et((0,Xe.bgGreen)((0,Xe.bold)((0,Xe.white)(" Done! \u{1F389} ")))+` ${o.length} mappings imported`),await Te("figma migrate success",{spaceId:n,mappingFiles:o.length})};async function wd(e){let r=await pt(`${RN}/api/internal/kv/${e.spaceId}/figma-builder?apiKey=${e.spaceId}`,{headers:{Authorization:`Bearer ${e.privateKey}`}});if(!r.ok)throw new Error(`Failed to fetch figma-builder links: ${r.statusText}`);let t=await r.json();if(!(t instanceof Object&&"figmaBuilderLinks"in t))throw new Error("Invalid response");return t.figmaBuilderLinks}async function LN(e){let r="figmaMapping",t=e.originalInputMapper?.match(/function Mapper\(\s*([a-zA-Z0-9_$]+)\s*(?::[^)])?\s*\)/)?.[1],n=e.originalInputMapper?.match(/function Mapper\([^)]*\)(\s*{([^]*))$/)?.[1],i;switch(e.figmaKey){case"design-tokens":i=`${r}({
  designTokenMapper(${t||"designToken"})${n}
})`;break;case"*":i=`${r}({
  genericMapper(${t||"figma"})${n}
})`;break;default:i=`${r}({${e.figmaUrl?`
  url: ${JSON.stringify(e.figmaUrl)},`:""}
  componentKey: ${JSON.stringify(e.figmaKey)}${n?`,
  mapper(${t||"figma"})${n}`:""}
})`}return mr(`import { figmaMapping } from '@builder.io/dev-tools/figma';
${BN(e)}

${i}`,"typescript",void 0)}function BN(e){let{exportType:r,importName:t,importPath:n}=e;if(t&&n){let i=JSON.stringify(n);return r==="named"?`import { ${t} } from ${i};`:`import ${t} from ${i};`}return""}b();var Ol=q(require("prompts"),1),fs=q(require("fs"),1);var ee=q(et(),1),s0=require("path");var No=q(n0(),1);var o0=async(e,r)=>{let t=await Po(e);e.Sentry?.setContext("userContext",t);let n=!r.componentName||!r.mappingOutput||!r.skipInstallation;if(n&&!process.stdout.isTTY&&process.env.FORCE_TTY!=="1")return await Te("tty error",{}),ge(`This command requires a TTY-enabled terminal.
If you are using Windows Git Bash, try a different terminal or wrap the command with winpty.`),await Q(1);if(console.log(""),tt((0,ee.bgMagenta)((0,ee.bold)((0,ee.white)(" figma generate ")))+"  "+(0,ee.dim)(Re)),U.message((0,ee.dim)(`This command will help you create new mapper files to connect Figma components to your code components.
Check out `)+(0,ee.bold)((0,ee.cyan)("https://www.builder.io/c/docs/cli-mapping"))+(0,ee.dim)(" for more details.")),r.componentName&&!r.mappingOutput)return U.error("Mapping output must be provided when mapping a single component"),await Q(1);if(typeof r.mappingOutput=="string"&&!vt(r.mappingOutput))return U.error("Mapping output must end with .mapper.{tsx, ts, jsx, js, mjs}, e.g. my-component.mapper.tsx"),await Q(1);await To(e,n);let i;i=_t(),i.start("Loading type information");let s;try{s=await kn(e)}catch(y){return e.Sentry?.captureException(y),i.stop("Repo's framework is not supported"),await Te("figma generate, framework not supported",{frameworks:e.getFrameworks().map(x=>x.name)}),i.message(`We can not generate mappers automatically, but it's possible to do it manually:
https://www.builder.io/c/docs/mapping-functions`),await Q(1)}let o=[],a;if(r.token)U.message(),a=await yt(e,r,{}),o=await vD(a,r.token,!!r.verbose);else{i&&(i.stop("Component metadata processed"),i=void 0);let y=r._.slice(2);if(!y.length)return ge(`No Figma URL provided, use:
  npx builder.io figma generate "https://..."`),Tr(),await Q(1);if(a=await yt(e,r,{builderPrivateKey:!0,builderPublicKey:!0,figmaAuth:TD(y),forceSpaceId:r.spaceId}),!a.builderPrivateKey||!a.builderPublicKey)return ge("Missing builder.io credentials"),await Q(1);let x=await Zx(a.builderPublicKey,a.builderPrivateKey),C=await wd({privateKey:a.builderPrivateKey,spaceId:a.builderPublicKey});if(!x.features?.includes("component-mapping")&&C.length===0)return ge("Component mapping is an enterprise feature. Please visit "+(0,ee.bold)((0,ee.cyan)("https://www.builder.io/unlock-enterprise"))+" to start your trial."),await Q(1);i=_t(),i.start("Gathering Figma component info"),o=await PD(e,r,a.figmaAuth,{privateKey:a.builderPrivateKey,spaceId:a.builderPublicKey},y)}await Te("figma generate started",{spaceId:a.builderPublicKey,mode:r.componentName?"non-interactive":"interactive"});let l=js(Ri),u,c,p=await s.getRegistry({readAllInputTypes:!0});i&&(i.stop("Figma's component metadata loaded"),i=void 0),U.message();let d=await di(e),{figmaBuilderLinks:m,figmaLinksToResolve:f}=await bo({sys:e,mappingFiles:d});f.length>0&&a.figmaAuth&&await dl(e,r,a.figmaAuth,m,f);let h=await KN(o,m);o=o.filter(([,y])=>h.includes(y.key));let g=[];for(let y=0;y<o.length;y++){let[x,C]=o[y];y>0&&U.info(`Mapped ${y} / ${o.length} components:

${o.map(([,j],ie)=>y>ie?j.documentName==="-"?(0,ee.dim)(` \u2756 ${j.name}`)+" "+(0,ee.yellow)("(skipped)"):(0,ee.green)(` \u2714 ${j.name} \u2192 <${j.documentName} />`):y===ie?(0,ee.underline)(` \u2192 ${j.name}`):(0,ee.dim)(` \u2756 ${j.name}`)).filter(Boolean).join(`
`)}
`);let D,E,S,v,B=(await s.findAllDependencies()).filter(j=>!GN(j.name)),k=r.componentName?p.components.find(j=>j.name===r.componentName):await i0(p.components,C.name,B.length>0);if(k==="external package"){let j=await WN(B);s.addExternalPackage(j);let ie=await s.getRegistry({readAllInputTypes:!0});ie&&(p=ie);let I=await i0(p?.components.filter(M=>M.importPath===j),C.name,!0);I==="skip"||I==="scaffold"?D=void 0:D=I}else k==="skip"||k==="scaffold"?D=void 0:D=k;if(!D)if(k==="scaffold")U.info("Scaffolding mapper for "+C.name);else{C.documentName="-",U.warning("Skipping mapping for "+C.name);continue}if(!D){let j=e.getFrameworks().some(ie=>ie.name==="@angular/core");D={id:"",name:Gr(C.name),importName:Gr(C.name),isRegistered:!1,importPath:"",filePath:"",relFilePath:"",inputs:[],exportName:"",framework:j?"angular":"react"}}let V=await zN(D),ne,se={registry:p,figmaNode:C,figmaUrl:x,registeredCmp:D,token:r.token,docsUrl:V,userContext:t};try{for(;;){se.previousCompletion=S,se.userPrompt=ne;let j=HN(a,se,!!r.verbose);for await(let I of j)I.type==="step"&&(i&&i.stop(),i=_t(),i.start(I.title)),I.type==="done"&&(E=I.code,S=I.completion,v=I.fileName);if(E)i&&i.stop("Generated mapping"),U.message(l.highlight("typescript",E).value);else return i&&i.stop("Failed to generate mapping",1),await Te("figma generate, LLM failed",{spaceId:a.builderPublicKey,componentName:C.name}),await Q(1);if(r.componentName)break;let ie=await VN();if(ie.trim()==="good")break;await Te("figma add follow up prompt",{spaceId:a.builderPublicKey,prompt:ie}),ne=ie}}catch(j){return e.Sentry?.captureException(j),ge("LLM failed:"+String(j)),await Q(1)}let H=v??`${Gr(C.name)}.mapper.tsx`;C.documentName=D.importName,E&&(r.mappingOutput?(c=r.mappingOutput,u=e.dirname(c),fs.default.mkdirSync(u,{recursive:!0})):u?c=e.join(u,H):(c=await jN(H),u=e.dirname(c),fs.default.mkdirSync(u,{recursive:!0})),fs.default.writeFileSync(c,await mr(E,void 0,c)),g.push(c)),!D.isRegistered&&D.id&&(i&&i.stop(),i=_t(),i.start("Registering builder component in registry"),await s.registerComponent({cmpId:D.id}),i.stop(`<${D.importName}> added to the builder registry`))}a.builderPublicKey&&await Io(e,a.builderPublicKey,s,!0),u?(g.length===1?U.success(`${(0,ee.bgGreen)((0,ee.bold)((0,ee.white)(" Done! \u{1F389} ")))} New mapper file saved in: ${(0,ee.dim)(g[0])}`):U.success(`${(0,ee.bgGreen)((0,ee.bold)((0,ee.white)(" Done! \u{1F389} ")))} Created ${g.length} new mapping files:
${g.map(y=>`  - ${y}`).join(`
`)}`),Et((0,ee.dim)(`Figma mappings need to be published to come into effect. You can do this by running:

   `)+(0,ee.bgBlack)((0,ee.white)((0,ee.bold)(` npx ${ar()} figma publish `)))+`

   `+(0,ee.dim)("Read more: https://www.builder.io/c/docs/cli-mapping#publishing-a-new-mapping")),await Te("figma add success",{spaceId:a.builderPublicKey,mappingPath:u,mode:r.componentName?"non-interactive":"interactive"})):Et("No new mappings were created.")};async function jN(e){let t=`${fs.default.existsSync("src")?"src/":""}mappings/${e}`,n=await xt({message:`Where do you want to save the new mapping? ${(0,ee.dim)("(Ctrl+C to exit)")}`,defaultValue:t,placeholder:t,initialValue:t,validate(i){if((0,s0.isAbsolute)(i))return"Please enter a relative path, not absolute";if(!vt(i))return"Please enter a path that ends with '.mapper.{tsx,jsx,ts,js,mjs}'";if(fs.default.existsSync(i))return"File already exists, please choose a different name"}});return Me(n)?(ge("Mapping not saved, goodbye!"),await Q(1)):n}async function KN(e,r){return e.length<=1?e.map(([,t])=>t.key):await qN(e,r)}async function VN(){let e=await xt({message:`How does the mapping look? ${(0,ee.dim)('Reply "good", or provide feedback (Ctrl+C to exit)')}`,defaultValue:"good",placeholder:"good"});return Me(e)?(ge("Mapping not saved, goodbye!"),await Q(1)):e}async function zN(e){let r=await xt({message:`Providing a docs URL for ${e.name} can drastically improve results: ${(0,ee.dim)("(Ctrl+C to skip)")}`,placeholder:"https://",validate(t){if(t=t.trim(),t&&!t.startsWith("https://"))return"Please enter a valid URL"}});return Me(r)?"":r}async function qN(e,r){let t=await sf({message:`Pick which ${(0,ee.magenta)("\u2756")} Figma components you want to connect to code:`,required:!0,options:e.map(([,n])=>({label:`${n.name}${r.some(i=>i.figmaKey===n.key)?(0,ee.dim)(" (already mapped)"):""}`,value:n.key})),initialValues:e.map(([,n])=>n.key).filter(n=>!r.some(i=>i.figmaKey===n))});return Me(t)?(ge("Mapping not saved, goodbye!"),await Q(1)):t}async function WN(e){if(!e||e.length===0||e.length===0)return null;let r=e.map(o=>({title:o.name,value:o.name})),t=await(0,Ol.default)({type:"autocomplete",name:"package",message:"Select an installed external package:",hint:"Type or use arrow keys. Press Enter to select",choices:r,async suggest(o,a){return o=o.toLowerCase(),a.map(u=>{let c=u.value.trim().toLowerCase(),p=0;return o.length===0?p=0:p=(0,No.distance)(o,c),{...u,distance:p}}).sort((u,c)=>u.distance-c.distance).filter(u=>u.title.toLowerCase().includes(o))}});if(!t.package)return ge("Package selection cancelled"),await Q(1);let n=t.package,i=e.find(o=>o.name===t.package);function s(o){return/^[A-Z]/.test(o)}if(i&&i.subPackages.length>0){let o=i.subPackages.filter(a=>!a0.has(a)&&s(a));if(o.length>0){let a=[{title:`${i.name} ${(0,ee.dim)("(Ctrl+C)")}`,value:null},...o.map(u=>({title:`${(0,ee.dim)(i.name)}/${u}`,value:u}))],l=await(0,Ol.default)({type:"autocomplete",name:"subPackage",message:"Select a component subpackage (optional):",hint:"Type or use arrow keys. Press Enter to select",async suggest(u,c){return u=u.toLowerCase().replace(i.name,""),c.map(d=>{if(d.value===null)return{...d,distance:0};let m=d.value?d.value.trim().toLowerCase():i.name,f=0;return u.length===0?f=0:f=(0,No.distance)(u,m),{...d,distance:f}}).sort((d,m)=>d.distance-m.distance).filter(d=>d.title.toLowerCase().includes(u))},choices:a});l.subPackage!==`${i.name} ${(0,ee.dim)("(Ctrl+C)")}`&&(n=`${t.package}/${l.subPackage}`)}}return n}var a0=new Set(["react","react-dom","next","nextjs","typescript","babel","webpack","eslint","prettier","jest","lodash","axios","express","moment","redux","react-redux","styled-components","emotion","@types/react","@types/node","utils","helpers","date-fns","constants","types","interfaces","hooks","gray-matter","context","providers","store","reducers","actions","services","api","clsx","class-variance-authority","lucide-react","dotenv","classnames"]),GN=e=>e.startsWith("@types")||e.startsWith("@emotion")||e.startsWith("@builder.io")||e.startsWith("eslint")||e.startsWith("prettier")||e.startsWith("jest")||e.startsWith("lodash")||e.startsWith("remark")||e.includes("autoprefixer")||e.includes("tailwind")||e.includes("postcss")||e.includes("webpack")||e.includes("babel")||e.includes("typescript")||e.includes("types")||e.includes("rollup")||e.includes("vite")||e.includes("esbuild")||e.includes("storybook")||e.includes("testing-library")||e.includes("cypress")?!0:a0.has(e);async function i0(e,r,t){let n="",i=r.toLowerCase();function s(l){let u=l.importName.toLowerCase(),c=(0,No.distance)(u,i);return u.includes(i)&&(c-=i.length),c}let o=e.slice().sort((l,u)=>{let c=s(l),p=s(u);return c===p?l.importName.localeCompare(u.importName):c-p}).map(l=>{let u=`${l.importName}`;return s(l)<3?u=(0,ee.bold)((0,ee.yellow)("\u2605 ")+u):u=u,{title:n+u+(0,ee.dim)(` from '${l.importPath}'`),value:l}});return o.push({title:n+"\u23ED\uFE0F  Skip "+(0,ee.dim)("(Ctrl+C)"),value:"skip"}),o.push({title:n+"\u{1F3D7}\uFE0F  Scaffold Mapper "+(0,ee.dim)("(Generate interface only)"),value:"scaffold"}),t&&o.push({title:n+"\u{1F4E6} External npm package",value:"external package"}),(await(0,Ol.default)({type:"autocomplete",name:"component",message:` Select a code component to map ${(0,ee.bold)((0,ee.magenta)(`\u2756 ${r}`))}`,hint:"Type or use arrow keys. Press Enter to select",async suggest(l,u){l=l.toLowerCase();let c=l.length===0?i:l;return u.map(d=>{let m=(typeof d.value=="string"?d.value:d.value.importName).trim().toLowerCase(),f=0;return l.length===0&&typeof d.value=="string"?f=2:(f=(0,No.distance)(c,m),m.includes(i)&&(f-=i.length),typeof d.value=="string"&&(f+=1e3)),{...d,distance:f}}).sort((d,m)=>d.distance-m.distance).filter(d=>d.value==="external package"||d.value==="skip"?!0:d.title.toLowerCase().includes(l))},choices:o})).component}async function*HN(e,r,t){let n=JSON.stringify(r),i=new URL(`${Zt}/mappings/completions/v3`);e.builderPublicKey&&i.searchParams.set("apiKey",e.builderPublicKey),e.userId&&i.searchParams.set("userId",e.userId),t&&console.log("FETCH",i,n);let s={"Content-Type":"application/json"};e.builderPrivateKey&&(s.Authorization=`Bearer ${e.builderPrivateKey}`);let o=await pt(i,{method:"POST",body:n,headers:s});if(!o.ok)throw new Error(`Failed to generate completion:
`+await o.text());let a=xl(o.body);for await(let l of a){if(l.length===0)continue;yield JSON.parse(l)}}var Ht=q(et(),1);var l0=require("child_process"),u0=async(e,r,t)=>{if(!t.skipInstallation&&await JN(e)&&(t.yes||await Rt({message:"Welcome to Builder.io! Would you like to set up your integration now?",active:"Yes, let's integrate!",inactive:"No, I'll do it later"})?await YN("npm",["init","builder.io@latest","--","--skip-question"],{stdio:"inherit",cwd:e.getAppRootDir()}).command||(ge(`Auto-install failed. You can install it manually by running ${(0,Ht.bold)("npm init builder.io@latest")}`),await Q(1)):ge(`Ok, you can install it later. By running ${(0,Ht.bold)("npm init builder.io@latest")}`)),r==="migrate")await t0(e,t);else if(r==="publish"||r==="p")await Hx(e,t);else if(r==="add"||r==="generate"||r==="gen"||r==="g")await o0(e,t);else if(r==="auth"){console.log(""),tt((0,Ht.bgCyan)((0,Ht.bold)((0,Ht.white)(" figma auth ")))+"  "+(0,Ht.dim)(Re));let{builderPublicKey:n}=await yt(e,t,{figmaAuth:!0,builderPrivateKey:!0,builderPublicKey:!0,force:!0});await Te("figma auth",{spaceId:n}),Et((0,Ht.bgGreen)((0,Ht.bold)((0,Ht.white)(" Done! \u{1F389} "))))}else r==="help"&&Tr(t._[2])};async function JN(e){let r=e.getFrameworks(),t=["next","angular","@angular/core"];if(!r.some(n=>t.includes(n.name)))return!1;try{let n=await tn(e,e.getRepoRootDir());if(!n||!!n.devDependencies?.["@builder.io/dev-tools"]||!!n.dependencies?.["@builder.io/dev-tools"])return!1}catch{return!1}return!0}function YN(e,r,t){let n,i=new Promise(o=>{try{n=(0,l0.spawn)(e,r,{stdio:"inherit",...t}),n.on("error",a=>{o(!1)}),n.on("close",a=>{o(a===0)})}catch{o(!1)}});return{abort:async()=>{n&&n.kill("SIGINT")},command:i}}var m0=q(require("@amplitude/analytics-node"),1);b();function Ad(e,r){return{cwd:e,command:r[0],snippetId:r[1],path:r[2]}}var vd=q(require("@sentry/node"),1);var Fo=q(et(),1),h0=q(et(),1),Rl=q(et(),1),ms=q(et(),1);async function XN(e){console.log(""),tt((0,Fo.bgMagenta)((0,Rl.bold)((0,ms.white)(" dev-tools server ")))+"  "+(0,Fo.dim)(Re)),e.debug("builder dev tools cli init");let r=await(0,c0.createDevTools)(e);await(0,d0.createDevToolsServer)({...r,getClientId:()=>"builder-dev-tools-cli",closeAppServer:async()=>{},restartAppServer:async()=>{e.debug("restart server")},enableAppWatch:async t=>t,...e})}var g0=async()=>{await m0.flush().promise,process.exit(0)};process.on("SIGINT",g0);process.on("SIGTERM",g0);async function QN(){try{let e=(0,f0.default)(process.argv.slice(2),{string:["figmaToken","privateKey","spaceId","cwd","prompt","mode","token","url"],boolean:["help","ci","force","verbose","debug","dryrun","yes","skipInstallation"]});await mD(!!(e.verbose||e.debug));let r=await(0,p0.createDevToolsNodeSys)({cwd:process.cwd(),ignoreMissingConfig:!0});if(r.Sentry?.setContext("flags-args",{...e}),await yt(r,e,{}),e.help)return Tr(e._[e._.length-1]),await Q(0);let t=e._[0];if(e.cwd&&(console.log("changing cwd",e.cwd),process.chdir(e.cwd)),t==="figma"){let n=e._[1];try{return await u0(r,n,e),await Q(0)}catch(i){return r.Sentry?.captureException(i),await Q(1)}}else if(t==="code"){let n=e._[1];try{await qx(r,n,e)}catch(i){return r.Sentry?.captureException(i),await Q(1)}}else if(t==="add"){let n=Ad(r.getAppRootDir(),process.argv.slice(2));return await ZD(n),await Q(0)}else if(t==="sync"){let n=Ad(r.getAppRootDir(),process.argv.slice(2)),i=await qp(n);ax(r,i).then(()=>{U.success("Builder dev tools is running")}).catch(s=>(U.error("Cannot start builder dev tools"),r.Sentry?.captureException(s),Q(1)))}else if(t==="auth"){console.log(""),tt((0,ms.bgCyan)((0,Rl.bold)((0,ms.white)(" figma auth ")))+"  "+(0,Fo.dim)(Re));let{builderPublicKey:n}=await yt(r,e,{builderPrivateKey:!0,builderPublicKey:!0,force:!0});return await Te("auth",{spaceId:n}),Et((0,h0.bgGreen)((0,Rl.bold)((0,ms.white)(" Done! \u{1F389} ")))),await Q(0)}else{if(t==="help")return Tr(e._[1]),await Q(0);if(t==="publish"||t==="migrate"||t==="generate")return ge("Command not found, do you mean `npx builder.io figma "+t+"`?"),await Q(1);XN(r).then(()=>{U.success("Builder dev tools is running")}).catch(n=>(U.error("Cannot start builder dev tools"),vd.captureException(n),Q(1)))}}catch(e){return vd.captureException(e),await Q(1)}}QN();var ZN=void 0;
//# sourceMappingURL=index.cjs.map
